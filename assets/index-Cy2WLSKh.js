(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function $c(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const nt={},Ws=[],sr=()=>{},sg=()=>!1,Wl=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),Qc=t=>t.startsWith("onUpdate:"),Qt=Object.assign,Yc=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},e_=Object.prototype.hasOwnProperty,Ye=(t,e)=>e_.call(t,e),ke=Array.isArray,$s=t=>Sa(t)==="[object Map]",$l=t=>Sa(t)==="[object Set]",wh=t=>Sa(t)==="[object Date]",Me=t=>typeof t=="function",Tt=t=>typeof t=="string",dr=t=>typeof t=="symbol",rt=t=>t!==null&&typeof t=="object",og=t=>(rt(t)||Me(t))&&Me(t.then)&&Me(t.catch),ag=Object.prototype.toString,Sa=t=>ag.call(t),t_=t=>Sa(t).slice(8,-1),lg=t=>Sa(t)==="[object Object]",Xc=t=>Tt(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,$o=$c(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Ql=t=>{const e=Object.create(null);return(n=>e[n]||(e[n]=t(n)))},n_=/-\w/g,kn=Ql(t=>t.replace(n_,e=>e.slice(1).toUpperCase())),r_=/\B([A-Z])/g,us=Ql(t=>t.replace(r_,"-$1").toLowerCase()),Yl=Ql(t=>t.charAt(0).toUpperCase()+t.slice(1)),Nu=Ql(t=>t?`on${Yl(t)}`:""),gi=(t,e)=>!Object.is(t,e),el=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},ug=(t,e,n,r=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:r,value:n})},Xl=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let Ah;const Jl=()=>Ah||(Ah=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Jc(t){if(ke(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],i=Tt(r)?a_(r):Jc(r);if(i)for(const s in i)e[s]=i[s]}return e}else if(Tt(t)||rt(t))return t}const i_=/;(?![^(]*\))/g,s_=/:([^]+)/,o_=/\/\*[^]*?\*\//g;function a_(t){const e={};return t.replace(o_,"").split(i_).forEach(n=>{if(n){const r=n.split(s_);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function Zc(t){let e="";if(Tt(t))e=t;else if(ke(t))for(let n=0;n<t.length;n++){const r=Zc(t[n]);r&&(e+=r+" ")}else if(rt(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const l_="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",u_=$c(l_);function cg(t){return!!t||t===""}function c_(t,e){if(t.length!==e.length)return!1;let n=!0;for(let r=0;n&&r<t.length;r++)n=Zl(t[r],e[r]);return n}function Zl(t,e){if(t===e)return!0;let n=wh(t),r=wh(e);if(n||r)return n&&r?t.getTime()===e.getTime():!1;if(n=dr(t),r=dr(e),n||r)return t===e;if(n=ke(t),r=ke(e),n||r)return n&&r?c_(t,e):!1;if(n=rt(t),r=rt(e),n||r){if(!n||!r)return!1;const i=Object.keys(t).length,s=Object.keys(e).length;if(i!==s)return!1;for(const o in t){const a=t.hasOwnProperty(o),l=e.hasOwnProperty(o);if(a&&!l||!a&&l||!Zl(t[o],e[o]))return!1}}return String(t)===String(e)}function f_(t,e){return t.findIndex(n=>Zl(n,e))}const fg=t=>!!(t&&t.__v_isRef===!0),cn=t=>Tt(t)?t:t==null?"":ke(t)||rt(t)&&(t.toString===ag||!Me(t.toString))?fg(t)?cn(t.value):JSON.stringify(t,hg,2):String(t),hg=(t,e)=>fg(e)?hg(t,e.value):$s(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,i],s)=>(n[ku(r,s)+" =>"]=i,n),{})}:$l(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>ku(n))}:dr(e)?ku(e):rt(e)&&!ke(e)&&!lg(e)?String(e):e,ku=(t,e="")=>{var n;return dr(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};let ln;class h_{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=ln,!e&&ln&&(this.index=(ln.scopes||(ln.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=ln;try{return ln=this,e()}finally{ln=n}}}on(){++this._on===1&&(this.prevScope=ln,ln=this)}off(){this._on>0&&--this._on===0&&(ln=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(this.effects.length=0,n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0}}}function d_(){return ln}let it;const xu=new WeakSet;class dg{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,ln&&ln.active&&ln.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,xu.has(this)&&(xu.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||gg(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Ih(this),mg(this);const e=it,n=Hn;it=this,Hn=!0;try{return this.fn()}finally{yg(this),it=e,Hn=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)nf(e);this.deps=this.depsTail=void 0,Ih(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?xu.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){sc(this)&&this.run()}get dirty(){return sc(this)}}let pg=0,Qo,Yo;function gg(t,e=!1){if(t.flags|=8,e){t.next=Yo,Yo=t;return}t.next=Qo,Qo=t}function ef(){pg++}function tf(){if(--pg>0)return;if(Yo){let e=Yo;for(Yo=void 0;e;){const n=e.next;e.next=void 0,e.flags&=-9,e=n}}let t;for(;Qo;){let e=Qo;for(Qo=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(r){t||(t=r)}e=n}}if(t)throw t}function mg(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function yg(t){let e,n=t.depsTail,r=n;for(;r;){const i=r.prevDep;r.version===-1?(r===n&&(n=i),nf(r),p_(r)):e=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=i}t.deps=e,t.depsTail=n}function sc(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(vg(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function vg(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===ca)||(t.globalVersion=ca,!t.isSSR&&t.flags&128&&(!t.deps&&!t._dirty||!sc(t))))return;t.flags|=2;const e=t.dep,n=it,r=Hn;it=t,Hn=!0;try{mg(t);const i=t.fn(t._value);(e.version===0||gi(i,t._value))&&(t.flags|=128,t._value=i,e.version++)}catch(i){throw e.version++,i}finally{it=n,Hn=r,yg(t),t.flags&=-3}}function nf(t,e=!1){const{dep:n,prevSub:r,nextSub:i}=t;if(r&&(r.nextSub=i,t.prevSub=void 0),i&&(i.prevSub=r,t.nextSub=void 0),n.subs===t&&(n.subs=r,!r&&n.computed)){n.computed.flags&=-5;for(let s=n.computed.deps;s;s=s.nextDep)nf(s,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function p_(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}let Hn=!0;const _g=[];function Ur(){_g.push(Hn),Hn=!1}function Fr(){const t=_g.pop();Hn=t===void 0?!0:t}function Ih(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=it;it=void 0;try{e()}finally{it=n}}}let ca=0;class g_{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class rf{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(e){if(!it||!Hn||it===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==it)n=this.activeLink=new g_(it,this),it.deps?(n.prevDep=it.depsTail,it.depsTail.nextDep=n,it.depsTail=n):it.deps=it.depsTail=n,bg(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const r=n.nextDep;r.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=r),n.prevDep=it.depsTail,n.nextDep=void 0,it.depsTail.nextDep=n,it.depsTail=n,it.deps===n&&(it.deps=r)}return n}trigger(e){this.version++,ca++,this.notify(e)}notify(e){ef();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{tf()}}}function bg(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let r=e.deps;r;r=r.nextDep)bg(r)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const oc=new WeakMap,Ji=Symbol(""),ac=Symbol(""),fa=Symbol("");function zt(t,e,n){if(Hn&&it){let r=oc.get(t);r||oc.set(t,r=new Map);let i=r.get(n);i||(r.set(n,i=new rf),i.map=r,i.key=n),i.track()}}function kr(t,e,n,r,i,s){const o=oc.get(t);if(!o){ca++;return}const a=l=>{l&&l.trigger()};if(ef(),e==="clear")o.forEach(a);else{const l=ke(t),c=l&&Xc(n);if(l&&n==="length"){const f=Number(r);o.forEach((h,d)=>{(d==="length"||d===fa||!dr(d)&&d>=f)&&a(h)})}else switch((n!==void 0||o.has(void 0))&&a(o.get(n)),c&&a(o.get(fa)),e){case"add":l?c&&a(o.get("length")):(a(o.get(Ji)),$s(t)&&a(o.get(ac)));break;case"delete":l||(a(o.get(Ji)),$s(t)&&a(o.get(ac)));break;case"set":$s(t)&&a(o.get(Ji));break}}tf()}function Ls(t){const e=Qe(t);return e===t?e:(zt(e,"iterate",fa),Nn(t)?e:e.map(Gn))}function eu(t){return zt(t=Qe(t),"iterate",fa),t}function si(t,e){return jr(t)?Zi(t)?io(Gn(e)):io(e):Gn(e)}const m_={__proto__:null,[Symbol.iterator](){return Du(this,Symbol.iterator,t=>si(this,t))},concat(...t){return Ls(this).concat(...t.map(e=>ke(e)?Ls(e):e))},entries(){return Du(this,"entries",t=>(t[1]=si(this,t[1]),t))},every(t,e){return Pr(this,"every",t,e,void 0,arguments)},filter(t,e){return Pr(this,"filter",t,e,n=>n.map(r=>si(this,r)),arguments)},find(t,e){return Pr(this,"find",t,e,n=>si(this,n),arguments)},findIndex(t,e){return Pr(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return Pr(this,"findLast",t,e,n=>si(this,n),arguments)},findLastIndex(t,e){return Pr(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return Pr(this,"forEach",t,e,void 0,arguments)},includes(...t){return Lu(this,"includes",t)},indexOf(...t){return Lu(this,"indexOf",t)},join(t){return Ls(this).join(t)},lastIndexOf(...t){return Lu(this,"lastIndexOf",t)},map(t,e){return Pr(this,"map",t,e,void 0,arguments)},pop(){return Lo(this,"pop")},push(...t){return Lo(this,"push",t)},reduce(t,...e){return Sh(this,"reduce",t,e)},reduceRight(t,...e){return Sh(this,"reduceRight",t,e)},shift(){return Lo(this,"shift")},some(t,e){return Pr(this,"some",t,e,void 0,arguments)},splice(...t){return Lo(this,"splice",t)},toReversed(){return Ls(this).toReversed()},toSorted(t){return Ls(this).toSorted(t)},toSpliced(...t){return Ls(this).toSpliced(...t)},unshift(...t){return Lo(this,"unshift",t)},values(){return Du(this,"values",t=>si(this,t))}};function Du(t,e,n){const r=eu(t),i=r[e]();return r!==t&&!Nn(t)&&(i._next=i.next,i.next=()=>{const s=i._next();return s.done||(s.value=n(s.value)),s}),i}const y_=Array.prototype;function Pr(t,e,n,r,i,s){const o=eu(t),a=o!==t&&!Nn(t),l=o[e];if(l!==y_[e]){const h=l.apply(t,s);return a?Gn(h):h}let c=n;o!==t&&(a?c=function(h,d){return n.call(this,si(t,h),d,t)}:n.length>2&&(c=function(h,d){return n.call(this,h,d,t)}));const f=l.call(o,c,r);return a&&i?i(f):f}function Sh(t,e,n,r){const i=eu(t);let s=n;return i!==t&&(Nn(t)?n.length>3&&(s=function(o,a,l){return n.call(this,o,a,l,t)}):s=function(o,a,l){return n.call(this,o,si(t,a),l,t)}),i[e](s,...r)}function Lu(t,e,n){const r=Qe(t);zt(r,"iterate",fa);const i=r[e](...n);return(i===-1||i===!1)&&af(n[0])?(n[0]=Qe(n[0]),r[e](...n)):i}function Lo(t,e,n=[]){Ur(),ef();const r=Qe(t)[e].apply(t,n);return tf(),Fr(),r}const v_=$c("__proto__,__v_isRef,__isVue"),Eg=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(dr));function __(t){dr(t)||(t=String(t));const e=Qe(this);return zt(e,"has",t),e.hasOwnProperty(t)}class Tg{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,r){if(n==="__v_skip")return e.__v_skip;const i=this._isReadonly,s=this._isShallow;if(n==="__v_isReactive")return!i;if(n==="__v_isReadonly")return i;if(n==="__v_isShallow")return s;if(n==="__v_raw")return r===(i?s?P_:Sg:s?Ig:Ag).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const o=ke(e);if(!i){let l;if(o&&(l=m_[n]))return l;if(n==="hasOwnProperty")return __}const a=Reflect.get(e,n,$t(e)?e:r);if((dr(n)?Eg.has(n):v_(n))||(i||zt(e,"get",n),s))return a;if($t(a)){const l=o&&Xc(n)?a:a.value;return i&&rt(l)?uc(l):l}return rt(a)?i?uc(a):vo(a):a}}class wg extends Tg{constructor(e=!1){super(!1,e)}set(e,n,r,i){let s=e[n];const o=ke(e)&&Xc(n);if(!this._isShallow){const c=jr(s);if(!Nn(r)&&!jr(r)&&(s=Qe(s),r=Qe(r)),!o&&$t(s)&&!$t(r))return c||(s.value=r),!0}const a=o?Number(n)<e.length:Ye(e,n),l=Reflect.set(e,n,r,$t(e)?e:i);return e===Qe(i)&&(a?gi(r,s)&&kr(e,"set",n,r):kr(e,"add",n,r)),l}deleteProperty(e,n){const r=Ye(e,n);e[n];const i=Reflect.deleteProperty(e,n);return i&&r&&kr(e,"delete",n,void 0),i}has(e,n){const r=Reflect.has(e,n);return(!dr(n)||!Eg.has(n))&&zt(e,"has",n),r}ownKeys(e){return zt(e,"iterate",ke(e)?"length":Ji),Reflect.ownKeys(e)}}class b_ extends Tg{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const E_=new wg,T_=new b_,w_=new wg(!0);const lc=t=>t,za=t=>Reflect.getPrototypeOf(t);function A_(t,e,n){return function(...r){const i=this.__v_raw,s=Qe(i),o=$s(s),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,c=i[t](...r),f=n?lc:e?io:Gn;return!e&&zt(s,"iterate",l?ac:Ji),{next(){const{value:h,done:d}=c.next();return d?{value:h,done:d}:{value:a?[f(h[0]),f(h[1])]:f(h),done:d}},[Symbol.iterator](){return this}}}}function Ka(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function I_(t,e){const n={get(i){const s=this.__v_raw,o=Qe(s),a=Qe(i);t||(gi(i,a)&&zt(o,"get",i),zt(o,"get",a));const{has:l}=za(o),c=e?lc:t?io:Gn;if(l.call(o,i))return c(s.get(i));if(l.call(o,a))return c(s.get(a));s!==o&&s.get(i)},get size(){const i=this.__v_raw;return!t&&zt(Qe(i),"iterate",Ji),i.size},has(i){const s=this.__v_raw,o=Qe(s),a=Qe(i);return t||(gi(i,a)&&zt(o,"has",i),zt(o,"has",a)),i===a?s.has(i):s.has(i)||s.has(a)},forEach(i,s){const o=this,a=o.__v_raw,l=Qe(a),c=e?lc:t?io:Gn;return!t&&zt(l,"iterate",Ji),a.forEach((f,h)=>i.call(s,c(f),c(h),o))}};return Qt(n,t?{add:Ka("add"),set:Ka("set"),delete:Ka("delete"),clear:Ka("clear")}:{add(i){!e&&!Nn(i)&&!jr(i)&&(i=Qe(i));const s=Qe(this);return za(s).has.call(s,i)||(s.add(i),kr(s,"add",i,i)),this},set(i,s){!e&&!Nn(s)&&!jr(s)&&(s=Qe(s));const o=Qe(this),{has:a,get:l}=za(o);let c=a.call(o,i);c||(i=Qe(i),c=a.call(o,i));const f=l.call(o,i);return o.set(i,s),c?gi(s,f)&&kr(o,"set",i,s):kr(o,"add",i,s),this},delete(i){const s=Qe(this),{has:o,get:a}=za(s);let l=o.call(s,i);l||(i=Qe(i),l=o.call(s,i)),a&&a.call(s,i);const c=s.delete(i);return l&&kr(s,"delete",i,void 0),c},clear(){const i=Qe(this),s=i.size!==0,o=i.clear();return s&&kr(i,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(i=>{n[i]=A_(i,t,e)}),n}function sf(t,e){const n=I_(t,e);return(r,i,s)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?r:Reflect.get(Ye(n,i)&&i in r?n:r,i,s)}const S_={get:sf(!1,!1)},R_={get:sf(!1,!0)},O_={get:sf(!0,!1)};const Ag=new WeakMap,Ig=new WeakMap,Sg=new WeakMap,P_=new WeakMap;function C_(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function N_(t){return t.__v_skip||!Object.isExtensible(t)?0:C_(t_(t))}function vo(t){return jr(t)?t:of(t,!1,E_,S_,Ag)}function Rg(t){return of(t,!1,w_,R_,Ig)}function uc(t){return of(t,!0,T_,O_,Sg)}function of(t,e,n,r,i){if(!rt(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const s=N_(t);if(s===0)return t;const o=i.get(t);if(o)return o;const a=new Proxy(t,s===2?r:n);return i.set(t,a),a}function Zi(t){return jr(t)?Zi(t.__v_raw):!!(t&&t.__v_isReactive)}function jr(t){return!!(t&&t.__v_isReadonly)}function Nn(t){return!!(t&&t.__v_isShallow)}function af(t){return t?!!t.__v_raw:!1}function Qe(t){const e=t&&t.__v_raw;return e?Qe(e):t}function k_(t){return!Ye(t,"__v_skip")&&Object.isExtensible(t)&&ug(t,"__v_skip",!0),t}const Gn=t=>rt(t)?vo(t):t,io=t=>rt(t)?uc(t):t;function $t(t){return t?t.__v_isRef===!0:!1}function Ze(t){return Og(t,!1)}function x_(t){return Og(t,!0)}function Og(t,e){return $t(t)?t:new D_(t,e)}class D_{constructor(e,n){this.dep=new rf,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:Qe(e),this._value=n?e:Gn(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,r=this.__v_isShallow||Nn(e)||jr(e);e=r?e:Qe(e),gi(e,n)&&(this._rawValue=e,this._value=r?e:Gn(e),this.dep.trigger())}}function Qs(t){return $t(t)?t.value:t}const L_={get:(t,e,n)=>e==="__v_raw"?t:Qs(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const i=t[e];return $t(i)&&!$t(n)?(i.value=n,!0):Reflect.set(t,e,n,r)}};function Pg(t){return Zi(t)?t:new Proxy(t,L_)}class M_{constructor(e,n,r){this.fn=e,this.setter=n,this._value=void 0,this.dep=new rf(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=ca-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&it!==this)return gg(this,!0),!0}get value(){const e=this.dep.track();return vg(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function V_(t,e,n=!1){let r,i;return Me(t)?r=t:(r=t.get,i=t.set),new M_(r,i,n)}const Ga={},ml=new WeakMap;let Gi;function U_(t,e=!1,n=Gi){if(n){let r=ml.get(n);r||ml.set(n,r=[]),r.push(t)}}function F_(t,e,n=nt){const{immediate:r,deep:i,once:s,scheduler:o,augmentJob:a,call:l}=n,c=g=>i?g:Nn(g)||i===!1||i===0?xr(g,1):xr(g);let f,h,d,p,w=!1,b=!1;if($t(t)?(h=()=>t.value,w=Nn(t)):Zi(t)?(h=()=>c(t),w=!0):ke(t)?(b=!0,w=t.some(g=>Zi(g)||Nn(g)),h=()=>t.map(g=>{if($t(g))return g.value;if(Zi(g))return c(g);if(Me(g))return l?l(g,2):g()})):Me(t)?e?h=l?()=>l(t,2):t:h=()=>{if(d){Ur();try{d()}finally{Fr()}}const g=Gi;Gi=f;try{return l?l(t,3,[p]):t(p)}finally{Gi=g}}:h=sr,e&&i){const g=h,T=i===!0?1/0:i;h=()=>xr(g(),T)}const E=d_(),_=()=>{f.stop(),E&&E.active&&Yc(E.effects,f)};if(s&&e){const g=e;e=(...T)=>{g(...T),_()}}let v=b?new Array(t.length).fill(Ga):Ga;const y=g=>{if(!(!(f.flags&1)||!f.dirty&&!g))if(e){const T=f.run();if(i||w||(b?T.some((x,S)=>gi(x,v[S])):gi(T,v))){d&&d();const x=Gi;Gi=f;try{const S=[T,v===Ga?void 0:b&&v[0]===Ga?[]:v,p];v=T,l?l(e,3,S):e(...S)}finally{Gi=x}}}else f.run()};return a&&a(y),f=new dg(h),f.scheduler=o?()=>o(y,!1):y,p=g=>U_(g,!1,f),d=f.onStop=()=>{const g=ml.get(f);if(g){if(l)l(g,4);else for(const T of g)T();ml.delete(f)}},e?r?y(!0):v=f.run():o?o(y.bind(null,!0),!0):f.run(),_.pause=f.pause.bind(f),_.resume=f.resume.bind(f),_.stop=_,_}function xr(t,e=1/0,n){if(e<=0||!rt(t)||t.__v_skip||(n=n||new Map,(n.get(t)||0)>=e))return t;if(n.set(t,e),e--,$t(t))xr(t.value,e,n);else if(ke(t))for(let r=0;r<t.length;r++)xr(t[r],e,n);else if($l(t)||$s(t))t.forEach(r=>{xr(r,e,n)});else if(lg(t)){for(const r in t)xr(t[r],e,n);for(const r of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,r)&&xr(t[r],e,n)}return t}function Ra(t,e,n,r){try{return r?t(...r):t()}catch(i){tu(i,e,n)}}function pr(t,e,n,r){if(Me(t)){const i=Ra(t,e,n,r);return i&&og(i)&&i.catch(s=>{tu(s,e,n)}),i}if(ke(t)){const i=[];for(let s=0;s<t.length;s++)i.push(pr(t[s],e,n,r));return i}}function tu(t,e,n,r=!0){const i=e?e.vnode:null,{errorHandler:s,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||nt;if(e){let a=e.parent;const l=e.proxy,c=`https://vuejs.org/error-reference/#runtime-${n}`;for(;a;){const f=a.ec;if(f){for(let h=0;h<f.length;h++)if(f[h](t,l,c)===!1)return}a=a.parent}if(s){Ur(),Ra(s,null,10,[t,l,c]),Fr();return}}j_(t,n,i,r,o)}function j_(t,e,n,r=!0,i=!1){if(i)throw t;console.error(t)}const rn=[];let nr=-1;const Ys=[];let oi=null,Fs=0;const Cg=Promise.resolve();let yl=null;function ha(t){const e=yl||Cg;return t?e.then(this?t.bind(this):t):e}function B_(t){let e=nr+1,n=rn.length;for(;e<n;){const r=e+n>>>1,i=rn[r],s=da(i);s<t||s===t&&i.flags&2?e=r+1:n=r}return e}function lf(t){if(!(t.flags&1)){const e=da(t),n=rn[rn.length-1];!n||!(t.flags&2)&&e>=da(n)?rn.push(t):rn.splice(B_(e),0,t),t.flags|=1,Ng()}}function Ng(){yl||(yl=Cg.then(xg))}function q_(t){ke(t)?Ys.push(...t):oi&&t.id===-1?oi.splice(Fs+1,0,t):t.flags&1||(Ys.push(t),t.flags|=1),Ng()}function Rh(t,e,n=nr+1){for(;n<rn.length;n++){const r=rn[n];if(r&&r.flags&2){if(t&&r.id!==t.uid)continue;rn.splice(n,1),n--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function kg(t){if(Ys.length){const e=[...new Set(Ys)].sort((n,r)=>da(n)-da(r));if(Ys.length=0,oi){oi.push(...e);return}for(oi=e,Fs=0;Fs<oi.length;Fs++){const n=oi[Fs];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}oi=null,Fs=0}}const da=t=>t.id==null?t.flags&2?-1:1/0:t.id;function xg(t){try{for(nr=0;nr<rn.length;nr++){const e=rn[nr];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),Ra(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;nr<rn.length;nr++){const e=rn[nr];e&&(e.flags&=-2)}nr=-1,rn.length=0,kg(),yl=null,(rn.length||Ys.length)&&xg()}}let _n=null,Dg=null;function vl(t){const e=_n;return _n=t,Dg=t&&t.type.__scopeId||null,e}function $i(t,e=_n,n){if(!e||t._n)return t;const r=(...i)=>{r._d&&El(-1);const s=vl(e);let o;try{o=t(...i)}finally{vl(s),r._d&&El(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function ns(t,e){if(_n===null)return t;const n=su(_n),r=t.dirs||(t.dirs=[]);for(let i=0;i<e.length;i++){let[s,o,a,l=nt]=e[i];s&&(Me(s)&&(s={mounted:s,updated:s}),s.deep&&xr(o),r.push({dir:s,instance:n,value:o,oldValue:void 0,arg:a,modifiers:l}))}return t}function zi(t,e,n,r){const i=t.dirs,s=e&&e.dirs;for(let o=0;o<i.length;o++){const a=i[o];s&&(a.oldValue=s[o].value);let l=a.dir[r];l&&(Ur(),pr(l,n,8,[t.el,a,t,e]),Fr())}}const H_=Symbol("_vte"),z_=t=>t.__isTeleport,K_=Symbol("_leaveCb");function uf(t,e){t.shapeFlag&6&&t.component?(t.transition=e,uf(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function cf(t,e){return Me(t)?Qt({name:t.name},e,{setup:t}):t}function Lg(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}const _l=new WeakMap;function Xo(t,e,n,r,i=!1){if(ke(t)){t.forEach((w,b)=>Xo(w,e&&(ke(e)?e[b]:e),n,r,i));return}if(Jo(r)&&!i){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&Xo(t,e,n,r.component.subTree);return}const s=r.shapeFlag&4?su(r.component):r.el,o=i?null:s,{i:a,r:l}=t,c=e&&e.r,f=a.refs===nt?a.refs={}:a.refs,h=a.setupState,d=Qe(h),p=h===nt?sg:w=>Ye(d,w);if(c!=null&&c!==l){if(Oh(e),Tt(c))f[c]=null,p(c)&&(h[c]=null);else if($t(c)){c.value=null;const w=e;w.k&&(f[w.k]=null)}}if(Me(l))Ra(l,a,12,[o,f]);else{const w=Tt(l),b=$t(l);if(w||b){const E=()=>{if(t.f){const _=w?p(l)?h[l]:f[l]:l.value;if(i)ke(_)&&Yc(_,s);else if(ke(_))_.includes(s)||_.push(s);else if(w)f[l]=[s],p(l)&&(h[l]=f[l]);else{const v=[s];l.value=v,t.k&&(f[t.k]=v)}}else w?(f[l]=o,p(l)&&(h[l]=o)):b&&(l.value=o,t.k&&(f[t.k]=o))};if(o){const _=()=>{E(),_l.delete(t)};_.id=-1,_l.set(t,_),yn(_,n)}else Oh(t),E()}}}function Oh(t){const e=_l.get(t);e&&(e.flags|=8,_l.delete(t))}Jl().requestIdleCallback;Jl().cancelIdleCallback;const Jo=t=>!!t.type.__asyncLoader,Mg=t=>t.type.__isKeepAlive;function G_(t,e){Vg(t,"a",e)}function W_(t,e){Vg(t,"da",e)}function Vg(t,e,n=Gt){const r=t.__wdc||(t.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(nu(e,r,n),n){let i=n.parent;for(;i&&i.parent;)Mg(i.parent.vnode)&&$_(r,e,n,i),i=i.parent}}function $_(t,e,n,r){const i=nu(e,t,r,!0);Fg(()=>{Yc(r[e],i)},n)}function nu(t,e,n=Gt,r=!1){if(n){const i=n[t]||(n[t]=[]),s=e.__weh||(e.__weh=(...o)=>{Ur();const a=Pa(n),l=pr(e,n,t,o);return a(),Fr(),l});return r?i.unshift(s):i.push(s),s}}const Gr=t=>(e,n=Gt)=>{(!ga||t==="sp")&&nu(t,(...r)=>e(...r),n)},Q_=Gr("bm"),_o=Gr("m"),Y_=Gr("bu"),X_=Gr("u"),Ug=Gr("bum"),Fg=Gr("um"),J_=Gr("sp"),Z_=Gr("rtg"),eb=Gr("rtc");function tb(t,e=Gt){nu("ec",t,e)}const nb="components";function Oa(t,e){return ib(nb,t,!0,e)||t}const rb=Symbol.for("v-ndc");function ib(t,e,n=!0,r=!1){const i=_n||Gt;if(i){const s=i.type;{const a=Gb(s,!1);if(a&&(a===e||a===kn(e)||a===Yl(kn(e))))return s}const o=Ph(i[t]||s[t],e)||Ph(i.appContext[t],e);return!o&&r?s:o}}function Ph(t,e){return t&&(t[e]||t[kn(e)]||t[Yl(kn(e))])}function cc(t,e,n,r){let i;const s=n,o=ke(t);if(o||Tt(t)){const a=o&&Zi(t);let l=!1,c=!1;a&&(l=!Nn(t),c=jr(t),t=eu(t)),i=new Array(t.length);for(let f=0,h=t.length;f<h;f++)i[f]=e(l?c?io(Gn(t[f])):Gn(t[f]):t[f],f,void 0,s)}else if(typeof t=="number"){i=new Array(t);for(let a=0;a<t;a++)i[a]=e(a+1,a,void 0,s)}else if(rt(t))if(t[Symbol.iterator])i=Array.from(t,(a,l)=>e(a,l,void 0,s));else{const a=Object.keys(t);i=new Array(a.length);for(let l=0,c=a.length;l<c;l++){const f=a[l];i[l]=e(t[f],f,l,s)}}else i=[];return i}const fc=t=>t?sm(t)?su(t):fc(t.parent):null,Zo=Qt(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>fc(t.parent),$root:t=>fc(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>Bg(t),$forceUpdate:t=>t.f||(t.f=()=>{lf(t.update)}),$nextTick:t=>t.n||(t.n=ha.bind(t.proxy)),$watch:t=>gb.bind(t)}),Mu=(t,e)=>t!==nt&&!t.__isScriptSetup&&Ye(t,e),sb={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:r,data:i,props:s,accessCache:o,type:a,appContext:l}=t;if(e[0]!=="$"){const d=o[e];if(d!==void 0)switch(d){case 1:return r[e];case 2:return i[e];case 4:return n[e];case 3:return s[e]}else{if(Mu(r,e))return o[e]=1,r[e];if(i!==nt&&Ye(i,e))return o[e]=2,i[e];if(Ye(s,e))return o[e]=3,s[e];if(n!==nt&&Ye(n,e))return o[e]=4,n[e];hc&&(o[e]=0)}}const c=Zo[e];let f,h;if(c)return e==="$attrs"&&zt(t.attrs,"get",""),c(t);if((f=a.__cssModules)&&(f=f[e]))return f;if(n!==nt&&Ye(n,e))return o[e]=4,n[e];if(h=l.config.globalProperties,Ye(h,e))return h[e]},set({_:t},e,n){const{data:r,setupState:i,ctx:s}=t;return Mu(i,e)?(i[e]=n,!0):r!==nt&&Ye(r,e)?(r[e]=n,!0):Ye(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(s[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:i,props:s,type:o}},a){let l;return!!(n[a]||t!==nt&&a[0]!=="$"&&Ye(t,a)||Mu(e,a)||Ye(s,a)||Ye(r,a)||Ye(Zo,a)||Ye(i.config.globalProperties,a)||(l=o.__cssModules)&&l[a])},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:Ye(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function Ch(t){return ke(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let hc=!0;function ob(t){const e=Bg(t),n=t.proxy,r=t.ctx;hc=!1,e.beforeCreate&&Nh(e.beforeCreate,t,"bc");const{data:i,computed:s,methods:o,watch:a,provide:l,inject:c,created:f,beforeMount:h,mounted:d,beforeUpdate:p,updated:w,activated:b,deactivated:E,beforeDestroy:_,beforeUnmount:v,destroyed:y,unmounted:g,render:T,renderTracked:x,renderTriggered:S,errorCaptured:A,serverPrefetch:C,expose:R,inheritAttrs:m,components:I,directives:O,filters:L}=e;if(c&&ab(c,r,null),o)for(const Y in o){const le=o[Y];Me(le)&&(r[Y]=le.bind(n))}if(i){const Y=i.call(n,n);rt(Y)&&(t.data=vo(Y))}if(hc=!0,s)for(const Y in s){const le=s[Y],Z=Me(le)?le.bind(n,n):Me(le.get)?le.get.bind(n,n):sr,q=!Me(le)&&Me(le.set)?le.set.bind(n):sr,D=Wt({get:Z,set:q});Object.defineProperty(r,Y,{enumerable:!0,configurable:!0,get:()=>D.value,set:j=>D.value=j})}if(a)for(const Y in a)jg(a[Y],r,n,Y);if(l){const Y=Me(l)?l.call(n):l;Reflect.ownKeys(Y).forEach(le=>{tl(le,Y[le])})}f&&Nh(f,t,"c");function X(Y,le){ke(le)?le.forEach(Z=>Y(Z.bind(n))):le&&Y(le.bind(n))}if(X(Q_,h),X(_o,d),X(Y_,p),X(X_,w),X(G_,b),X(W_,E),X(tb,A),X(eb,x),X(Z_,S),X(Ug,v),X(Fg,g),X(J_,C),ke(R))if(R.length){const Y=t.exposed||(t.exposed={});R.forEach(le=>{Object.defineProperty(Y,le,{get:()=>n[le],set:Z=>n[le]=Z,enumerable:!0})})}else t.exposed||(t.exposed={});T&&t.render===sr&&(t.render=T),m!=null&&(t.inheritAttrs=m),I&&(t.components=I),O&&(t.directives=O),C&&Lg(t)}function ab(t,e,n=sr){ke(t)&&(t=dc(t));for(const r in t){const i=t[r];let s;rt(i)?"default"in i?s=zn(i.from||r,i.default,!0):s=zn(i.from||r):s=zn(i),$t(s)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>s.value,set:o=>s.value=o}):e[r]=s}}function Nh(t,e,n){pr(ke(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function jg(t,e,n,r){let i=r.includes(".")?zg(n,r):()=>n[r];if(Tt(t)){const s=e[t];Me(s)&&es(i,s)}else if(Me(t))es(i,t.bind(n));else if(rt(t))if(ke(t))t.forEach(s=>jg(s,e,n,r));else{const s=Me(t.handler)?t.handler.bind(n):e[t.handler];Me(s)&&es(i,s,t)}}function Bg(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:i,optionsCache:s,config:{optionMergeStrategies:o}}=t.appContext,a=s.get(e);let l;return a?l=a:!i.length&&!n&&!r?l=e:(l={},i.length&&i.forEach(c=>bl(l,c,o,!0)),bl(l,e,o)),rt(e)&&s.set(e,l),l}function bl(t,e,n,r=!1){const{mixins:i,extends:s}=e;s&&bl(t,s,n,!0),i&&i.forEach(o=>bl(t,o,n,!0));for(const o in e)if(!(r&&o==="expose")){const a=lb[o]||n&&n[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const lb={data:kh,props:xh,emits:xh,methods:Fo,computed:Fo,beforeCreate:en,created:en,beforeMount:en,mounted:en,beforeUpdate:en,updated:en,beforeDestroy:en,beforeUnmount:en,destroyed:en,unmounted:en,activated:en,deactivated:en,errorCaptured:en,serverPrefetch:en,components:Fo,directives:Fo,watch:cb,provide:kh,inject:ub};function kh(t,e){return e?t?function(){return Qt(Me(t)?t.call(this,this):t,Me(e)?e.call(this,this):e)}:e:t}function ub(t,e){return Fo(dc(t),dc(e))}function dc(t){if(ke(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function en(t,e){return t?[...new Set([].concat(t,e))]:e}function Fo(t,e){return t?Qt(Object.create(null),t,e):e}function xh(t,e){return t?ke(t)&&ke(e)?[...new Set([...t,...e])]:Qt(Object.create(null),Ch(t),Ch(e??{})):e}function cb(t,e){if(!t)return e;if(!e)return t;const n=Qt(Object.create(null),t);for(const r in e)n[r]=en(t[r],e[r]);return n}function qg(){return{app:null,config:{isNativeTag:sg,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let fb=0;function hb(t,e){return function(r,i=null){Me(r)||(r=Qt({},r)),i!=null&&!rt(i)&&(i=null);const s=qg(),o=new WeakSet,a=[];let l=!1;const c=s.app={_uid:fb++,_component:r,_props:i,_container:null,_context:s,_instance:null,version:$b,get config(){return s.config},set config(f){},use(f,...h){return o.has(f)||(f&&Me(f.install)?(o.add(f),f.install(c,...h)):Me(f)&&(o.add(f),f(c,...h))),c},mixin(f){return s.mixins.includes(f)||s.mixins.push(f),c},component(f,h){return h?(s.components[f]=h,c):s.components[f]},directive(f,h){return h?(s.directives[f]=h,c):s.directives[f]},mount(f,h,d){if(!l){const p=c._ceVNode||mt(r,i);return p.appContext=s,d===!0?d="svg":d===!1&&(d=void 0),t(p,f,d),l=!0,c._container=f,f.__vue_app__=c,su(p.component)}},onUnmount(f){a.push(f)},unmount(){l&&(pr(a,c._instance,16),t(null,c._container),delete c._container.__vue_app__)},provide(f,h){return s.provides[f]=h,c},runWithContext(f){const h=Xs;Xs=c;try{return f()}finally{Xs=h}}};return c}}let Xs=null;function tl(t,e){if(Gt){let n=Gt.provides;const r=Gt.parent&&Gt.parent.provides;r===n&&(n=Gt.provides=Object.create(r)),n[t]=e}}function zn(t,e,n=!1){const r=Bb();if(r||Xs){let i=Xs?Xs._context.provides:r?r.parent==null||r.ce?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(i&&t in i)return i[t];if(arguments.length>1)return n&&Me(e)?e.call(r&&r.proxy):e}}const db=Symbol.for("v-scx"),pb=()=>zn(db);function es(t,e,n){return Hg(t,e,n)}function Hg(t,e,n=nt){const{immediate:r,deep:i,flush:s,once:o}=n,a=Qt({},n),l=e&&r||!e&&s!=="post";let c;if(ga){if(s==="sync"){const p=pb();c=p.__watcherHandles||(p.__watcherHandles=[])}else if(!l){const p=()=>{};return p.stop=sr,p.resume=sr,p.pause=sr,p}}const f=Gt;a.call=(p,w,b)=>pr(p,f,w,b);let h=!1;s==="post"?a.scheduler=p=>{yn(p,f&&f.suspense)}:s!=="sync"&&(h=!0,a.scheduler=(p,w)=>{w?p():lf(p)}),a.augmentJob=p=>{e&&(p.flags|=4),h&&(p.flags|=2,f&&(p.id=f.uid,p.i=f))};const d=F_(t,e,a);return ga&&(c?c.push(d):l&&d()),d}function gb(t,e,n){const r=this.proxy,i=Tt(t)?t.includes(".")?zg(r,t):()=>r[t]:t.bind(r,r);let s;Me(e)?s=e:(s=e.handler,n=e);const o=Pa(this),a=Hg(i,s.bind(r),n);return o(),a}function zg(t,e){const n=e.split(".");return()=>{let r=t;for(let i=0;i<n.length&&r;i++)r=r[n[i]];return r}}const mb=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${kn(e)}Modifiers`]||t[`${us(e)}Modifiers`];function yb(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||nt;let i=n;const s=e.startsWith("update:"),o=s&&mb(r,e.slice(7));o&&(o.trim&&(i=n.map(f=>Tt(f)?f.trim():f)),o.number&&(i=n.map(Xl)));let a,l=r[a=Nu(e)]||r[a=Nu(kn(e))];!l&&s&&(l=r[a=Nu(us(e))]),l&&pr(l,t,6,i);const c=r[a+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,pr(c,t,6,i)}}const vb=new WeakMap;function Kg(t,e,n=!1){const r=n?vb:e.emitsCache,i=r.get(t);if(i!==void 0)return i;const s=t.emits;let o={},a=!1;if(!Me(t)){const l=c=>{const f=Kg(c,e,!0);f&&(a=!0,Qt(o,f))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!s&&!a?(rt(t)&&r.set(t,null),null):(ke(s)?s.forEach(l=>o[l]=null):Qt(o,s),rt(t)&&r.set(t,o),o)}function ru(t,e){return!t||!Wl(e)?!1:(e=e.slice(2).replace(/Once$/,""),Ye(t,e[0].toLowerCase()+e.slice(1))||Ye(t,us(e))||Ye(t,e))}function Dh(t){const{type:e,vnode:n,proxy:r,withProxy:i,propsOptions:[s],slots:o,attrs:a,emit:l,render:c,renderCache:f,props:h,data:d,setupState:p,ctx:w,inheritAttrs:b}=t,E=vl(t);let _,v;try{if(n.shapeFlag&4){const g=i||r,T=g;_=ir(c.call(T,g,f,h,p,d,w)),v=a}else{const g=e;_=ir(g.length>1?g(h,{attrs:a,slots:o,emit:l}):g(h,null)),v=e.props?a:_b(a)}}catch(g){ea.length=0,tu(g,t,1),_=mt(bi)}let y=_;if(v&&b!==!1){const g=Object.keys(v),{shapeFlag:T}=y;g.length&&T&7&&(s&&g.some(Qc)&&(v=bb(v,s)),y=so(y,v,!1,!0))}return n.dirs&&(y=so(y,null,!1,!0),y.dirs=y.dirs?y.dirs.concat(n.dirs):n.dirs),n.transition&&uf(y,n.transition),_=y,vl(E),_}const _b=t=>{let e;for(const n in t)(n==="class"||n==="style"||Wl(n))&&((e||(e={}))[n]=t[n]);return e},bb=(t,e)=>{const n={};for(const r in t)(!Qc(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function Eb(t,e,n){const{props:r,children:i,component:s}=t,{props:o,children:a,patchFlag:l}=e,c=s.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return r?Lh(r,o,c):!!o;if(l&8){const f=e.dynamicProps;for(let h=0;h<f.length;h++){const d=f[h];if(o[d]!==r[d]&&!ru(c,d))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?Lh(r,o,c):!0:!!o;return!1}function Lh(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let i=0;i<r.length;i++){const s=r[i];if(e[s]!==t[s]&&!ru(n,s))return!0}return!1}function Tb({vnode:t,parent:e},n){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=e.vnode).el=n,e=e.parent;else break}}const Gg={},Wg=()=>Object.create(Gg),$g=t=>Object.getPrototypeOf(t)===Gg;function wb(t,e,n,r=!1){const i={},s=Wg();t.propsDefaults=Object.create(null),Qg(t,e,i,s);for(const o in t.propsOptions[0])o in i||(i[o]=void 0);n?t.props=r?i:Rg(i):t.type.props?t.props=i:t.props=s,t.attrs=s}function Ab(t,e,n,r){const{props:i,attrs:s,vnode:{patchFlag:o}}=t,a=Qe(i),[l]=t.propsOptions;let c=!1;if((r||o>0)&&!(o&16)){if(o&8){const f=t.vnode.dynamicProps;for(let h=0;h<f.length;h++){let d=f[h];if(ru(t.emitsOptions,d))continue;const p=e[d];if(l)if(Ye(s,d))p!==s[d]&&(s[d]=p,c=!0);else{const w=kn(d);i[w]=pc(l,a,w,p,t,!1)}else p!==s[d]&&(s[d]=p,c=!0)}}}else{Qg(t,e,i,s)&&(c=!0);let f;for(const h in a)(!e||!Ye(e,h)&&((f=us(h))===h||!Ye(e,f)))&&(l?n&&(n[h]!==void 0||n[f]!==void 0)&&(i[h]=pc(l,a,h,void 0,t,!0)):delete i[h]);if(s!==a)for(const h in s)(!e||!Ye(e,h))&&(delete s[h],c=!0)}c&&kr(t.attrs,"set","")}function Qg(t,e,n,r){const[i,s]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if($o(l))continue;const c=e[l];let f;i&&Ye(i,f=kn(l))?!s||!s.includes(f)?n[f]=c:(a||(a={}))[f]=c:ru(t.emitsOptions,l)||(!(l in r)||c!==r[l])&&(r[l]=c,o=!0)}if(s){const l=Qe(n),c=a||nt;for(let f=0;f<s.length;f++){const h=s[f];n[h]=pc(i,l,h,c[h],t,!Ye(c,h))}}return o}function pc(t,e,n,r,i,s){const o=t[n];if(o!=null){const a=Ye(o,"default");if(a&&r===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&Me(l)){const{propsDefaults:c}=i;if(n in c)r=c[n];else{const f=Pa(i);r=c[n]=l.call(null,e),f()}}else r=l;i.ce&&i.ce._setProp(n,r)}o[0]&&(s&&!a?r=!1:o[1]&&(r===""||r===us(n))&&(r=!0))}return r}const Ib=new WeakMap;function Yg(t,e,n=!1){const r=n?Ib:e.propsCache,i=r.get(t);if(i)return i;const s=t.props,o={},a=[];let l=!1;if(!Me(t)){const f=h=>{l=!0;const[d,p]=Yg(h,e,!0);Qt(o,d),p&&a.push(...p)};!n&&e.mixins.length&&e.mixins.forEach(f),t.extends&&f(t.extends),t.mixins&&t.mixins.forEach(f)}if(!s&&!l)return rt(t)&&r.set(t,Ws),Ws;if(ke(s))for(let f=0;f<s.length;f++){const h=kn(s[f]);Mh(h)&&(o[h]=nt)}else if(s)for(const f in s){const h=kn(f);if(Mh(h)){const d=s[f],p=o[h]=ke(d)||Me(d)?{type:d}:Qt({},d),w=p.type;let b=!1,E=!0;if(ke(w))for(let _=0;_<w.length;++_){const v=w[_],y=Me(v)&&v.name;if(y==="Boolean"){b=!0;break}else y==="String"&&(E=!1)}else b=Me(w)&&w.name==="Boolean";p[0]=b,p[1]=E,(b||Ye(p,"default"))&&a.push(h)}}const c=[o,a];return rt(t)&&r.set(t,c),c}function Mh(t){return t[0]!=="$"&&!$o(t)}const ff=t=>t==="_"||t==="_ctx"||t==="$stable",hf=t=>ke(t)?t.map(ir):[ir(t)],Sb=(t,e,n)=>{if(e._n)return e;const r=$i((...i)=>hf(e(...i)),n);return r._c=!1,r},Xg=(t,e,n)=>{const r=t._ctx;for(const i in t){if(ff(i))continue;const s=t[i];if(Me(s))e[i]=Sb(i,s,r);else if(s!=null){const o=hf(s);e[i]=()=>o}}},Jg=(t,e)=>{const n=hf(e);t.slots.default=()=>n},Zg=(t,e,n)=>{for(const r in e)(n||!ff(r))&&(t[r]=e[r])},Rb=(t,e,n)=>{const r=t.slots=Wg();if(t.vnode.shapeFlag&32){const i=e._;i?(Zg(r,e,n),n&&ug(r,"_",i,!0)):Xg(e,r)}else e&&Jg(t,e)},Ob=(t,e,n)=>{const{vnode:r,slots:i}=t;let s=!0,o=nt;if(r.shapeFlag&32){const a=e._;a?n&&a===1?s=!1:Zg(i,e,n):(s=!e.$stable,Xg(e,i)),o=e}else e&&(Jg(t,e),o={default:1});if(s)for(const a in i)!ff(a)&&o[a]==null&&delete i[a]},yn=xb;function Pb(t){return Cb(t)}function Cb(t,e){const n=Jl();n.__VUE__=!0;const{insert:r,remove:i,patchProp:s,createElement:o,createText:a,createComment:l,setText:c,setElementText:f,parentNode:h,nextSibling:d,setScopeId:p=sr,insertStaticContent:w}=t,b=(B,K,ee,ue=null,he=null,ce=null,te=void 0,J=null,re=!!K.dynamicChildren)=>{if(B===K)return;B&&!Mo(B,K)&&(ue=V(B),j(B,he,ce,!0),B=null),K.patchFlag===-2&&(re=!1,K.dynamicChildren=null);const{type:ie,ref:ae,shapeFlag:pe}=K;switch(ie){case iu:E(B,K,ee,ue);break;case bi:_(B,K,ee,ue);break;case Uu:B==null&&v(K,ee,ue,te);break;case Pn:I(B,K,ee,ue,he,ce,te,J,re);break;default:pe&1?T(B,K,ee,ue,he,ce,te,J,re):pe&6?O(B,K,ee,ue,he,ce,te,J,re):(pe&64||pe&128)&&ie.process(B,K,ee,ue,he,ce,te,J,re,se)}ae!=null&&he?Xo(ae,B&&B.ref,ce,K||B,!K):ae==null&&B&&B.ref!=null&&Xo(B.ref,null,ce,B,!0)},E=(B,K,ee,ue)=>{if(B==null)r(K.el=a(K.children),ee,ue);else{const he=K.el=B.el;K.children!==B.children&&c(he,K.children)}},_=(B,K,ee,ue)=>{B==null?r(K.el=l(K.children||""),ee,ue):K.el=B.el},v=(B,K,ee,ue)=>{[B.el,B.anchor]=w(B.children,K,ee,ue,B.el,B.anchor)},y=({el:B,anchor:K},ee,ue)=>{let he;for(;B&&B!==K;)he=d(B),r(B,ee,ue),B=he;r(K,ee,ue)},g=({el:B,anchor:K})=>{let ee;for(;B&&B!==K;)ee=d(B),i(B),B=ee;i(K)},T=(B,K,ee,ue,he,ce,te,J,re)=>{if(K.type==="svg"?te="svg":K.type==="math"&&(te="mathml"),B==null)x(K,ee,ue,he,ce,te,J,re);else{const ie=B.el&&B.el._isVueCE?B.el:null;try{ie&&ie._beginPatch(),C(B,K,he,ce,te,J,re)}finally{ie&&ie._endPatch()}}},x=(B,K,ee,ue,he,ce,te,J)=>{let re,ie;const{props:ae,shapeFlag:pe,transition:ve,dirs:_e}=B;if(re=B.el=o(B.type,ce,ae&&ae.is,ae),pe&8?f(re,B.children):pe&16&&A(B.children,re,null,ue,he,Vu(B,ce),te,J),_e&&zi(B,null,ue,"created"),S(re,B,B.scopeId,te,ue),ae){for(const Ne in ae)Ne!=="value"&&!$o(Ne)&&s(re,Ne,null,ae[Ne],ce,ue);"value"in ae&&s(re,"value",null,ae.value,ce),(ie=ae.onVnodeBeforeMount)&&tr(ie,ue,B)}_e&&zi(B,null,ue,"beforeMount");const Se=Nb(he,ve);Se&&ve.beforeEnter(re),r(re,K,ee),((ie=ae&&ae.onVnodeMounted)||Se||_e)&&yn(()=>{ie&&tr(ie,ue,B),Se&&ve.enter(re),_e&&zi(B,null,ue,"mounted")},he)},S=(B,K,ee,ue,he)=>{if(ee&&p(B,ee),ue)for(let ce=0;ce<ue.length;ce++)p(B,ue[ce]);if(he){let ce=he.subTree;if(K===ce||nm(ce.type)&&(ce.ssContent===K||ce.ssFallback===K)){const te=he.vnode;S(B,te,te.scopeId,te.slotScopeIds,he.parent)}}},A=(B,K,ee,ue,he,ce,te,J,re=0)=>{for(let ie=re;ie<B.length;ie++){const ae=B[ie]=J?ai(B[ie]):ir(B[ie]);b(null,ae,K,ee,ue,he,ce,te,J)}},C=(B,K,ee,ue,he,ce,te)=>{const J=K.el=B.el;let{patchFlag:re,dynamicChildren:ie,dirs:ae}=K;re|=B.patchFlag&16;const pe=B.props||nt,ve=K.props||nt;let _e;if(ee&&Ki(ee,!1),(_e=ve.onVnodeBeforeUpdate)&&tr(_e,ee,K,B),ae&&zi(K,B,ee,"beforeUpdate"),ee&&Ki(ee,!0),(pe.innerHTML&&ve.innerHTML==null||pe.textContent&&ve.textContent==null)&&f(J,""),ie?R(B.dynamicChildren,ie,J,ee,ue,Vu(K,he),ce):te||le(B,K,J,null,ee,ue,Vu(K,he),ce,!1),re>0){if(re&16)m(J,pe,ve,ee,he);else if(re&2&&pe.class!==ve.class&&s(J,"class",null,ve.class,he),re&4&&s(J,"style",pe.style,ve.style,he),re&8){const Se=K.dynamicProps;for(let Ne=0;Ne<Se.length;Ne++){const we=Se[Ne],lt=pe[we],Oe=ve[we];(Oe!==lt||we==="value")&&s(J,we,lt,Oe,he,ee)}}re&1&&B.children!==K.children&&f(J,K.children)}else!te&&ie==null&&m(J,pe,ve,ee,he);((_e=ve.onVnodeUpdated)||ae)&&yn(()=>{_e&&tr(_e,ee,K,B),ae&&zi(K,B,ee,"updated")},ue)},R=(B,K,ee,ue,he,ce,te)=>{for(let J=0;J<K.length;J++){const re=B[J],ie=K[J],ae=re.el&&(re.type===Pn||!Mo(re,ie)||re.shapeFlag&198)?h(re.el):ee;b(re,ie,ae,null,ue,he,ce,te,!0)}},m=(B,K,ee,ue,he)=>{if(K!==ee){if(K!==nt)for(const ce in K)!$o(ce)&&!(ce in ee)&&s(B,ce,K[ce],null,he,ue);for(const ce in ee){if($o(ce))continue;const te=ee[ce],J=K[ce];te!==J&&ce!=="value"&&s(B,ce,J,te,he,ue)}"value"in ee&&s(B,"value",K.value,ee.value,he)}},I=(B,K,ee,ue,he,ce,te,J,re)=>{const ie=K.el=B?B.el:a(""),ae=K.anchor=B?B.anchor:a("");let{patchFlag:pe,dynamicChildren:ve,slotScopeIds:_e}=K;_e&&(J=J?J.concat(_e):_e),B==null?(r(ie,ee,ue),r(ae,ee,ue),A(K.children||[],ee,ae,he,ce,te,J,re)):pe>0&&pe&64&&ve&&B.dynamicChildren?(R(B.dynamicChildren,ve,ee,he,ce,te,J),(K.key!=null||he&&K===he.subTree)&&em(B,K,!0)):le(B,K,ee,ae,he,ce,te,J,re)},O=(B,K,ee,ue,he,ce,te,J,re)=>{K.slotScopeIds=J,B==null?K.shapeFlag&512?he.ctx.activate(K,ee,ue,te,re):L(K,ee,ue,he,ce,te,re):H(B,K,re)},L=(B,K,ee,ue,he,ce,te)=>{const J=B.component=jb(B,ue,he);if(Mg(B)&&(J.ctx.renderer=se),qb(J,!1,te),J.asyncDep){if(he&&he.registerDep(J,X,te),!B.el){const re=J.subTree=mt(bi);_(null,re,K,ee),B.placeholder=re.el}}else X(J,B,K,ee,he,ce,te)},H=(B,K,ee)=>{const ue=K.component=B.component;if(Eb(B,K,ee))if(ue.asyncDep&&!ue.asyncResolved){Y(ue,K,ee);return}else ue.next=K,ue.update();else K.el=B.el,ue.vnode=K},X=(B,K,ee,ue,he,ce,te)=>{const J=()=>{if(B.isMounted){let{next:pe,bu:ve,u:_e,parent:Se,vnode:Ne}=B;{const Ct=tm(B);if(Ct){pe&&(pe.el=Ne.el,Y(B,pe,te)),Ct.asyncDep.then(()=>{B.isUnmounted||J()});return}}let we=pe,lt;Ki(B,!1),pe?(pe.el=Ne.el,Y(B,pe,te)):pe=Ne,ve&&el(ve),(lt=pe.props&&pe.props.onVnodeBeforeUpdate)&&tr(lt,Se,pe,Ne),Ki(B,!0);const Oe=Dh(B),et=B.subTree;B.subTree=Oe,b(et,Oe,h(et.el),V(et),B,he,ce),pe.el=Oe.el,we===null&&Tb(B,Oe.el),_e&&yn(_e,he),(lt=pe.props&&pe.props.onVnodeUpdated)&&yn(()=>tr(lt,Se,pe,Ne),he)}else{let pe;const{el:ve,props:_e}=K,{bm:Se,m:Ne,parent:we,root:lt,type:Oe}=B,et=Jo(K);Ki(B,!1),Se&&el(Se),!et&&(pe=_e&&_e.onVnodeBeforeMount)&&tr(pe,we,K),Ki(B,!0);{lt.ce&&lt.ce._def.shadowRoot!==!1&&lt.ce._injectChildStyle(Oe);const Ct=B.subTree=Dh(B);b(null,Ct,ee,ue,B,he,ce),K.el=Ct.el}if(Ne&&yn(Ne,he),!et&&(pe=_e&&_e.onVnodeMounted)){const Ct=K;yn(()=>tr(pe,we,Ct),he)}(K.shapeFlag&256||we&&Jo(we.vnode)&&we.vnode.shapeFlag&256)&&B.a&&yn(B.a,he),B.isMounted=!0,K=ee=ue=null}};B.scope.on();const re=B.effect=new dg(J);B.scope.off();const ie=B.update=re.run.bind(re),ae=B.job=re.runIfDirty.bind(re);ae.i=B,ae.id=B.uid,re.scheduler=()=>lf(ae),Ki(B,!0),ie()},Y=(B,K,ee)=>{K.component=B;const ue=B.vnode.props;B.vnode=K,B.next=null,Ab(B,K.props,ue,ee),Ob(B,K.children,ee),Ur(),Rh(B),Fr()},le=(B,K,ee,ue,he,ce,te,J,re=!1)=>{const ie=B&&B.children,ae=B?B.shapeFlag:0,pe=K.children,{patchFlag:ve,shapeFlag:_e}=K;if(ve>0){if(ve&128){q(ie,pe,ee,ue,he,ce,te,J,re);return}else if(ve&256){Z(ie,pe,ee,ue,he,ce,te,J,re);return}}_e&8?(ae&16&&F(ie,he,ce),pe!==ie&&f(ee,pe)):ae&16?_e&16?q(ie,pe,ee,ue,he,ce,te,J,re):F(ie,he,ce,!0):(ae&8&&f(ee,""),_e&16&&A(pe,ee,ue,he,ce,te,J,re))},Z=(B,K,ee,ue,he,ce,te,J,re)=>{B=B||Ws,K=K||Ws;const ie=B.length,ae=K.length,pe=Math.min(ie,ae);let ve;for(ve=0;ve<pe;ve++){const _e=K[ve]=re?ai(K[ve]):ir(K[ve]);b(B[ve],_e,ee,null,he,ce,te,J,re)}ie>ae?F(B,he,ce,!0,!1,pe):A(K,ee,ue,he,ce,te,J,re,pe)},q=(B,K,ee,ue,he,ce,te,J,re)=>{let ie=0;const ae=K.length;let pe=B.length-1,ve=ae-1;for(;ie<=pe&&ie<=ve;){const _e=B[ie],Se=K[ie]=re?ai(K[ie]):ir(K[ie]);if(Mo(_e,Se))b(_e,Se,ee,null,he,ce,te,J,re);else break;ie++}for(;ie<=pe&&ie<=ve;){const _e=B[pe],Se=K[ve]=re?ai(K[ve]):ir(K[ve]);if(Mo(_e,Se))b(_e,Se,ee,null,he,ce,te,J,re);else break;pe--,ve--}if(ie>pe){if(ie<=ve){const _e=ve+1,Se=_e<ae?K[_e].el:ue;for(;ie<=ve;)b(null,K[ie]=re?ai(K[ie]):ir(K[ie]),ee,Se,he,ce,te,J,re),ie++}}else if(ie>ve)for(;ie<=pe;)j(B[ie],he,ce,!0),ie++;else{const _e=ie,Se=ie,Ne=new Map;for(ie=Se;ie<=ve;ie++){const ut=K[ie]=re?ai(K[ie]):ir(K[ie]);ut.key!=null&&Ne.set(ut.key,ie)}let we,lt=0;const Oe=ve-Se+1;let et=!1,Ct=0;const Xt=new Array(Oe);for(ie=0;ie<Oe;ie++)Xt[ie]=0;for(ie=_e;ie<=pe;ie++){const ut=B[ie];if(lt>=Oe){j(ut,he,ce,!0);continue}let ct;if(ut.key!=null)ct=Ne.get(ut.key);else for(we=Se;we<=ve;we++)if(Xt[we-Se]===0&&Mo(ut,K[we])){ct=we;break}ct===void 0?j(ut,he,ce,!0):(Xt[ct-Se]=ie+1,ct>=Ct?Ct=ct:et=!0,b(ut,K[ct],ee,null,he,ce,te,J,re),lt++)}const Tn=et?kb(Xt):Ws;for(we=Tn.length-1,ie=Oe-1;ie>=0;ie--){const ut=Se+ie,ct=K[ut],wn=K[ut+1],Jt=ut+1<ae?wn.el||wn.placeholder:ue;Xt[ie]===0?b(null,ct,ee,Jt,he,ce,te,J,re):et&&(we<0||ie!==Tn[we]?D(ct,ee,Jt,2):we--)}}},D=(B,K,ee,ue,he=null)=>{const{el:ce,type:te,transition:J,children:re,shapeFlag:ie}=B;if(ie&6){D(B.component.subTree,K,ee,ue);return}if(ie&128){B.suspense.move(K,ee,ue);return}if(ie&64){te.move(B,K,ee,se);return}if(te===Pn){r(ce,K,ee);for(let pe=0;pe<re.length;pe++)D(re[pe],K,ee,ue);r(B.anchor,K,ee);return}if(te===Uu){y(B,K,ee);return}if(ue!==2&&ie&1&&J)if(ue===0)J.beforeEnter(ce),r(ce,K,ee),yn(()=>J.enter(ce),he);else{const{leave:pe,delayLeave:ve,afterLeave:_e}=J,Se=()=>{B.ctx.isUnmounted?i(ce):r(ce,K,ee)},Ne=()=>{ce._isLeaving&&ce[K_](!0),pe(ce,()=>{Se(),_e&&_e()})};ve?ve(ce,Se,Ne):Ne()}else r(ce,K,ee)},j=(B,K,ee,ue=!1,he=!1)=>{const{type:ce,props:te,ref:J,children:re,dynamicChildren:ie,shapeFlag:ae,patchFlag:pe,dirs:ve,cacheIndex:_e}=B;if(pe===-2&&(he=!1),J!=null&&(Ur(),Xo(J,null,ee,B,!0),Fr()),_e!=null&&(K.renderCache[_e]=void 0),ae&256){K.ctx.deactivate(B);return}const Se=ae&1&&ve,Ne=!Jo(B);let we;if(Ne&&(we=te&&te.onVnodeBeforeUnmount)&&tr(we,K,B),ae&6)G(B.component,ee,ue);else{if(ae&128){B.suspense.unmount(ee,ue);return}Se&&zi(B,null,K,"beforeUnmount"),ae&64?B.type.remove(B,K,ee,se,ue):ie&&!ie.hasOnce&&(ce!==Pn||pe>0&&pe&64)?F(ie,K,ee,!1,!0):(ce===Pn&&pe&384||!he&&ae&16)&&F(re,K,ee),ue&&z(B)}(Ne&&(we=te&&te.onVnodeUnmounted)||Se)&&yn(()=>{we&&tr(we,K,B),Se&&zi(B,null,K,"unmounted")},ee)},z=B=>{const{type:K,el:ee,anchor:ue,transition:he}=B;if(K===Pn){ne(ee,ue);return}if(K===Uu){g(B);return}const ce=()=>{i(ee),he&&!he.persisted&&he.afterLeave&&he.afterLeave()};if(B.shapeFlag&1&&he&&!he.persisted){const{leave:te,delayLeave:J}=he,re=()=>te(ee,ce);J?J(B.el,ce,re):re()}else ce()},ne=(B,K)=>{let ee;for(;B!==K;)ee=d(B),i(B),B=ee;i(K)},G=(B,K,ee)=>{const{bum:ue,scope:he,job:ce,subTree:te,um:J,m:re,a:ie}=B;Vh(re),Vh(ie),ue&&el(ue),he.stop(),ce&&(ce.flags|=8,j(te,B,K,ee)),J&&yn(J,K),yn(()=>{B.isUnmounted=!0},K)},F=(B,K,ee,ue=!1,he=!1,ce=0)=>{for(let te=ce;te<B.length;te++)j(B[te],K,ee,ue,he)},V=B=>{if(B.shapeFlag&6)return V(B.component.subTree);if(B.shapeFlag&128)return B.suspense.next();const K=d(B.anchor||B.el),ee=K&&K[H_];return ee?d(ee):K};let $=!1;const Q=(B,K,ee)=>{B==null?K._vnode&&j(K._vnode,null,null,!0):b(K._vnode||null,B,K,null,null,null,ee),K._vnode=B,$||($=!0,Rh(),kg(),$=!1)},se={p:b,um:j,m:D,r:z,mt:L,mc:A,pc:le,pbc:R,n:V,o:t};return{render:Q,hydrate:void 0,createApp:hb(Q)}}function Vu({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function Ki({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function Nb(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function em(t,e,n=!1){const r=t.children,i=e.children;if(ke(r)&&ke(i))for(let s=0;s<r.length;s++){const o=r[s];let a=i[s];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[s]=ai(i[s]),a.el=o.el),!n&&a.patchFlag!==-2&&em(o,a)),a.type===iu&&a.patchFlag!==-1&&(a.el=o.el),a.type===bi&&!a.el&&(a.el=o.el)}}function kb(t){const e=t.slice(),n=[0];let r,i,s,o,a;const l=t.length;for(r=0;r<l;r++){const c=t[r];if(c!==0){if(i=n[n.length-1],t[i]<c){e[r]=i,n.push(r);continue}for(s=0,o=n.length-1;s<o;)a=s+o>>1,t[n[a]]<c?s=a+1:o=a;c<t[n[s]]&&(s>0&&(e[r]=n[s-1]),n[s]=r)}}for(s=n.length,o=n[s-1];s-- >0;)n[s]=o,o=e[o];return n}function tm(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:tm(e)}function Vh(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const nm=t=>t.__isSuspense;function xb(t,e){e&&e.pendingBranch?ke(t)?e.effects.push(...t):e.effects.push(t):q_(t)}const Pn=Symbol.for("v-fgt"),iu=Symbol.for("v-txt"),bi=Symbol.for("v-cmt"),Uu=Symbol.for("v-stc"),ea=[];let bn=null;function Ge(t=!1){ea.push(bn=t?null:[])}function Db(){ea.pop(),bn=ea[ea.length-1]||null}let pa=1;function El(t,e=!1){pa+=t,t<0&&bn&&e&&(bn.hasOnce=!0)}function rm(t){return t.dynamicChildren=pa>0?bn||Ws:null,Db(),pa>0&&bn&&bn.push(t),t}function Xe(t,e,n,r,i,s){return rm(be(t,e,n,r,i,s,!0))}function df(t,e,n,r,i){return rm(mt(t,e,n,r,i,!0))}function Tl(t){return t?t.__v_isVNode===!0:!1}function Mo(t,e){return t.type===e.type&&t.key===e.key}const im=({key:t})=>t??null,nl=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?Tt(t)||$t(t)||Me(t)?{i:_n,r:t,k:e,f:!!n}:t:null);function be(t,e=null,n=null,r=0,i=null,s=t===Pn?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&im(e),ref:e&&nl(e),scopeId:Dg,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:_n};return a?(pf(l,n),s&128&&t.normalize(l)):n&&(l.shapeFlag|=Tt(n)?8:16),pa>0&&!o&&bn&&(l.patchFlag>0||s&6)&&l.patchFlag!==32&&bn.push(l),l}const mt=Lb;function Lb(t,e=null,n=null,r=0,i=null,s=!1){if((!t||t===rb)&&(t=bi),Tl(t)){const a=so(t,e,!0);return n&&pf(a,n),pa>0&&!s&&bn&&(a.shapeFlag&6?bn[bn.indexOf(t)]=a:bn.push(a)),a.patchFlag=-2,a}if(Wb(t)&&(t=t.__vccOpts),e){e=Mb(e);let{class:a,style:l}=e;a&&!Tt(a)&&(e.class=Zc(a)),rt(l)&&(af(l)&&!ke(l)&&(l=Qt({},l)),e.style=Jc(l))}const o=Tt(t)?1:nm(t)?128:z_(t)?64:rt(t)?4:Me(t)?2:0;return be(t,e,n,r,i,o,s,!0)}function Mb(t){return t?af(t)||$g(t)?Qt({},t):t:null}function so(t,e,n=!1,r=!1){const{props:i,ref:s,patchFlag:o,children:a,transition:l}=t,c=e?Vb(i||{},e):i,f={__v_isVNode:!0,__v_skip:!0,type:t.type,props:c,key:c&&im(c),ref:e&&e.ref?n&&s?ke(s)?s.concat(nl(e)):[s,nl(e)]:nl(e):s,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Pn?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&so(t.ssContent),ssFallback:t.ssFallback&&so(t.ssFallback),placeholder:t.placeholder,el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&r&&uf(f,l.clone(f)),f}function js(t=" ",e=0){return mt(iu,null,t,e)}function nn(t="",e=!1){return e?(Ge(),df(bi,null,t)):mt(bi,null,t)}function ir(t){return t==null||typeof t=="boolean"?mt(bi):ke(t)?mt(Pn,null,t.slice()):Tl(t)?ai(t):mt(iu,null,String(t))}function ai(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:so(t)}function pf(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(ke(e))n=16;else if(typeof e=="object")if(r&65){const i=e.default;i&&(i._c&&(i._d=!1),pf(t,i()),i._c&&(i._d=!0));return}else{n=32;const i=e._;!i&&!$g(e)?e._ctx=_n:i===3&&_n&&(_n.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else Me(e)?(e={default:e,_ctx:_n},n=32):(e=String(e),r&64?(n=16,e=[js(e)]):n=8);t.children=e,t.shapeFlag|=n}function Vb(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const i in r)if(i==="class")e.class!==r.class&&(e.class=Zc([e.class,r.class]));else if(i==="style")e.style=Jc([e.style,r.style]);else if(Wl(i)){const s=e[i],o=r[i];o&&s!==o&&!(ke(s)&&s.includes(o))&&(e[i]=s?[].concat(s,o):o)}else i!==""&&(e[i]=r[i])}return e}function tr(t,e,n,r=null){pr(t,e,7,[n,r])}const Ub=qg();let Fb=0;function jb(t,e,n){const r=t.type,i=(e?e.appContext:t.appContext)||Ub,s={uid:Fb++,vnode:t,type:r,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new h_(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Yg(r,i),emitsOptions:Kg(r,i),emit:null,emitted:null,propsDefaults:nt,inheritAttrs:r.inheritAttrs,ctx:nt,data:nt,props:nt,attrs:nt,slots:nt,refs:nt,setupState:nt,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=e?e.root:s,s.emit=yb.bind(null,s),t.ce&&t.ce(s),s}let Gt=null;const Bb=()=>Gt||_n;let wl,gc;{const t=Jl(),e=(n,r)=>{let i;return(i=t[n])||(i=t[n]=[]),i.push(r),s=>{i.length>1?i.forEach(o=>o(s)):i[0](s)}};wl=e("__VUE_INSTANCE_SETTERS__",n=>Gt=n),gc=e("__VUE_SSR_SETTERS__",n=>ga=n)}const Pa=t=>{const e=Gt;return wl(t),t.scope.on(),()=>{t.scope.off(),wl(e)}},Uh=()=>{Gt&&Gt.scope.off(),wl(null)};function sm(t){return t.vnode.shapeFlag&4}let ga=!1;function qb(t,e=!1,n=!1){e&&gc(e);const{props:r,children:i}=t.vnode,s=sm(t);wb(t,r,s,e),Rb(t,i,n||e);const o=s?Hb(t,e):void 0;return e&&gc(!1),o}function Hb(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,sb);const{setup:r}=n;if(r){Ur();const i=t.setupContext=r.length>1?Kb(t):null,s=Pa(t),o=Ra(r,t,0,[t.props,i]),a=og(o);if(Fr(),s(),(a||t.sp)&&!Jo(t)&&Lg(t),a){if(o.then(Uh,Uh),e)return o.then(l=>{Fh(t,l)}).catch(l=>{tu(l,t,0)});t.asyncDep=o}else Fh(t,o)}else om(t)}function Fh(t,e,n){Me(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:rt(e)&&(t.setupState=Pg(e)),om(t)}function om(t,e,n){const r=t.type;t.render||(t.render=r.render||sr);{const i=Pa(t);Ur();try{ob(t)}finally{Fr(),i()}}}const zb={get(t,e){return zt(t,"get",""),t[e]}};function Kb(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,zb),slots:t.slots,emit:t.emit,expose:e}}function su(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(Pg(k_(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in Zo)return Zo[n](t)},has(e,n){return n in e||n in Zo}})):t.proxy}function Gb(t,e=!0){return Me(t)?t.displayName||t.name:t.name||e&&t.__name}function Wb(t){return Me(t)&&"__vccOpts"in t}const Wt=(t,e)=>V_(t,e,ga);function gf(t,e,n){try{El(-1);const r=arguments.length;return r===2?rt(e)&&!ke(e)?Tl(e)?mt(t,null,[e]):mt(t,e):mt(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&Tl(n)&&(n=[n]),mt(t,e,n))}finally{El(1)}}const $b="3.5.25";let mc;const jh=typeof window<"u"&&window.trustedTypes;if(jh)try{mc=jh.createPolicy("vue",{createHTML:t=>t})}catch{}const am=mc?t=>mc.createHTML(t):t=>t,Qb="http://www.w3.org/2000/svg",Yb="http://www.w3.org/1998/Math/MathML",Nr=typeof document<"u"?document:null,Bh=Nr&&Nr.createElement("template"),Xb={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const i=e==="svg"?Nr.createElementNS(Qb,t):e==="mathml"?Nr.createElementNS(Yb,t):n?Nr.createElement(t,{is:n}):Nr.createElement(t);return t==="select"&&r&&r.multiple!=null&&i.setAttribute("multiple",r.multiple),i},createText:t=>Nr.createTextNode(t),createComment:t=>Nr.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Nr.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,i,s){const o=n?n.previousSibling:e.lastChild;if(i&&(i===s||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),n),!(i===s||!(i=i.nextSibling)););else{Bh.innerHTML=am(r==="svg"?`<svg>${t}</svg>`:r==="mathml"?`<math>${t}</math>`:t);const a=Bh.content;if(r==="svg"||r==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},Jb=Symbol("_vtc");function Zb(t,e,n){const r=t[Jb];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const qh=Symbol("_vod"),eE=Symbol("_vsh"),tE=Symbol(""),nE=/(?:^|;)\s*display\s*:/;function rE(t,e,n){const r=t.style,i=Tt(n);let s=!1;if(n&&!i){if(e)if(Tt(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();n[a]==null&&rl(r,a,"")}else for(const o in e)n[o]==null&&rl(r,o,"");for(const o in n)o==="display"&&(s=!0),rl(r,o,n[o])}else if(i){if(e!==n){const o=r[tE];o&&(n+=";"+o),r.cssText=n,s=nE.test(n)}}else e&&t.removeAttribute("style");qh in t&&(t[qh]=s?r.display:"",t[eE]&&(r.display="none"))}const Hh=/\s*!important$/;function rl(t,e,n){if(ke(n))n.forEach(r=>rl(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=iE(t,e);Hh.test(n)?t.setProperty(us(r),n.replace(Hh,""),"important"):t[r]=n}}const zh=["Webkit","Moz","ms"],Fu={};function iE(t,e){const n=Fu[e];if(n)return n;let r=kn(e);if(r!=="filter"&&r in t)return Fu[e]=r;r=Yl(r);for(let i=0;i<zh.length;i++){const s=zh[i]+r;if(s in t)return Fu[e]=s}return e}const Kh="http://www.w3.org/1999/xlink";function Gh(t,e,n,r,i,s=u_(e)){r&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(Kh,e.slice(6,e.length)):t.setAttributeNS(Kh,e,n):n==null||s&&!cg(n)?t.removeAttribute(e):t.setAttribute(e,s?"":dr(n)?String(n):n)}function Wh(t,e,n,r,i){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?am(n):n);return}const s=t.tagName;if(e==="value"&&s!=="PROGRESS"&&!s.includes("-")){const a=s==="OPTION"?t.getAttribute("value")||"":t.value,l=n==null?t.type==="checkbox"?"on":"":String(n);(a!==l||!("_value"in t))&&(t.value=l),n==null&&t.removeAttribute(e),t._value=n;return}let o=!1;if(n===""||n==null){const a=typeof t[e];a==="boolean"?n=cg(n):n==null&&a==="string"?(n="",o=!0):a==="number"&&(n=0,o=!0)}try{t[e]=n}catch{}o&&t.removeAttribute(i||e)}function Qi(t,e,n,r){t.addEventListener(e,n,r)}function sE(t,e,n,r){t.removeEventListener(e,n,r)}const $h=Symbol("_vei");function oE(t,e,n,r,i=null){const s=t[$h]||(t[$h]={}),o=s[e];if(r&&o)o.value=r;else{const[a,l]=aE(e);if(r){const c=s[e]=cE(r,i);Qi(t,a,c,l)}else o&&(sE(t,a,o,l),s[e]=void 0)}}const Qh=/(?:Once|Passive|Capture)$/;function aE(t){let e;if(Qh.test(t)){e={};let r;for(;r=t.match(Qh);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):us(t.slice(2)),e]}let ju=0;const lE=Promise.resolve(),uE=()=>ju||(lE.then(()=>ju=0),ju=Date.now());function cE(t,e){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;pr(fE(r,n.value),e,5,[r])};return n.value=t,n.attached=uE(),n}function fE(t,e){if(ke(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>i=>!i._stopped&&r&&r(i))}else return e}const Yh=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,hE=(t,e,n,r,i,s)=>{const o=i==="svg";e==="class"?Zb(t,r,o):e==="style"?rE(t,n,r):Wl(e)?Qc(e)||oE(t,e,n,r,s):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):dE(t,e,r,o))?(Wh(t,e,r),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&Gh(t,e,r,o,s,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!Tt(r))?Wh(t,kn(e),r,s,e):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),Gh(t,e,r,o))};function dE(t,e,n,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&Yh(e)&&Me(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="sandbox"&&t.tagName==="IFRAME"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const i=t.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return Yh(e)&&Tt(n)?!1:e in t}const Al=t=>{const e=t.props["onUpdate:modelValue"]||!1;return ke(e)?n=>el(e,n):e};function pE(t){t.target.composing=!0}function Xh(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Js=Symbol("_assign");function Jh(t,e,n){return e&&(t=t.trim()),n&&(t=Xl(t)),t}const oo={created(t,{modifiers:{lazy:e,trim:n,number:r}},i){t[Js]=Al(i);const s=r||i.props&&i.props.type==="number";Qi(t,e?"change":"input",o=>{o.target.composing||t[Js](Jh(t.value,n,s))}),(n||s)&&Qi(t,"change",()=>{t.value=Jh(t.value,n,s)}),e||(Qi(t,"compositionstart",pE),Qi(t,"compositionend",Xh),Qi(t,"change",Xh))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:n,modifiers:{lazy:r,trim:i,number:s}},o){if(t[Js]=Al(o),t.composing)return;const a=(s||t.type==="number")&&!/^0\d/.test(t.value)?Xl(t.value):t.value,l=e??"";a!==l&&(document.activeElement===t&&t.type!=="range"&&(r&&e===n||i&&t.value.trim()===l)||(t.value=l))}},gE={deep:!0,created(t,{value:e,modifiers:{number:n}},r){const i=$l(e);Qi(t,"change",()=>{const s=Array.prototype.filter.call(t.options,o=>o.selected).map(o=>n?Xl(Il(o)):Il(o));t[Js](t.multiple?i?new Set(s):s:s[0]),t._assigning=!0,ha(()=>{t._assigning=!1})}),t[Js]=Al(r)},mounted(t,{value:e}){Zh(t,e)},beforeUpdate(t,e,n){t[Js]=Al(n)},updated(t,{value:e}){t._assigning||Zh(t,e)}};function Zh(t,e){const n=t.multiple,r=ke(e);if(!(n&&!r&&!$l(e))){for(let i=0,s=t.options.length;i<s;i++){const o=t.options[i],a=Il(o);if(n)if(r){const l=typeof a;l==="string"||l==="number"?o.selected=e.some(c=>String(c)===String(a)):o.selected=f_(e,a)>-1}else o.selected=e.has(a);else if(Zl(Il(o),e)){t.selectedIndex!==i&&(t.selectedIndex=i);return}}!n&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function Il(t){return"_value"in t?t._value:t.value}const mE=["ctrl","shift","alt","meta"],yE={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>mE.some(n=>t[`${n}Key`]&&!e.includes(n))},lm=(t,e)=>{const n=t._withMods||(t._withMods={}),r=e.join(".");return n[r]||(n[r]=((i,...s)=>{for(let o=0;o<e.length;o++){const a=yE[e[o]];if(a&&a(i,e))return}return t(i,...s)}))},vE=Qt({patchProp:hE},Xb);let ed;function _E(){return ed||(ed=Pb(vE))}const bE=((...t)=>{const e=_E().createApp(...t),{mount:n}=e;return e.mount=r=>{const i=TE(r);if(!i)return;const s=e._component;!Me(s)&&!s.render&&!s.template&&(s.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const o=n(i,!1,EE(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},e});function EE(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function TE(t){return Tt(t)?document.querySelector(t):t}const wE=()=>{};var td={};const um=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},AE=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},cm={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,f=s>>2,h=(s&3)<<4|a>>4;let d=(a&15)<<2|c>>6,p=c&63;l||(p=64,o||(d=64)),r.push(n[f],n[h],n[d],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(um(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):AE(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||h==null)throw new IE;const d=s<<2|a>>4;if(r.push(d),c!==64){const p=a<<4&240|c>>2;if(r.push(p),h!==64){const w=c<<6&192|h;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class IE extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const SE=function(t){const e=um(t);return cm.encodeByteArray(e,!0)},Sl=function(t){return SE(t).replace(/\./g,"")},fm=function(t){try{return cm.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function RE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const OE=()=>RE().__FIREBASE_DEFAULTS__,PE=()=>{if(typeof process>"u"||typeof td>"u")return;const t=td.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},CE=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&fm(t[1]);return e&&JSON.parse(e)},ou=()=>{try{return wE()||OE()||PE()||CE()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},hm=t=>ou()?.emulatorHosts?.[t],dm=t=>{const e=hm(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},pm=()=>ou()?.config,gm=t=>ou()?.[`_${t}`];class NE{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function cs(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function mf(t){return(await fetch(t,{credentials:"include"})).ok}function mm(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Sl(JSON.stringify(n)),Sl(JSON.stringify(o)),""].join(".")}const ta={};function kE(){const t={prod:[],emulator:[]};for(const e of Object.keys(ta))ta[e]?t.emulator.push(e):t.prod.push(e);return t}function xE(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let nd=!1;function yf(t,e){if(typeof window>"u"||typeof document>"u"||!cs(window.location.host)||ta[t]===e||ta[t]||nd)return;ta[t]=e;function n(d){return`__firebase__banner__${d}`}const r="__firebase__banner",s=kE().prod.length>0;function o(){const d=document.getElementById(r);d&&d.remove()}function a(d){d.style.display="flex",d.style.background="#7faaf0",d.style.position="fixed",d.style.bottom="5px",d.style.left="5px",d.style.padding=".5em",d.style.borderRadius="5px",d.style.alignItems="center"}function l(d,p){d.setAttribute("width","24"),d.setAttribute("id",p),d.setAttribute("height","24"),d.setAttribute("viewBox","0 0 24 24"),d.setAttribute("fill","none"),d.style.marginLeft="-6px"}function c(){const d=document.createElement("span");return d.style.cursor="pointer",d.style.marginLeft="16px",d.style.fontSize="24px",d.innerHTML=" &times;",d.onclick=()=>{nd=!0,o()},d}function f(d,p){d.setAttribute("id",p),d.innerText="Learn more",d.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",d.setAttribute("target","__blank"),d.style.paddingLeft="5px",d.style.textDecoration="underline"}function h(){const d=xE(r),p=n("text"),w=document.getElementById(p)||document.createElement("span"),b=n("learnmore"),E=document.getElementById(b)||document.createElement("a"),_=n("preprendIcon"),v=document.getElementById(_)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(d.created){const y=d.element;a(y),f(E,b);const g=c();l(v,_),y.append(v,w,E,g),document.body.appendChild(y)}s?(w.innerText="Preview backend disconnected.",v.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(v.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,w.innerText="Preview backend running in this workspace."),w.setAttribute("id",p)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",h):h()}function Yt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function DE(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Yt())}function LE(){const t=ou()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function ME(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function VE(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function UE(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function FE(){const t=Yt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function jE(){return!LE()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function BE(){try{return typeof indexedDB=="object"}catch{return!1}}function qE(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(n){e(n)}})}const HE="FirebaseError";class vr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=HE,Object.setPrototypeOf(this,vr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ca.prototype.create)}}class Ca{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?zE(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new vr(i,a,r)}}function zE(t,e){return t.replace(KE,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const KE=/\{\$([^}]+)}/g;function GE(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function rs(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(rd(s)&&rd(o)){if(!rs(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function rd(t){return t!==null&&typeof t=="object"}function Na(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function jo(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Bo(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function WE(t,e){const n=new $E(t,e);return n.subscribe.bind(n)}class $E{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");QE(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Bu),i.error===void 0&&(i.error=Bu),i.complete===void 0&&(i.complete=Bu);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function QE(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Bu(){}function Dt(t){return t&&t._delegate?t._delegate:t}class Ei{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Wi="[DEFAULT]";class YE{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new NE;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(JE(e))try{this.getOrInitializeService({instanceIdentifier:Wi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Wi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Wi){return this.instances.has(e)}getOptions(e=Wi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:XE(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Wi){return this.component?this.component.multipleInstances?e:Wi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function XE(t){return t===Wi?void 0:t}function JE(t){return t.instantiationMode==="EAGER"}class ZE{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new YE(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Fe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Fe||(Fe={}));const e0={debug:Fe.DEBUG,verbose:Fe.VERBOSE,info:Fe.INFO,warn:Fe.WARN,error:Fe.ERROR,silent:Fe.SILENT},t0=Fe.INFO,n0={[Fe.DEBUG]:"log",[Fe.VERBOSE]:"log",[Fe.INFO]:"info",[Fe.WARN]:"warn",[Fe.ERROR]:"error"},r0=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=n0[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class vf{constructor(e){this.name=e,this._logLevel=t0,this._logHandler=r0,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Fe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?e0[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Fe.DEBUG,...e),this._logHandler(this,Fe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Fe.VERBOSE,...e),this._logHandler(this,Fe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Fe.INFO,...e),this._logHandler(this,Fe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Fe.WARN,...e),this._logHandler(this,Fe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Fe.ERROR,...e),this._logHandler(this,Fe.ERROR,...e)}}const i0=(t,e)=>e.some(n=>t instanceof n);let id,sd;function s0(){return id||(id=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function o0(){return sd||(sd=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ym=new WeakMap,yc=new WeakMap,vm=new WeakMap,qu=new WeakMap,_f=new WeakMap;function a0(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(mi(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&ym.set(n,t)}).catch(()=>{}),_f.set(e,t),e}function l0(t){if(yc.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});yc.set(t,e)}let vc={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return yc.get(t);if(e==="objectStoreNames")return t.objectStoreNames||vm.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return mi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function u0(t){vc=t(vc)}function c0(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Hu(this),e,...n);return vm.set(r,e.sort?e.sort():[e]),mi(r)}:o0().includes(t)?function(...e){return t.apply(Hu(this),e),mi(ym.get(this))}:function(...e){return mi(t.apply(Hu(this),e))}}function f0(t){return typeof t=="function"?c0(t):(t instanceof IDBTransaction&&l0(t),i0(t,s0())?new Proxy(t,vc):t)}function mi(t){if(t instanceof IDBRequest)return a0(t);if(qu.has(t))return qu.get(t);const e=f0(t);return e!==t&&(qu.set(t,e),_f.set(e,t)),e}const Hu=t=>_f.get(t);function h0(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=mi(o);return r&&o.addEventListener("upgradeneeded",l=>{r(mi(o.result),l.oldVersion,l.newVersion,mi(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const d0=["get","getKey","getAll","getAllKeys","count"],p0=["put","add","delete","clear"],zu=new Map;function od(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(zu.get(e))return zu.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=p0.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||d0.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return zu.set(e,s),s}u0(t=>({...t,get:(e,n,r)=>od(e,n)||t.get(e,n,r),has:(e,n)=>!!od(e,n)||t.has(e,n)}));class g0{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(m0(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function m0(t){return t.getComponent()?.type==="VERSION"}const _c="@firebase/app",ad="0.14.6";const Br=new vf("@firebase/app"),y0="@firebase/app-compat",v0="@firebase/analytics-compat",_0="@firebase/analytics",b0="@firebase/app-check-compat",E0="@firebase/app-check",T0="@firebase/auth",w0="@firebase/auth-compat",A0="@firebase/database",I0="@firebase/data-connect",S0="@firebase/database-compat",R0="@firebase/functions",O0="@firebase/functions-compat",P0="@firebase/installations",C0="@firebase/installations-compat",N0="@firebase/messaging",k0="@firebase/messaging-compat",x0="@firebase/performance",D0="@firebase/performance-compat",L0="@firebase/remote-config",M0="@firebase/remote-config-compat",V0="@firebase/storage",U0="@firebase/storage-compat",F0="@firebase/firestore",j0="@firebase/ai",B0="@firebase/firestore-compat",q0="firebase",H0="12.6.0";const bc="[DEFAULT]",z0={[_c]:"fire-core",[y0]:"fire-core-compat",[_0]:"fire-analytics",[v0]:"fire-analytics-compat",[E0]:"fire-app-check",[b0]:"fire-app-check-compat",[T0]:"fire-auth",[w0]:"fire-auth-compat",[A0]:"fire-rtdb",[I0]:"fire-data-connect",[S0]:"fire-rtdb-compat",[R0]:"fire-fn",[O0]:"fire-fn-compat",[P0]:"fire-iid",[C0]:"fire-iid-compat",[N0]:"fire-fcm",[k0]:"fire-fcm-compat",[x0]:"fire-perf",[D0]:"fire-perf-compat",[L0]:"fire-rc",[M0]:"fire-rc-compat",[V0]:"fire-gcs",[U0]:"fire-gcs-compat",[F0]:"fire-fst",[B0]:"fire-fst-compat",[j0]:"fire-vertex","fire-js":"fire-js",[q0]:"fire-js-all"};const ao=new Map,Ec=new Map,Tc=new Map;function ld(t,e){try{t.container.addComponent(e)}catch(n){Br.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function is(t){const e=t.name;if(Tc.has(e))return Br.debug(`There were multiple attempts to register component ${e}.`),!1;Tc.set(e,t);for(const n of ao.values())ld(n,t);for(const n of Ec.values())ld(n,t);return!0}function au(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function vn(t){return t==null?!1:t.settings!==void 0}const K0={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},yi=new Ca("app","Firebase",K0);class G0{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ei("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw yi.create("app-deleted",{appName:this._name})}}const fs=H0;function bf(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:bc,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw yi.create("bad-app-name",{appName:String(i)});if(n||(n=pm()),!n)throw yi.create("no-options");const s=ao.get(i);if(s){if(rs(n,s.options)&&rs(r,s.config))return s;throw yi.create("duplicate-app",{appName:i})}const o=new ZE(i);for(const l of Tc.values())o.addComponent(l);const a=new G0(n,r,o);return ao.set(i,a),a}function Ef(t=bc){const e=ao.get(t);if(!e&&t===bc&&pm())return bf();if(!e)throw yi.create("no-app",{appName:t});return e}async function W0(t){let e=!1;const n=t.name;ao.has(n)?(e=!0,ao.delete(n)):Ec.has(n)&&t.decRefCount()<=0&&(Ec.delete(n),e=!0),e&&(await Promise.all(t.container.getProviders().map(r=>r.delete())),t.isDeleted=!0)}function or(t,e,n){let r=z0[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const o=[`Unable to register library "${r}" with version "${e}":`];i&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&o.push("and"),s&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Br.warn(o.join(" "));return}is(new Ei(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const $0="firebase-heartbeat-database",Q0=1,ma="firebase-heartbeat-store";let Ku=null;function _m(){return Ku||(Ku=h0($0,Q0,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ma)}catch(n){console.warn(n)}}}}).catch(t=>{throw yi.create("idb-open",{originalErrorMessage:t.message})})),Ku}async function Y0(t){try{const n=(await _m()).transaction(ma),r=await n.objectStore(ma).get(bm(t));return await n.done,r}catch(e){if(e instanceof vr)Br.warn(e.message);else{const n=yi.create("idb-get",{originalErrorMessage:e?.message});Br.warn(n.message)}}}async function ud(t,e){try{const r=(await _m()).transaction(ma,"readwrite");await r.objectStore(ma).put(e,bm(t)),await r.done}catch(n){if(n instanceof vr)Br.warn(n.message);else{const r=yi.create("idb-set",{originalErrorMessage:n?.message});Br.warn(r.message)}}}function bm(t){return`${t.name}!${t.options.appId}`}const X0=1024,J0=30;class Z0{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new t1(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=cd();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>J0){const i=n1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Br.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=cd(),{heartbeatsToSend:n,unsentEntries:r}=e1(this._heartbeatsCache.heartbeats),i=Sl(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return Br.warn(e),""}}}function cd(){return new Date().toISOString().substring(0,10)}function e1(t,e=X0){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),fd(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),fd(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class t1{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return BE()?qE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Y0(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return ud(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return ud(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function fd(t){return Sl(JSON.stringify({version:2,heartbeats:t})).length}function n1(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function r1(t){is(new Ei("platform-logger",e=>new g0(e),"PRIVATE")),is(new Ei("heartbeat",e=>new Z0(e),"PRIVATE")),or(_c,ad,t),or(_c,ad,"esm2020"),or("fire-js","")}r1("");var i1="firebase",s1="12.6.0";or(i1,s1,"app");var hd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var vi,Em;(function(){var t;function e(S,A){function C(){}C.prototype=A.prototype,S.F=A.prototype,S.prototype=new C,S.prototype.constructor=S,S.D=function(R,m,I){for(var O=Array(arguments.length-2),L=2;L<arguments.length;L++)O[L-2]=arguments[L];return A.prototype[m].apply(R,O)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(S,A,C){C||(C=0);const R=Array(16);if(typeof A=="string")for(var m=0;m<16;++m)R[m]=A.charCodeAt(C++)|A.charCodeAt(C++)<<8|A.charCodeAt(C++)<<16|A.charCodeAt(C++)<<24;else for(m=0;m<16;++m)R[m]=A[C++]|A[C++]<<8|A[C++]<<16|A[C++]<<24;A=S.g[0],C=S.g[1],m=S.g[2];let I=S.g[3],O;O=A+(I^C&(m^I))+R[0]+3614090360&4294967295,A=C+(O<<7&4294967295|O>>>25),O=I+(m^A&(C^m))+R[1]+3905402710&4294967295,I=A+(O<<12&4294967295|O>>>20),O=m+(C^I&(A^C))+R[2]+606105819&4294967295,m=I+(O<<17&4294967295|O>>>15),O=C+(A^m&(I^A))+R[3]+3250441966&4294967295,C=m+(O<<22&4294967295|O>>>10),O=A+(I^C&(m^I))+R[4]+4118548399&4294967295,A=C+(O<<7&4294967295|O>>>25),O=I+(m^A&(C^m))+R[5]+1200080426&4294967295,I=A+(O<<12&4294967295|O>>>20),O=m+(C^I&(A^C))+R[6]+2821735955&4294967295,m=I+(O<<17&4294967295|O>>>15),O=C+(A^m&(I^A))+R[7]+4249261313&4294967295,C=m+(O<<22&4294967295|O>>>10),O=A+(I^C&(m^I))+R[8]+1770035416&4294967295,A=C+(O<<7&4294967295|O>>>25),O=I+(m^A&(C^m))+R[9]+2336552879&4294967295,I=A+(O<<12&4294967295|O>>>20),O=m+(C^I&(A^C))+R[10]+4294925233&4294967295,m=I+(O<<17&4294967295|O>>>15),O=C+(A^m&(I^A))+R[11]+2304563134&4294967295,C=m+(O<<22&4294967295|O>>>10),O=A+(I^C&(m^I))+R[12]+1804603682&4294967295,A=C+(O<<7&4294967295|O>>>25),O=I+(m^A&(C^m))+R[13]+4254626195&4294967295,I=A+(O<<12&4294967295|O>>>20),O=m+(C^I&(A^C))+R[14]+2792965006&4294967295,m=I+(O<<17&4294967295|O>>>15),O=C+(A^m&(I^A))+R[15]+1236535329&4294967295,C=m+(O<<22&4294967295|O>>>10),O=A+(m^I&(C^m))+R[1]+4129170786&4294967295,A=C+(O<<5&4294967295|O>>>27),O=I+(C^m&(A^C))+R[6]+3225465664&4294967295,I=A+(O<<9&4294967295|O>>>23),O=m+(A^C&(I^A))+R[11]+643717713&4294967295,m=I+(O<<14&4294967295|O>>>18),O=C+(I^A&(m^I))+R[0]+3921069994&4294967295,C=m+(O<<20&4294967295|O>>>12),O=A+(m^I&(C^m))+R[5]+3593408605&4294967295,A=C+(O<<5&4294967295|O>>>27),O=I+(C^m&(A^C))+R[10]+38016083&4294967295,I=A+(O<<9&4294967295|O>>>23),O=m+(A^C&(I^A))+R[15]+3634488961&4294967295,m=I+(O<<14&4294967295|O>>>18),O=C+(I^A&(m^I))+R[4]+3889429448&4294967295,C=m+(O<<20&4294967295|O>>>12),O=A+(m^I&(C^m))+R[9]+568446438&4294967295,A=C+(O<<5&4294967295|O>>>27),O=I+(C^m&(A^C))+R[14]+3275163606&4294967295,I=A+(O<<9&4294967295|O>>>23),O=m+(A^C&(I^A))+R[3]+4107603335&4294967295,m=I+(O<<14&4294967295|O>>>18),O=C+(I^A&(m^I))+R[8]+1163531501&4294967295,C=m+(O<<20&4294967295|O>>>12),O=A+(m^I&(C^m))+R[13]+2850285829&4294967295,A=C+(O<<5&4294967295|O>>>27),O=I+(C^m&(A^C))+R[2]+4243563512&4294967295,I=A+(O<<9&4294967295|O>>>23),O=m+(A^C&(I^A))+R[7]+1735328473&4294967295,m=I+(O<<14&4294967295|O>>>18),O=C+(I^A&(m^I))+R[12]+2368359562&4294967295,C=m+(O<<20&4294967295|O>>>12),O=A+(C^m^I)+R[5]+4294588738&4294967295,A=C+(O<<4&4294967295|O>>>28),O=I+(A^C^m)+R[8]+2272392833&4294967295,I=A+(O<<11&4294967295|O>>>21),O=m+(I^A^C)+R[11]+1839030562&4294967295,m=I+(O<<16&4294967295|O>>>16),O=C+(m^I^A)+R[14]+4259657740&4294967295,C=m+(O<<23&4294967295|O>>>9),O=A+(C^m^I)+R[1]+2763975236&4294967295,A=C+(O<<4&4294967295|O>>>28),O=I+(A^C^m)+R[4]+1272893353&4294967295,I=A+(O<<11&4294967295|O>>>21),O=m+(I^A^C)+R[7]+4139469664&4294967295,m=I+(O<<16&4294967295|O>>>16),O=C+(m^I^A)+R[10]+3200236656&4294967295,C=m+(O<<23&4294967295|O>>>9),O=A+(C^m^I)+R[13]+681279174&4294967295,A=C+(O<<4&4294967295|O>>>28),O=I+(A^C^m)+R[0]+3936430074&4294967295,I=A+(O<<11&4294967295|O>>>21),O=m+(I^A^C)+R[3]+3572445317&4294967295,m=I+(O<<16&4294967295|O>>>16),O=C+(m^I^A)+R[6]+76029189&4294967295,C=m+(O<<23&4294967295|O>>>9),O=A+(C^m^I)+R[9]+3654602809&4294967295,A=C+(O<<4&4294967295|O>>>28),O=I+(A^C^m)+R[12]+3873151461&4294967295,I=A+(O<<11&4294967295|O>>>21),O=m+(I^A^C)+R[15]+530742520&4294967295,m=I+(O<<16&4294967295|O>>>16),O=C+(m^I^A)+R[2]+3299628645&4294967295,C=m+(O<<23&4294967295|O>>>9),O=A+(m^(C|~I))+R[0]+4096336452&4294967295,A=C+(O<<6&4294967295|O>>>26),O=I+(C^(A|~m))+R[7]+1126891415&4294967295,I=A+(O<<10&4294967295|O>>>22),O=m+(A^(I|~C))+R[14]+2878612391&4294967295,m=I+(O<<15&4294967295|O>>>17),O=C+(I^(m|~A))+R[5]+4237533241&4294967295,C=m+(O<<21&4294967295|O>>>11),O=A+(m^(C|~I))+R[12]+1700485571&4294967295,A=C+(O<<6&4294967295|O>>>26),O=I+(C^(A|~m))+R[3]+2399980690&4294967295,I=A+(O<<10&4294967295|O>>>22),O=m+(A^(I|~C))+R[10]+4293915773&4294967295,m=I+(O<<15&4294967295|O>>>17),O=C+(I^(m|~A))+R[1]+2240044497&4294967295,C=m+(O<<21&4294967295|O>>>11),O=A+(m^(C|~I))+R[8]+1873313359&4294967295,A=C+(O<<6&4294967295|O>>>26),O=I+(C^(A|~m))+R[15]+4264355552&4294967295,I=A+(O<<10&4294967295|O>>>22),O=m+(A^(I|~C))+R[6]+2734768916&4294967295,m=I+(O<<15&4294967295|O>>>17),O=C+(I^(m|~A))+R[13]+1309151649&4294967295,C=m+(O<<21&4294967295|O>>>11),O=A+(m^(C|~I))+R[4]+4149444226&4294967295,A=C+(O<<6&4294967295|O>>>26),O=I+(C^(A|~m))+R[11]+3174756917&4294967295,I=A+(O<<10&4294967295|O>>>22),O=m+(A^(I|~C))+R[2]+718787259&4294967295,m=I+(O<<15&4294967295|O>>>17),O=C+(I^(m|~A))+R[9]+3951481745&4294967295,S.g[0]=S.g[0]+A&4294967295,S.g[1]=S.g[1]+(m+(O<<21&4294967295|O>>>11))&4294967295,S.g[2]=S.g[2]+m&4294967295,S.g[3]=S.g[3]+I&4294967295}r.prototype.v=function(S,A){A===void 0&&(A=S.length);const C=A-this.blockSize,R=this.C;let m=this.h,I=0;for(;I<A;){if(m==0)for(;I<=C;)i(this,S,I),I+=this.blockSize;if(typeof S=="string"){for(;I<A;)if(R[m++]=S.charCodeAt(I++),m==this.blockSize){i(this,R),m=0;break}}else for(;I<A;)if(R[m++]=S[I++],m==this.blockSize){i(this,R),m=0;break}}this.h=m,this.o+=A},r.prototype.A=function(){var S=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);S[0]=128;for(var A=1;A<S.length-8;++A)S[A]=0;A=this.o*8;for(var C=S.length-8;C<S.length;++C)S[C]=A&255,A/=256;for(this.v(S),S=Array(16),A=0,C=0;C<4;++C)for(let R=0;R<32;R+=8)S[A++]=this.g[C]>>>R&255;return S};function s(S,A){var C=a;return Object.prototype.hasOwnProperty.call(C,S)?C[S]:C[S]=A(S)}function o(S,A){this.h=A;const C=[];let R=!0;for(let m=S.length-1;m>=0;m--){const I=S[m]|0;R&&I==A||(C[m]=I,R=!1)}this.g=C}var a={};function l(S){return-128<=S&&S<128?s(S,function(A){return new o([A|0],A<0?-1:0)}):new o([S|0],S<0?-1:0)}function c(S){if(isNaN(S)||!isFinite(S))return h;if(S<0)return E(c(-S));const A=[];let C=1;for(let R=0;S>=C;R++)A[R]=S/C|0,C*=4294967296;return new o(A,0)}function f(S,A){if(S.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(S.charAt(0)=="-")return E(f(S.substring(1),A));if(S.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=c(Math.pow(A,8));let R=h;for(let I=0;I<S.length;I+=8){var m=Math.min(8,S.length-I);const O=parseInt(S.substring(I,I+m),A);m<8?(m=c(Math.pow(A,m)),R=R.j(m).add(c(O))):(R=R.j(C),R=R.add(c(O)))}return R}var h=l(0),d=l(1),p=l(16777216);t=o.prototype,t.m=function(){if(b(this))return-E(this).m();let S=0,A=1;for(let C=0;C<this.g.length;C++){const R=this.i(C);S+=(R>=0?R:4294967296+R)*A,A*=4294967296}return S},t.toString=function(S){if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(w(this))return"0";if(b(this))return"-"+E(this).toString(S);const A=c(Math.pow(S,6));var C=this;let R="";for(;;){const m=g(C,A).g;C=_(C,m.j(A));let I=((C.g.length>0?C.g[0]:C.h)>>>0).toString(S);if(C=m,w(C))return I+R;for(;I.length<6;)I="0"+I;R=I+R}},t.i=function(S){return S<0?0:S<this.g.length?this.g[S]:this.h};function w(S){if(S.h!=0)return!1;for(let A=0;A<S.g.length;A++)if(S.g[A]!=0)return!1;return!0}function b(S){return S.h==-1}t.l=function(S){return S=_(this,S),b(S)?-1:w(S)?0:1};function E(S){const A=S.g.length,C=[];for(let R=0;R<A;R++)C[R]=~S.g[R];return new o(C,~S.h).add(d)}t.abs=function(){return b(this)?E(this):this},t.add=function(S){const A=Math.max(this.g.length,S.g.length),C=[];let R=0;for(let m=0;m<=A;m++){let I=R+(this.i(m)&65535)+(S.i(m)&65535),O=(I>>>16)+(this.i(m)>>>16)+(S.i(m)>>>16);R=O>>>16,I&=65535,O&=65535,C[m]=O<<16|I}return new o(C,C[C.length-1]&-2147483648?-1:0)};function _(S,A){return S.add(E(A))}t.j=function(S){if(w(this)||w(S))return h;if(b(this))return b(S)?E(this).j(E(S)):E(E(this).j(S));if(b(S))return E(this.j(E(S)));if(this.l(p)<0&&S.l(p)<0)return c(this.m()*S.m());const A=this.g.length+S.g.length,C=[];for(var R=0;R<2*A;R++)C[R]=0;for(R=0;R<this.g.length;R++)for(let m=0;m<S.g.length;m++){const I=this.i(R)>>>16,O=this.i(R)&65535,L=S.i(m)>>>16,H=S.i(m)&65535;C[2*R+2*m]+=O*H,v(C,2*R+2*m),C[2*R+2*m+1]+=I*H,v(C,2*R+2*m+1),C[2*R+2*m+1]+=O*L,v(C,2*R+2*m+1),C[2*R+2*m+2]+=I*L,v(C,2*R+2*m+2)}for(S=0;S<A;S++)C[S]=C[2*S+1]<<16|C[2*S];for(S=A;S<2*A;S++)C[S]=0;return new o(C,0)};function v(S,A){for(;(S[A]&65535)!=S[A];)S[A+1]+=S[A]>>>16,S[A]&=65535,A++}function y(S,A){this.g=S,this.h=A}function g(S,A){if(w(A))throw Error("division by zero");if(w(S))return new y(h,h);if(b(S))return A=g(E(S),A),new y(E(A.g),E(A.h));if(b(A))return A=g(S,E(A)),new y(E(A.g),A.h);if(S.g.length>30){if(b(S)||b(A))throw Error("slowDivide_ only works with positive integers.");for(var C=d,R=A;R.l(S)<=0;)C=T(C),R=T(R);var m=x(C,1),I=x(R,1);for(R=x(R,2),C=x(C,2);!w(R);){var O=I.add(R);O.l(S)<=0&&(m=m.add(C),I=O),R=x(R,1),C=x(C,1)}return A=_(S,m.j(A)),new y(m,A)}for(m=h;S.l(A)>=0;){for(C=Math.max(1,Math.floor(S.m()/A.m())),R=Math.ceil(Math.log(C)/Math.LN2),R=R<=48?1:Math.pow(2,R-48),I=c(C),O=I.j(A);b(O)||O.l(S)>0;)C-=R,I=c(C),O=I.j(A);w(I)&&(I=d),m=m.add(I),S=_(S,O)}return new y(m,S)}t.B=function(S){return g(this,S).h},t.and=function(S){const A=Math.max(this.g.length,S.g.length),C=[];for(let R=0;R<A;R++)C[R]=this.i(R)&S.i(R);return new o(C,this.h&S.h)},t.or=function(S){const A=Math.max(this.g.length,S.g.length),C=[];for(let R=0;R<A;R++)C[R]=this.i(R)|S.i(R);return new o(C,this.h|S.h)},t.xor=function(S){const A=Math.max(this.g.length,S.g.length),C=[];for(let R=0;R<A;R++)C[R]=this.i(R)^S.i(R);return new o(C,this.h^S.h)};function T(S){const A=S.g.length+1,C=[];for(let R=0;R<A;R++)C[R]=S.i(R)<<1|S.i(R-1)>>>31;return new o(C,S.h)}function x(S,A){const C=A>>5;A%=32;const R=S.g.length-C,m=[];for(let I=0;I<R;I++)m[I]=A>0?S.i(I+C)>>>A|S.i(I+C+1)<<32-A:S.i(I+C);return new o(m,S.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,Em=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=f,vi=o}).apply(typeof hd<"u"?hd:typeof self<"u"?self:typeof window<"u"?window:{});var Wa=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Tm,qo,wm,il,wc,Am,Im,Sm;(function(){var t,e=Object.defineProperty;function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Wa=="object"&&Wa];for(var P=0;P<u.length;++P){var k=u[P];if(k&&k.Math==Math)return k}throw Error("Cannot find global object")}var r=n(this);function i(u,P){if(P)e:{var k=r;u=u.split(".");for(var U=0;U<u.length-1;U++){var oe=u[U];if(!(oe in k))break e;k=k[oe]}u=u[u.length-1],U=k[u],P=P(U),P!=U&&P!=null&&e(k,u,{configurable:!0,writable:!0,value:P})}}i("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(u){return u||function(P){var k=[],U;for(U in P)Object.prototype.hasOwnProperty.call(P,U)&&k.push([U,P[U]]);return k}});var s=s||{},o=this||self;function a(u){var P=typeof u;return P=="object"&&u!=null||P=="function"}function l(u,P,k){return u.call.apply(u.bind,arguments)}function c(u,P,k){return c=l,c.apply(null,arguments)}function f(u,P){var k=Array.prototype.slice.call(arguments,1);return function(){var U=k.slice();return U.push.apply(U,arguments),u.apply(this,U)}}function h(u,P){function k(){}k.prototype=P.prototype,u.Z=P.prototype,u.prototype=new k,u.prototype.constructor=u,u.Ob=function(U,oe,fe){for(var Ee=Array(arguments.length-2),Ve=2;Ve<arguments.length;Ve++)Ee[Ve-2]=arguments[Ve];return P.prototype[oe].apply(U,Ee)}}var d=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function p(u){const P=u.length;if(P>0){const k=Array(P);for(let U=0;U<P;U++)k[U]=u[U];return k}return[]}function w(u,P){for(let U=1;U<arguments.length;U++){const oe=arguments[U];var k=typeof oe;if(k=k!="object"?k:oe?Array.isArray(oe)?"array":k:"null",k=="array"||k=="object"&&typeof oe.length=="number"){k=u.length||0;const fe=oe.length||0;u.length=k+fe;for(let Ee=0;Ee<fe;Ee++)u[k+Ee]=oe[Ee]}else u.push(oe)}}class b{constructor(P,k){this.i=P,this.j=k,this.h=0,this.g=null}get(){let P;return this.h>0?(this.h--,P=this.g,this.g=P.next,P.next=null):P=this.i(),P}}function E(u){o.setTimeout(()=>{throw u},0)}function _(){var u=S;let P=null;return u.g&&(P=u.g,u.g=u.g.next,u.g||(u.h=null),P.next=null),P}class v{constructor(){this.h=this.g=null}add(P,k){const U=y.get();U.set(P,k),this.h?this.h.next=U:this.g=U,this.h=U}}var y=new b(()=>new g,u=>u.reset());class g{constructor(){this.next=this.g=this.h=null}set(P,k){this.h=P,this.g=k,this.next=null}reset(){this.next=this.g=this.h=null}}let T,x=!1,S=new v,A=()=>{const u=Promise.resolve(void 0);T=()=>{u.then(C)}};function C(){for(var u;u=_();){try{u.h.call(u.g)}catch(k){E(k)}var P=y;P.j(u),P.h<100&&(P.h++,u.next=P.g,P.g=u)}x=!1}function R(){this.u=this.u,this.C=this.C}R.prototype.u=!1,R.prototype.dispose=function(){this.u||(this.u=!0,this.N())},R.prototype[Symbol.dispose]=function(){this.dispose()},R.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function m(u,P){this.type=u,this.g=this.target=P,this.defaultPrevented=!1}m.prototype.h=function(){this.defaultPrevented=!0};var I=(function(){if(!o.addEventListener||!Object.defineProperty)return!1;var u=!1,P=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const k=()=>{};o.addEventListener("test",k,P),o.removeEventListener("test",k,P)}catch{}return u})();function O(u){return/^[\s\xa0]*$/.test(u)}function L(u,P){m.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,P)}h(L,m),L.prototype.init=function(u,P){const k=this.type=u.type,U=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=P,P=u.relatedTarget,P||(k=="mouseover"?P=u.fromElement:k=="mouseout"&&(P=u.toElement)),this.relatedTarget=P,U?(this.clientX=U.clientX!==void 0?U.clientX:U.pageX,this.clientY=U.clientY!==void 0?U.clientY:U.pageY,this.screenX=U.screenX||0,this.screenY=U.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&L.Z.h.call(this)},L.prototype.h=function(){L.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var H="closure_listenable_"+(Math.random()*1e6|0),X=0;function Y(u,P,k,U,oe){this.listener=u,this.proxy=null,this.src=P,this.type=k,this.capture=!!U,this.ha=oe,this.key=++X,this.da=this.fa=!1}function le(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Z(u,P,k){for(const U in u)P.call(k,u[U],U,u)}function q(u,P){for(const k in u)P.call(void 0,u[k],k,u)}function D(u){const P={};for(const k in u)P[k]=u[k];return P}const j="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function z(u,P){let k,U;for(let oe=1;oe<arguments.length;oe++){U=arguments[oe];for(k in U)u[k]=U[k];for(let fe=0;fe<j.length;fe++)k=j[fe],Object.prototype.hasOwnProperty.call(U,k)&&(u[k]=U[k])}}function ne(u){this.src=u,this.g={},this.h=0}ne.prototype.add=function(u,P,k,U,oe){const fe=u.toString();u=this.g[fe],u||(u=this.g[fe]=[],this.h++);const Ee=F(u,P,U,oe);return Ee>-1?(P=u[Ee],k||(P.fa=!1)):(P=new Y(P,this.src,fe,!!U,oe),P.fa=k,u.push(P)),P};function G(u,P){const k=P.type;if(k in u.g){var U=u.g[k],oe=Array.prototype.indexOf.call(U,P,void 0),fe;(fe=oe>=0)&&Array.prototype.splice.call(U,oe,1),fe&&(le(P),u.g[k].length==0&&(delete u.g[k],u.h--))}}function F(u,P,k,U){for(let oe=0;oe<u.length;++oe){const fe=u[oe];if(!fe.da&&fe.listener==P&&fe.capture==!!k&&fe.ha==U)return oe}return-1}var V="closure_lm_"+(Math.random()*1e6|0),$={};function Q(u,P,k,U,oe){if(Array.isArray(P)){for(let fe=0;fe<P.length;fe++)Q(u,P[fe],k,U,oe);return null}return k=te(k),u&&u[H]?u.J(P,k,a(U)?!!U.capture:!1,oe):se(u,P,k,!1,U,oe)}function se(u,P,k,U,oe,fe){if(!P)throw Error("Invalid event type");const Ee=a(oe)?!!oe.capture:!!oe;let Ve=he(u);if(Ve||(u[V]=Ve=new ne(u)),k=Ve.add(P,k,U,Ee,fe),k.proxy)return k;if(U=me(),k.proxy=U,U.src=u,U.listener=k,u.addEventListener)I||(oe=Ee),oe===void 0&&(oe=!1),u.addEventListener(P.toString(),U,oe);else if(u.attachEvent)u.attachEvent(ee(P.toString()),U);else if(u.addListener&&u.removeListener)u.addListener(U);else throw Error("addEventListener and attachEvent are unavailable.");return k}function me(){function u(k){return P.call(u.src,u.listener,k)}const P=ue;return u}function B(u,P,k,U,oe){if(Array.isArray(P))for(var fe=0;fe<P.length;fe++)B(u,P[fe],k,U,oe);else U=a(U)?!!U.capture:!!U,k=te(k),u&&u[H]?(u=u.i,fe=String(P).toString(),fe in u.g&&(P=u.g[fe],k=F(P,k,U,oe),k>-1&&(le(P[k]),Array.prototype.splice.call(P,k,1),P.length==0&&(delete u.g[fe],u.h--)))):u&&(u=he(u))&&(P=u.g[P.toString()],u=-1,P&&(u=F(P,k,U,oe)),(k=u>-1?P[u]:null)&&K(k))}function K(u){if(typeof u!="number"&&u&&!u.da){var P=u.src;if(P&&P[H])G(P.i,u);else{var k=u.type,U=u.proxy;P.removeEventListener?P.removeEventListener(k,U,u.capture):P.detachEvent?P.detachEvent(ee(k),U):P.addListener&&P.removeListener&&P.removeListener(U),(k=he(P))?(G(k,u),k.h==0&&(k.src=null,P[V]=null)):le(u)}}}function ee(u){return u in $?$[u]:$[u]="on"+u}function ue(u,P){if(u.da)u=!0;else{P=new L(P,this);const k=u.listener,U=u.ha||u.src;u.fa&&K(u),u=k.call(U,P)}return u}function he(u){return u=u[V],u instanceof ne?u:null}var ce="__closure_events_fn_"+(Math.random()*1e9>>>0);function te(u){return typeof u=="function"?u:(u[ce]||(u[ce]=function(P){return u.handleEvent(P)}),u[ce])}function J(){R.call(this),this.i=new ne(this),this.M=this,this.G=null}h(J,R),J.prototype[H]=!0,J.prototype.removeEventListener=function(u,P,k,U){B(this,u,P,k,U)};function re(u,P){var k,U=u.G;if(U)for(k=[];U;U=U.G)k.push(U);if(u=u.M,U=P.type||P,typeof P=="string")P=new m(P,u);else if(P instanceof m)P.target=P.target||u;else{var oe=P;P=new m(U,u),z(P,oe)}oe=!0;let fe,Ee;if(k)for(Ee=k.length-1;Ee>=0;Ee--)fe=P.g=k[Ee],oe=ie(fe,U,!0,P)&&oe;if(fe=P.g=u,oe=ie(fe,U,!0,P)&&oe,oe=ie(fe,U,!1,P)&&oe,k)for(Ee=0;Ee<k.length;Ee++)fe=P.g=k[Ee],oe=ie(fe,U,!1,P)&&oe}J.prototype.N=function(){if(J.Z.N.call(this),this.i){var u=this.i;for(const P in u.g){const k=u.g[P];for(let U=0;U<k.length;U++)le(k[U]);delete u.g[P],u.h--}}this.G=null},J.prototype.J=function(u,P,k,U){return this.i.add(String(u),P,!1,k,U)},J.prototype.K=function(u,P,k,U){return this.i.add(String(u),P,!0,k,U)};function ie(u,P,k,U){if(P=u.i.g[String(P)],!P)return!0;P=P.concat();let oe=!0;for(let fe=0;fe<P.length;++fe){const Ee=P[fe];if(Ee&&!Ee.da&&Ee.capture==k){const Ve=Ee.listener,It=Ee.ha||Ee.src;Ee.fa&&G(u.i,Ee),oe=Ve.call(It,U)!==!1&&oe}}return oe&&!U.defaultPrevented}function ae(u,P){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=c(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(P)>2147483647?-1:o.setTimeout(u,P||0)}function pe(u){u.g=ae(()=>{u.g=null,u.i&&(u.i=!1,pe(u))},u.l);const P=u.h;u.h=null,u.m.apply(null,P)}class ve extends R{constructor(P,k){super(),this.m=P,this.l=k,this.h=null,this.i=!1,this.g=null}j(P){this.h=arguments,this.g?this.i=!0:pe(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function _e(u){R.call(this),this.h=u,this.g={}}h(_e,R);var Se=[];function Ne(u){Z(u.g,function(P,k){this.g.hasOwnProperty(k)&&K(P)},u),u.g={}}_e.prototype.N=function(){_e.Z.N.call(this),Ne(this)},_e.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var we=o.JSON.stringify,lt=o.JSON.parse,Oe=class{stringify(u){return o.JSON.stringify(u,void 0)}parse(u){return o.JSON.parse(u,void 0)}};function et(){}function Ct(){}var Xt={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Tn(){m.call(this,"d")}h(Tn,m);function ut(){m.call(this,"c")}h(ut,m);var ct={},wn=null;function Jt(){return wn=wn||new J}ct.Ia="serverreachability";function sn(u){m.call(this,ct.Ia,u)}h(sn,m);function An(u){const P=Jt();re(P,new sn(P))}ct.STAT_EVENT="statevent";function Wr(u,P){m.call(this,ct.STAT_EVENT,u),this.stat=P}h(Wr,m);function ft(u){const P=Jt();re(P,new Wr(P,u))}ct.Ja="timingevent";function $r(u,P){m.call(this,ct.Ja,u),this.size=P}h($r,m);function hn(u,P){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){u()},P)}function xn(){this.g=!0}xn.prototype.ua=function(){this.g=!1};function xi(u,P,k,U,oe,fe){u.info(function(){if(u.g)if(fe){var Ee="",Ve=fe.split("&");for(let tt=0;tt<Ve.length;tt++){var It=Ve[tt].split("=");if(It.length>1){const kt=It[0];It=It[1];const er=kt.split("_");Ee=er.length>=2&&er[1]=="type"?Ee+(kt+"="+It+"&"):Ee+(kt+"=redacted&")}}}else Ee=null;else Ee=fe;return"XMLHTTP REQ ("+U+") [attempt "+oe+"]: "+P+`
`+k+`
`+Ee})}function Di(u,P,k,U,oe,fe,Ee){u.info(function(){return"XMLHTTP RESP ("+U+") [ attempt "+oe+"]: "+P+`
`+k+`
`+fe+" "+Ee})}function Zt(u,P,k,U){u.info(function(){return"XMLHTTP TEXT ("+P+"): "+Dn(u,k)+(U?" "+U:"")})}function gs(u,P){u.info(function(){return"TIMEOUT: "+P})}xn.prototype.info=function(){};function Dn(u,P){if(!u.g)return P;if(!P)return null;try{const fe=JSON.parse(P);if(fe){for(u=0;u<fe.length;u++)if(Array.isArray(fe[u])){var k=fe[u];if(!(k.length<2)){var U=k[1];if(Array.isArray(U)&&!(U.length<1)){var oe=U[0];if(oe!="noop"&&oe!="stop"&&oe!="close")for(let Ee=1;Ee<U.length;Ee++)U[Ee]=""}}}}return we(fe)}catch{return P}}var Qr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ms={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ys;function Yr(){}h(Yr,et),Yr.prototype.g=function(){return new XMLHttpRequest},ys=new Yr;function Ln(u){return encodeURIComponent(String(u))}function wt(u){var P=1;u=u.split(":");const k=[];for(;P>0&&u.length;)k.push(u.shift()),P--;return u.length&&k.push(u.join(":")),k}function In(u,P,k,U){this.j=u,this.i=P,this.l=k,this.S=U||1,this.V=new _e(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new vs}function vs(){this.i=null,this.g="",this.h=!1}var _s={},Li={};function Mi(u,P,k){u.M=1,u.A=Tr(an(P)),u.u=k,u.R=!0,At(u,null)}function At(u,P){u.F=Date.now(),Xr(u),u.B=an(u.A);var k=u.B,U=u.S;Array.isArray(U)||(U=[String(U)]),Rs(k.i,"t",U),u.C=0,k=u.j.L,u.h=new vs,u.g=_h(u.j,k?P:null,!u.u),u.P>0&&(u.O=new ve(c(u.Y,u,u.g),u.P)),P=u.V,k=u.g,U=u.ba;var oe="readystatechange";Array.isArray(oe)||(oe&&(Se[0]=oe.toString()),oe=Se);for(let fe=0;fe<oe.length;fe++){const Ee=Q(k,oe[fe],U||P.handleEvent,!1,P.h||P);if(!Ee)break;P.g[Ee.key]=Ee}P=u.J?D(u.J):{},u.u?(u.v||(u.v="POST"),P["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,P)):(u.v="GET",u.g.ea(u.B,u.v,null,P)),An(),xi(u.i,u.v,u.B,u.l,u.S,u.u)}In.prototype.ba=function(u){u=u.target;const P=this.O;P&&W(u)==3?P.j():this.Y(u)},In.prototype.Y=function(u){try{if(u==this.g)e:{const Ve=W(this.g),It=this.g.ya(),tt=this.g.ca();if(!(Ve<3)&&(Ve!=3||this.g&&(this.h.h||this.g.la()||de(this.g)))){this.K||Ve!=4||It==7||(It==8||tt<=0?An(3):An(2)),Nt(this);var P=this.g.ca();this.X=P;var k=So(this);if(this.o=P==200,Di(this.i,this.v,this.B,this.l,this.S,Ve,P),this.o){if(this.U&&!this.L){t:{if(this.g){var U,oe=this.g;if((U=oe.g?oe.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!O(U)){var fe=U;break t}}fe=null}if(u=fe)Zt(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Vi(this,u);else{this.o=!1,this.m=3,ft(12),Mn(this),br(this);break e}}if(this.R){u=!0;let kt;for(;!this.K&&this.C<k.length;)if(kt=Ro(this,k),kt==Li){Ve==4&&(this.m=4,ft(14),u=!1),Zt(this.i,this.l,null,"[Incomplete Response]");break}else if(kt==_s){this.m=4,ft(15),Zt(this.i,this.l,k,"[Invalid Chunk]"),u=!1;break}else Zt(this.i,this.l,kt,null),Vi(this,kt);if(bs(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ve!=4||k.length!=0||this.h.h||(this.m=1,ft(16),u=!1),this.o=this.o&&u,!u)Zt(this.i,this.l,k,"[Invalid Chunked Response]"),Mn(this),br(this);else if(k.length>0&&!this.W){this.W=!0;var Ee=this.j;Ee.g==this&&Ee.aa&&!Ee.P&&(Ee.j.info("Great, no buffering proxy detected. Bytes received: "+k.length),jn(Ee),Ee.P=!0,ft(11))}}else Zt(this.i,this.l,k,null),Vi(this,k);Ve==4&&Mn(this),this.o&&!this.K&&(Ve==4?Bi(this.j,this):(this.o=!1,Xr(this)))}else xe(this.g),P==400&&k.indexOf("Unknown SID")>0?(this.m=3,ft(12)):(this.m=0,ft(13)),Mn(this),br(this)}}}catch{}finally{}};function So(u){if(!bs(u))return u.g.la();const P=de(u.g);if(P==="")return"";let k="";const U=P.length,oe=W(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Mn(u),br(u),"";u.h.i=new o.TextDecoder}for(let fe=0;fe<U;fe++)u.h.h=!0,k+=u.h.i.decode(P[fe],{stream:!(oe&&fe==U-1)});return P.length=0,u.h.g+=k,u.C=0,u.h.g}function bs(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function Ro(u,P){var k=u.C,U=P.indexOf(`
`,k);return U==-1?Li:(k=Number(P.substring(k,U)),isNaN(k)?_s:(U+=1,U+k>P.length?Li:(P=P.slice(U,U+k),u.C=U+k,P)))}In.prototype.cancel=function(){this.K=!0,Mn(this)};function Xr(u){u.T=Date.now()+u.H,Es(u,u.H)}function Es(u,P){if(u.D!=null)throw Error("WatchDog timer not null");u.D=hn(c(u.aa,u),P)}function Nt(u){u.D&&(o.clearTimeout(u.D),u.D=null)}In.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(gs(this.i,this.B),this.M!=2&&(An(),ft(17)),Mn(this),this.m=2,br(this)):Es(this,this.T-u)};function br(u){u.j.I==0||u.K||Bi(u.j,u)}function Mn(u){Nt(u);var P=u.O;P&&typeof P.dispose=="function"&&P.dispose(),u.O=null,Ne(u.V),u.g&&(P=u.g,u.g=null,P.abort(),P.dispose())}function Vi(u,P){try{var k=u.j;if(k.I!=0&&(k.g==u||Qn(k.h,u))){if(!u.L&&Qn(k.h,u)&&k.I==3){try{var U=k.Ba.g.parse(P)}catch{U=null}if(Array.isArray(U)&&U.length==3){var oe=U;if(oe[0]==0){e:if(!k.v){if(k.g)if(k.g.F+3e3<u.F)Or(k),st(k);else break e;gn(k),ft(18)}}else k.xa=oe[1],0<k.xa-k.K&&oe[2]<37500&&k.F&&k.A==0&&!k.C&&(k.C=hn(c(k.Va,k),6e3));Ui(k.h)<=1&&k.ta&&(k.ta=void 0)}else qi(k,11)}else if((u.L||k.g==u)&&Or(k),!O(P))for(oe=k.Ba.g.parse(P),P=0;P<oe.length;P++){let tt=oe[P];const kt=tt[0];if(!(kt<=k.K))if(k.K=kt,tt=tt[1],k.I==2)if(tt[0]=="c"){k.M=tt[1],k.ba=tt[2];const er=tt[3];er!=null&&(k.ka=er,k.j.info("VER="+k.ka));const Hi=tt[4];Hi!=null&&(k.za=Hi,k.j.info("SVER="+k.za));const ti=tt[5];ti!=null&&typeof ti=="number"&&ti>0&&(U=1.5*ti,k.O=U,k.j.info("backChannelRequestTimeoutMs_="+U)),U=k;const ni=u.g;if(ni){const Ha=ni.g?ni.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ha){var fe=U.h;fe.g||Ha.indexOf("spdy")==-1&&Ha.indexOf("quic")==-1&&Ha.indexOf("h2")==-1||(fe.j=fe.l,fe.g=new Set,fe.h&&(on(fe,fe.h),fe.h=null))}if(U.G){const Cu=ni.g?ni.g.getResponseHeader("X-HTTP-Session-Id"):null;Cu&&(U.wa=Cu,We(U.J,U.G,Cu))}}k.I=3,k.l&&k.l.ra(),k.aa&&(k.T=Date.now()-u.F,k.j.info("Handshake RTT: "+k.T+"ms")),U=k;var Ee=u;if(U.na=vh(U,U.L?U.ba:null,U.W),Ee.L){Jr(U.h,Ee);var Ve=Ee,It=U.O;It&&(Ve.H=It),Ve.D&&(Nt(Ve),Xr(Ve)),U.g=Ee}else Fn(U);k.i.length>0&&yt(k)}else tt[0]!="stop"&&tt[0]!="close"||qi(k,7);else k.I==3&&(tt[0]=="stop"||tt[0]=="close"?tt[0]=="stop"?qi(k,7):Ue(k):tt[0]!="noop"&&k.l&&k.l.qa(tt),k.A=0)}}An(4)}catch{}}var Oo=class{constructor(u,P){this.g=u,this.map=P}};function Ts(u){this.l=u||10,o.PerformanceNavigationTiming?(u=o.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Er(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ui(u){return u.h?1:u.g?u.g.size:0}function Qn(u,P){return u.h?u.h==P:u.g?u.g.has(P):!1}function on(u,P){u.g?u.g.add(P):u.h=P}function Jr(u,P){u.h&&u.h==P?u.h=null:u.g&&u.g.has(P)&&u.g.delete(P)}Ts.prototype.cancel=function(){if(this.i=ws(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function ws(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let P=u.i;for(const k of u.g.values())P=P.concat(k.G);return P}return p(u.i)}var As=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Po(u,P){if(u){u=u.split("&");for(let k=0;k<u.length;k++){const U=u[k].indexOf("=");let oe,fe=null;U>=0?(oe=u[k].substring(0,U),fe=u[k].substring(U+1)):oe=u[k],P(oe,fe?decodeURIComponent(fe.replace(/\+/g," ")):"")}}}function Sn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let P;u instanceof Sn?(this.l=u.l,Rn(this,u.j),this.o=u.o,this.g=u.g,Vn(this,u.u),this.h=u.h,Un(this,Os(u.i)),this.m=u.m):u&&(P=String(u).match(As))?(this.l=!1,Rn(this,P[1]||"",!0),this.o=wr(P[2]||""),this.g=wr(P[3]||"",!0),Vn(this,P[4]),this.h=wr(P[5]||"",!0),Un(this,P[6]||"",!0),this.m=wr(P[7]||"")):(this.l=!1,this.i=new Lt(null,this.l))}Sn.prototype.toString=function(){const u=[];var P=this.j;P&&u.push(Ar(P,Is,!0),":");var k=this.g;return(k||P=="file")&&(u.push("//"),(P=this.o)&&u.push(Ar(P,Is,!0),"@"),u.push(Ln(k).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),k=this.u,k!=null&&u.push(":",String(k))),(k=this.h)&&(this.g&&k.charAt(0)!="/"&&u.push("/"),u.push(Ar(k,k.charAt(0)=="/"?No:Fi,!0))),(k=this.i.toString())&&u.push("?",k),(k=this.m)&&u.push("#",Ar(k,Ir)),u.join("")},Sn.prototype.resolve=function(u){const P=an(this);let k=!!u.j;k?Rn(P,u.j):k=!!u.o,k?P.o=u.o:k=!!u.g,k?P.g=u.g:k=u.u!=null;var U=u.h;if(k)Vn(P,u.u);else if(k=!!u.h){if(U.charAt(0)!="/")if(this.g&&!this.h)U="/"+U;else{var oe=P.h.lastIndexOf("/");oe!=-1&&(U=P.h.slice(0,oe+1)+U)}if(oe=U,oe==".."||oe==".")U="";else if(oe.indexOf("./")!=-1||oe.indexOf("/.")!=-1){U=oe.lastIndexOf("/",0)==0,oe=oe.split("/");const fe=[];for(let Ee=0;Ee<oe.length;){const Ve=oe[Ee++];Ve=="."?U&&Ee==oe.length&&fe.push(""):Ve==".."?((fe.length>1||fe.length==1&&fe[0]!="")&&fe.pop(),U&&Ee==oe.length&&fe.push("")):(fe.push(Ve),U=!0)}U=fe.join("/")}else U=oe}return k?P.h=U:k=u.i.toString()!=="",k?Un(P,Os(u.i)):k=!!u.m,k&&(P.m=u.m),P};function an(u){return new Sn(u)}function Rn(u,P,k){u.j=k?wr(P,!0):P,u.j&&(u.j=u.j.replace(/:$/,""))}function Vn(u,P){if(P){if(P=Number(P),isNaN(P)||P<0)throw Error("Bad port number "+P);u.u=P}else u.u=null}function Un(u,P,k){P instanceof Lt?(u.i=P,xo(u.i,u.l)):(k||(P=Ar(P,ko)),u.i=new Lt(P,u.l))}function We(u,P,k){u.i.set(P,k)}function Tr(u){return We(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function wr(u,P){return u?P?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Ar(u,P,k){return typeof u=="string"?(u=encodeURI(u).replace(P,Co),k&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Co(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Is=/[#\/\?@]/g,Fi=/[#\?:]/g,No=/[#\?]/g,ko=/[#\?@]/g,Ir=/#/g;function Lt(u,P){this.h=this.g=null,this.i=u||null,this.j=!!P}function Mt(u){u.g||(u.g=new Map,u.h=0,u.i&&Po(u.i,function(P,k){u.add(decodeURIComponent(P.replace(/\+/g," ")),k)}))}t=Lt.prototype,t.add=function(u,P){Mt(this),this.i=null,u=Yn(this,u);let k=this.g.get(u);return k||this.g.set(u,k=[]),k.push(P),this.h+=1,this};function On(u,P){Mt(u),P=Yn(u,P),u.g.has(P)&&(u.i=null,u.h-=u.g.get(P).length,u.g.delete(P))}function Ss(u,P){return Mt(u),P=Yn(u,P),u.g.has(P)}t.forEach=function(u,P){Mt(this),this.g.forEach(function(k,U){k.forEach(function(oe){u.call(P,oe,U,this)},this)},this)};function dn(u,P){Mt(u);let k=[];if(typeof P=="string")Ss(u,P)&&(k=k.concat(u.g.get(Yn(u,P))));else for(u=Array.from(u.g.values()),P=0;P<u.length;P++)k=k.concat(u[P]);return k}t.set=function(u,P){return Mt(this),this.i=null,u=Yn(this,u),Ss(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[P]),this.h+=1,this},t.get=function(u,P){return u?(u=dn(this,u),u.length>0?String(u[0]):P):P};function Rs(u,P,k){On(u,P),k.length>0&&(u.i=null,u.g.set(Yn(u,P),p(k)),u.h+=k.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],P=Array.from(this.g.keys());for(let U=0;U<P.length;U++){var k=P[U];const oe=Ln(k);k=dn(this,k);for(let fe=0;fe<k.length;fe++){let Ee=oe;k[fe]!==""&&(Ee+="="+Ln(k[fe])),u.push(Ee)}}return this.i=u.join("&")};function Os(u){const P=new Lt;return P.i=u.i,u.g&&(P.g=new Map(u.g),P.h=u.h),P}function Yn(u,P){return P=String(P),u.j&&(P=P.toLowerCase()),P}function xo(u,P){P&&!u.j&&(Mt(u),u.i=null,u.g.forEach(function(k,U){const oe=U.toLowerCase();U!=oe&&(On(this,U),Rs(this,oe,k))},u)),u.j=P}function Ps(u,P){const k=new xn;if(o.Image){const U=new Image;U.onload=f(pn,k,"TestLoadImage: loaded",!0,P,U),U.onerror=f(pn,k,"TestLoadImage: error",!1,P,U),U.onabort=f(pn,k,"TestLoadImage: abort",!1,P,U),U.ontimeout=f(pn,k,"TestLoadImage: timeout",!1,P,U),o.setTimeout(function(){U.ontimeout&&U.ontimeout()},1e4),U.src=u}else P(!1)}function Vt(u,P){const k=new xn,U=new AbortController,oe=setTimeout(()=>{U.abort(),pn(k,"TestPingServer: timeout",!1,P)},1e4);fetch(u,{signal:U.signal}).then(fe=>{clearTimeout(oe),fe.ok?pn(k,"TestPingServer: ok",!0,P):pn(k,"TestPingServer: server error",!1,P)}).catch(()=>{clearTimeout(oe),pn(k,"TestPingServer: error",!1,P)})}function pn(u,P,k,U,oe){try{oe&&(oe.onload=null,oe.onerror=null,oe.onabort=null,oe.ontimeout=null),U(k)}catch{}}function Cs(){this.g=new Oe}function Xn(u){this.i=u.Sb||null,this.h=u.ab||!1}h(Xn,et),Xn.prototype.g=function(){return new Jn(this.i,this.h)};function Jn(u,P){J.call(this),this.H=u,this.o=P,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}h(Jn,J),t=Jn.prototype,t.open=function(u,P){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=P,this.readyState=1,Zn(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const P={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(P.body=u),(this.H||o).fetch(new Request(this.D,P)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Rr(this)),this.readyState=0},t.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Zn(this)),this.g&&(this.readyState=3,Zn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Sr(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Sr(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}t.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var P=u.value?u.value:new Uint8Array(0);(P=this.B.decode(P,{stream:!u.done}))&&(this.response=this.responseText+=P)}u.done?Rr(this):Zn(this),this.readyState==3&&Sr(this)}},t.Oa=function(u){this.g&&(this.response=this.responseText=u,Rr(this))},t.Na=function(u){this.g&&(this.response=u,Rr(this))},t.ga=function(){this.g&&Rr(this)};function Rr(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Zn(u)}t.setRequestHeader=function(u,P){this.A.append(u,P)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],P=this.h.entries();for(var k=P.next();!k.done;)k=k.value,u.push(k[0]+": "+k[1]),k=P.next();return u.join(`\r
`)};function Zn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Jn.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Zr(u){let P="";return Z(u,function(k,U){P+=U,P+=":",P+=k,P+=`\r
`}),P}function ei(u,P,k){e:{for(U in k){var U=!1;break e}U=!0}U||(k=Zr(k),typeof u=="string"?k!=null&&Ln(k):We(u,P,k))}function ze(u){J.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}h(ze,J);var Ns=/^https?$/i,ji=["POST","PUT"];t=ze.prototype,t.Fa=function(u){this.H=u},t.ea=function(u,P,k,U){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);P=P?P.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ys.g(),this.g.onreadystatechange=d(c(this.Ca,this));try{this.B=!0,this.g.open(P,String(u),!0),this.B=!1}catch(fe){ks(this,fe);return}if(u=k||"",k=new Map(this.headers),U)if(Object.getPrototypeOf(U)===Object.prototype)for(var oe in U)k.set(oe,U[oe]);else if(typeof U.keys=="function"&&typeof U.get=="function")for(const fe of U.keys())k.set(fe,U.get(fe));else throw Error("Unknown input type for opt_headers: "+String(U));U=Array.from(k.keys()).find(fe=>fe.toLowerCase()=="content-type"),oe=o.FormData&&u instanceof o.FormData,!(Array.prototype.indexOf.call(ji,P,void 0)>=0)||U||oe||k.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[fe,Ee]of k)this.g.setRequestHeader(fe,Ee);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(fe){ks(this,fe)}};function ks(u,P){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=P,u.o=5,xs(u),M(u)}function xs(u){u.A||(u.A=!0,re(u,"complete"),re(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,re(this,"complete"),re(this,"abort"),M(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),M(this,!0)),ze.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?N(this):this.Xa())},t.Xa=function(){N(this)};function N(u){if(u.h&&typeof s<"u"){if(u.v&&W(u)==4)setTimeout(u.Ca.bind(u),0);else if(re(u,"readystatechange"),W(u)==4){u.h=!1;try{const fe=u.ca();e:switch(fe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var P=!0;break e;default:P=!1}var k;if(!(k=P)){var U;if(U=fe===0){let Ee=String(u.D).match(As)[1]||null;!Ee&&o.self&&o.self.location&&(Ee=o.self.location.protocol.slice(0,-1)),U=!Ns.test(Ee?Ee.toLowerCase():"")}k=U}if(k)re(u,"complete"),re(u,"success");else{u.o=6;try{var oe=W(u)>2?u.g.statusText:""}catch{oe=""}u.l=oe+" ["+u.ca()+"]",xs(u)}}finally{M(u)}}}}function M(u,P){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const k=u.g;u.g=null,P||re(u,"ready");try{k.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function W(u){return u.g?u.g.readyState:0}t.ca=function(){try{return W(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(u){if(this.g){var P=this.g.responseText;return u&&P.indexOf(u)==0&&(P=P.substring(u.length)),lt(P)}};function de(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function xe(u){const P={};u=(u.g&&W(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let U=0;U<u.length;U++){if(O(u[U]))continue;var k=wt(u[U]);const oe=k[0];if(k=k[1],typeof k!="string")continue;k=k.trim();const fe=P[oe]||[];P[oe]=fe,fe.push(k)}q(P,function(U){return U.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ae(u,P,k){return k&&k.internalChannelParams&&k.internalChannelParams[u]||P}function qe(u){this.za=0,this.i=[],this.j=new xn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ae("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ae("baseRetryDelayMs",5e3,u),this.Za=Ae("retryDelaySeedMs",1e4,u),this.Ta=Ae("forwardChannelMaxRetries",2,u),this.va=Ae("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Ts(u&&u.concurrentRequestLimit),this.Ba=new Cs,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=qe.prototype,t.ka=8,t.I=1,t.connect=function(u,P,k,U){ft(0),this.W=u,this.H=P||{},k&&U!==void 0&&(this.H.OSID=k,this.H.OAID=U),this.F=this.X,this.J=vh(this,null,this.W),yt(this)};function Ue(u){if(Ke(u),u.I==3){var P=u.V++,k=an(u.J);if(We(k,"SID",u.M),We(k,"RID",P),We(k,"TYPE","terminate"),pt(u,k),P=new In(u,u.j,P),P.M=2,P.A=Tr(an(k)),k=!1,o.navigator&&o.navigator.sendBeacon)try{k=o.navigator.sendBeacon(P.A.toString(),"")}catch{}!k&&o.Image&&(new Image().src=P.A,k=!0),k||(P.g=_h(P.j,null),P.g.ea(P.A)),P.F=Date.now(),Xr(P)}yh(u)}function st(u){u.g&&(jn(u),u.g.cancel(),u.g=null)}function Ke(u){st(u),u.v&&(o.clearTimeout(u.v),u.v=null),Or(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&o.clearTimeout(u.m),u.m=null)}function yt(u){if(!Er(u.h)&&!u.m){u.m=!0;var P=u.Ea;T||A(),x||(T(),x=!0),S.add(P,u),u.D=0}}function Bt(u,P){return Ui(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=P.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=hn(c(u.Ea,u,P),mh(u,u.D)),u.D++,!0)}t.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const oe=new In(this,this.j,u);let fe=this.o;if(this.U&&(fe?(fe=D(fe),z(fe,this.U)):fe=this.U),this.u!==null||this.R||(oe.J=fe,fe=null),this.S)e:{for(var P=0,k=0;k<this.i.length;k++){t:{var U=this.i[k];if("__data__"in U.map&&(U=U.map.__data__,typeof U=="string")){U=U.length;break t}U=void 0}if(U===void 0)break;if(P+=U,P>4096){P=k;break e}if(P===4096||k===this.i.length-1){P=k+1;break e}}P=1e3}else P=1e3;P=_t(this,oe,P),k=an(this.J),We(k,"RID",u),We(k,"CVER",22),this.G&&We(k,"X-HTTP-Session-Id",this.G),pt(this,k),fe&&(this.R?P="headers="+Ln(Zr(fe))+"&"+P:this.u&&ei(k,this.u,fe)),on(this.h,oe),this.Ra&&We(k,"TYPE","init"),this.S?(We(k,"$req",P),We(k,"SID","null"),oe.U=!0,Mi(oe,k,null)):Mi(oe,k,P),this.I=2}}else this.I==3&&(u?dt(this,u):this.i.length==0||Er(this.h)||dt(this))};function dt(u,P){var k;P?k=P.l:k=u.V++;const U=an(u.J);We(U,"SID",u.M),We(U,"RID",k),We(U,"AID",u.K),pt(u,U),u.u&&u.o&&ei(U,u.u,u.o),k=new In(u,u.j,k,u.D+1),u.u===null&&(k.J=u.o),P&&(u.i=P.G.concat(u.i)),P=_t(u,k,1e3),k.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),on(u.h,k),Mi(k,U,P)}function pt(u,P){u.H&&Z(u.H,function(k,U){We(P,U,k)}),u.l&&Z({},function(k,U){We(P,U,k)})}function _t(u,P,k){k=Math.min(u.i.length,k);const U=u.l?c(u.l.Ka,u.l,u):null;e:{var oe=u.i;let Ve=-1;for(;;){const It=["count="+k];Ve==-1?k>0?(Ve=oe[0].g,It.push("ofs="+Ve)):Ve=0:It.push("ofs="+Ve);let tt=!0;for(let kt=0;kt<k;kt++){var fe=oe[kt].g;const er=oe[kt].map;if(fe-=Ve,fe<0)Ve=Math.max(0,oe[kt].g-100),tt=!1;else try{fe="req"+fe+"_"||"";try{var Ee=er instanceof Map?er:Object.entries(er);for(const[Hi,ti]of Ee){let ni=ti;a(ti)&&(ni=we(ti)),It.push(fe+Hi+"="+encodeURIComponent(ni))}}catch(Hi){throw It.push(fe+"type="+encodeURIComponent("_badmap")),Hi}}catch{U&&U(er)}}if(tt){Ee=It.join("&");break e}}Ee=void 0}return u=u.i.splice(0,k),P.G=u,Ee}function Fn(u){if(!u.g&&!u.v){u.Y=1;var P=u.Da;T||A(),x||(T(),x=!0),S.add(P,u),u.A=0}}function gn(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=hn(c(u.Da,u),mh(u,u.A)),u.A++,!0)}t.Da=function(){if(this.v=null,Do(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=hn(c(this.Wa,this),u)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ft(10),st(this),Do(this))};function jn(u){u.B!=null&&(o.clearTimeout(u.B),u.B=null)}function Do(u){u.g=new In(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var P=an(u.na);We(P,"RID","rpc"),We(P,"SID",u.M),We(P,"AID",u.K),We(P,"CI",u.F?"0":"1"),!u.F&&u.ia&&We(P,"TO",u.ia),We(P,"TYPE","xmlhttp"),pt(u,P),u.u&&u.o&&ei(P,u.u,u.o),u.O&&(u.g.H=u.O);var k=u.g;u=u.ba,k.M=1,k.A=Tr(an(P)),k.u=null,k.R=!0,At(k,u)}t.Va=function(){this.C!=null&&(this.C=null,st(this),gn(this),ft(19))};function Or(u){u.C!=null&&(o.clearTimeout(u.C),u.C=null)}function Bi(u,P){var k=null;if(u.g==P){Or(u),jn(u),u.g=null;var U=2}else if(Qn(u.h,P))k=P.G,Jr(u.h,P),U=1;else return;if(u.I!=0){if(P.o)if(U==1){k=P.u?P.u.length:0,P=Date.now()-P.F;var oe=u.D;U=Jt(),re(U,new $r(U,k)),yt(u)}else Fn(u);else if(oe=P.m,oe==3||oe==0&&P.X>0||!(U==1&&Bt(u,P)||U==2&&gn(u)))switch(k&&k.length>0&&(P=u.h,P.i=P.i.concat(k)),oe){case 1:qi(u,5);break;case 4:qi(u,10);break;case 3:qi(u,6);break;default:qi(u,2)}}}function mh(u,P){let k=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(k*=2),k*P}function qi(u,P){if(u.j.info("Error code "+P),P==2){var k=c(u.bb,u),U=u.Ua;const oe=!U;U=new Sn(U||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||Rn(U,"https"),Tr(U),oe?Ps(U.toString(),k):Vt(U.toString(),k)}else ft(2);u.I=0,u.l&&u.l.pa(P),yh(u),Ke(u)}t.bb=function(u){u?(this.j.info("Successfully pinged google.com"),ft(2)):(this.j.info("Failed to ping google.com"),ft(1))};function yh(u){if(u.I=0,u.ja=[],u.l){const P=ws(u.h);(P.length!=0||u.i.length!=0)&&(w(u.ja,P),w(u.ja,u.i),u.h.i.length=0,p(u.i),u.i.length=0),u.l.oa()}}function vh(u,P,k){var U=k instanceof Sn?an(k):new Sn(k);if(U.g!="")P&&(U.g=P+"."+U.g),Vn(U,U.u);else{var oe=o.location;U=oe.protocol,P=P?P+"."+oe.hostname:oe.hostname,oe=+oe.port;const fe=new Sn(null);U&&Rn(fe,U),P&&(fe.g=P),oe&&Vn(fe,oe),k&&(fe.h=k),U=fe}return k=u.G,P=u.wa,k&&P&&We(U,k,P),We(U,"VER",u.ka),pt(u,U),U}function _h(u,P,k){if(P&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return P=u.Aa&&!u.ma?new ze(new Xn({ab:k})):new ze(u.ma),P.Fa(u.L),P}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function bh(){}t=bh.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function qa(){}qa.prototype.g=function(u,P){return new mn(u,P)};function mn(u,P){J.call(this),this.g=new qe(P),this.l=u,this.h=P&&P.messageUrlParams||null,u=P&&P.messageHeaders||null,P&&P.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=P&&P.initMessageHeaders||null,P&&P.messageContentType&&(u?u["X-WebChannel-Content-Type"]=P.messageContentType:u={"X-WebChannel-Content-Type":P.messageContentType}),P&&P.sa&&(u?u["X-WebChannel-Client-Profile"]=P.sa:u={"X-WebChannel-Client-Profile":P.sa}),this.g.U=u,(u=P&&P.Qb)&&!O(u)&&(this.g.u=u),this.A=P&&P.supportsCrossDomainXhr||!1,this.v=P&&P.sendRawJson||!1,(P=P&&P.httpSessionIdParam)&&!O(P)&&(this.g.G=P,u=this.h,u!==null&&P in u&&(u=this.h,P in u&&delete u[P])),this.j=new Ds(this)}h(mn,J),mn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},mn.prototype.close=function(){Ue(this.g)},mn.prototype.o=function(u){var P=this.g;if(typeof u=="string"){var k={};k.__data__=u,u=k}else this.v&&(k={},k.__data__=we(u),u=k);P.i.push(new Oo(P.Ya++,u)),P.I==3&&yt(P)},mn.prototype.N=function(){this.g.l=null,delete this.j,Ue(this.g),delete this.g,mn.Z.N.call(this)};function Eh(u){Tn.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var P=u.__sm__;if(P){e:{for(const k in P){u=k;break e}u=void 0}(this.i=u)&&(u=this.i,P=P!==null&&u in P?P[u]:void 0),this.data=P}else this.data=u}h(Eh,Tn);function Th(){ut.call(this),this.status=1}h(Th,ut);function Ds(u){this.g=u}h(Ds,bh),Ds.prototype.ra=function(){re(this.g,"a")},Ds.prototype.qa=function(u){re(this.g,new Eh(u))},Ds.prototype.pa=function(u){re(this.g,new Th)},Ds.prototype.oa=function(){re(this.g,"b")},qa.prototype.createWebChannel=qa.prototype.g,mn.prototype.send=mn.prototype.o,mn.prototype.open=mn.prototype.m,mn.prototype.close=mn.prototype.close,Sm=function(){return new qa},Im=function(){return Jt()},Am=ct,wc={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Qr.NO_ERROR=0,Qr.TIMEOUT=8,Qr.HTTP_ERROR=6,il=Qr,ms.COMPLETE="complete",wm=ms,Ct.EventType=Xt,Xt.OPEN="a",Xt.CLOSE="b",Xt.ERROR="c",Xt.MESSAGE="d",J.prototype.listen=J.prototype.J,qo=Ct,ze.prototype.listenOnce=ze.prototype.K,ze.prototype.getLastError=ze.prototype.Ha,ze.prototype.getLastErrorCode=ze.prototype.ya,ze.prototype.getStatus=ze.prototype.ca,ze.prototype.getResponseJson=ze.prototype.La,ze.prototype.getResponseText=ze.prototype.la,ze.prototype.send=ze.prototype.ea,ze.prototype.setWithCredentials=ze.prototype.Fa,Tm=ze}).apply(typeof Wa<"u"?Wa:typeof self<"u"?self:typeof window<"u"?window:{});const dd="@firebase/firestore",pd="4.9.2";class Ht{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ht.UNAUTHENTICATED=new Ht(null),Ht.GOOGLE_CREDENTIALS=new Ht("google-credentials-uid"),Ht.FIRST_PARTY=new Ht("first-party-uid"),Ht.MOCK_USER=new Ht("mock-user");let bo="12.3.0";const ss=new vf("@firebase/firestore");function Bs(){return ss.logLevel}function Te(t,...e){if(ss.logLevel<=Fe.DEBUG){const n=e.map(Tf);ss.debug(`Firestore (${bo}): ${t}`,...n)}}function qr(t,...e){if(ss.logLevel<=Fe.ERROR){const n=e.map(Tf);ss.error(`Firestore (${bo}): ${t}`,...n)}}function lo(t,...e){if(ss.logLevel<=Fe.WARN){const n=e.map(Tf);ss.warn(`Firestore (${bo}): ${t}`,...n)}}function Tf(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function Ce(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,Rm(t,r,n)}function Rm(t,e,n){let r=`FIRESTORE (${bo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw qr(r),new Error(r)}function Je(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||Rm(e,i,r)}function Le(t,e){return t}const ye={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ie extends vr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Mr{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class Om{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class o1{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Ht.UNAUTHENTICATED)))}shutdown(){}}class a1{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class l1{constructor(e){this.t=e,this.currentUser=Ht.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Je(this.o===void 0,42304);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Mr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Mr,e.enqueueRetryable((()=>i(this.currentUser)))};const o=()=>{const l=s;e.enqueueRetryable((async()=>{await l.promise,await i(this.currentUser)}))},a=l=>{Te("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit((l=>a(l))),setTimeout((()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Te("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Mr)}}),0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(Te("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Je(typeof r.accessToken=="string",31837,{l:r}),new Om(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Je(e===null||typeof e=="string",2055,{h:e}),new Ht(e)}}class u1{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Ht.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class c1{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new u1(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Ht.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class gd{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class f1{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,vn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Je(this.o===void 0,3512);const r=s=>{s.error!=null&&Te("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.m;return this.m=s.token,Te("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable((()=>r(s)))};const i=s=>{Te("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((s=>i(s))),setTimeout((()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):Te("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new gd(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Je(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new gd(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function h1(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class wf{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=h1(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function je(t,e){return t<e?-1:t>e?1:0}function Ac(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),s=e.charAt(r);if(i!==s)return Gu(i)===Gu(s)?je(i,s):Gu(i)?1:-1}return je(t.length,e.length)}const d1=55296,p1=57343;function Gu(t){const e=t.charCodeAt(0);return e>=d1&&e<=p1}function uo(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}const md="__name__";class rr{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ce(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Ce(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return rr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof rr?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=rr.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return je(e.length,n.length)}static compareSegments(e,n){const r=rr.isNumericId(e),i=rr.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?rr.extractNumericId(e).compare(rr.extractNumericId(n)):Ac(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return vi.fromString(e.substring(4,e.length-2))}}class ot extends rr{construct(e,n,r){return new ot(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ie(ye.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new ot(n)}static emptyPath(){return new ot([])}}const g1=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ft extends rr{construct(e,n,r){return new Ft(e,n,r)}static isValidIdentifier(e){return g1.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ft.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===md}static keyField(){return new Ft([md])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Ie(ye.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new Ie(ye.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Ie(ye.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new Ie(ye.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ft(n)}static emptyPath(){return new Ft([])}}class Re{constructor(e){this.path=e}static fromPath(e){return new Re(ot.fromString(e))}static fromName(e){return new Re(ot.fromString(e).popFirst(5))}static empty(){return new Re(ot.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ot.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ot.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Re(new ot(e.slice()))}}function Pm(t,e,n){if(!n)throw new Ie(ye.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function m1(t,e,n,r){if(e===!0&&r===!0)throw new Ie(ye.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function yd(t){if(!Re.isDocumentKey(t))throw new Ie(ye.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function vd(t){if(Re.isDocumentKey(t))throw new Ie(ye.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Cm(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Af(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ce(12329,{type:typeof t})}function Hr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ie(ye.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Af(t);throw new Ie(ye.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function Et(t,e){const n={typeString:t};return e&&(n.value=e),n}function ka(t,e){if(!Cm(t))throw new Ie(ye.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(i&&typeof o!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&o!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new Ie(ye.INVALID_ARGUMENT,n);return!0}const _d=-62135596800,bd=1e6;class at{static now(){return at.fromMillis(Date.now())}static fromDate(e){return at.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*bd);return new at(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ie(ye.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ie(ye.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<_d)throw new Ie(ye.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ie(ye.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/bd}_compareTo(e){return this.seconds===e.seconds?je(this.nanoseconds,e.nanoseconds):je(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:at._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ka(e,at._jsonSchema))return new at(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-_d;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}at._jsonSchemaVersion="firestore/timestamp/1.0",at._jsonSchema={type:Et("string",at._jsonSchemaVersion),seconds:Et("number"),nanoseconds:Et("number")};class De{static fromTimestamp(e){return new De(e)}static min(){return new De(new at(0,0))}static max(){return new De(new at(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const ya=-1;function y1(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=De.fromTimestamp(r===1e9?new at(n+1,0):new at(n,r));return new Ti(i,Re.empty(),e)}function v1(t){return new Ti(t.readTime,t.key,ya)}class Ti{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ti(De.min(),Re.empty(),ya)}static max(){return new Ti(De.max(),Re.empty(),ya)}}function _1(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Re.comparator(t.documentKey,e.documentKey),n!==0?n:je(t.largestBatchId,e.largestBatchId))}const b1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class E1{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Eo(t){if(t.code!==ye.FAILED_PRECONDITION||t.message!==b1)throw t;Te("LocalStore","Unexpectedly lost primary lease")}class ge{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ce(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ge(((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ge?n:ge.resolve(n)}catch(n){return ge.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ge.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ge.reject(n)}static resolve(e){return new ge(((n,r)=>{n(e)}))}static reject(e){return new ge(((n,r)=>{r(e)}))}static waitFor(e){return new ge(((n,r)=>{let i=0,s=0,o=!1;e.forEach((a=>{++i,a.next((()=>{++s,o&&s===i&&n()}),(l=>r(l)))})),o=!0,s===i&&n()}))}static or(e){let n=ge.resolve(!1);for(const r of e)n=n.next((i=>i?ge.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,s)=>{r.push(n.call(this,i,s))})),this.waitFor(r)}static mapArray(e,n){return new ge(((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;n(e[c]).next((f=>{o[c]=f,++a,a===s&&r(o)}),(f=>i(f)))}}))}static doWhile(e,n){return new ge(((r,i)=>{const s=()=>{e()===!0?n().next((()=>{s()}),i):r()};s()}))}}function T1(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function To(t){return t.name==="IndexedDbTransactionError"}class lu{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}lu.ce=-1;const If=-1;function uu(t){return t==null}function Rl(t){return t===0&&1/t==-1/0}function w1(t){return typeof t=="number"&&Number.isInteger(t)&&!Rl(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const Nm="";function A1(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Ed(e)),e=I1(t.get(n),e);return Ed(e)}function I1(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case Nm:n+="";break;default:n+=s}}return n}function Ed(t){return t+Nm+""}function Td(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Oi(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function km(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class ht{constructor(e,n){this.comparator=e,this.root=n||Ut.EMPTY}insert(e,n){return new ht(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ut.BLACK,null,null))}remove(e){return new ht(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ut.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new $a(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new $a(this.root,e,this.comparator,!1)}getReverseIterator(){return new $a(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new $a(this.root,e,this.comparator,!0)}}class $a{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ut{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Ut.RED,this.left=i??Ut.EMPTY,this.right=s??Ut.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Ut(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ut.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Ut.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ut.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ut.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ce(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ce(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ce(27949);return e+(this.isRed()?0:1)}}Ut.EMPTY=null,Ut.RED=!0,Ut.BLACK=!1;Ut.EMPTY=new class{constructor(){this.size=0}get key(){throw Ce(57766)}get value(){throw Ce(16141)}get color(){throw Ce(16727)}get left(){throw Ce(29726)}get right(){throw Ce(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new Ut(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Pt{constructor(e){this.comparator=e,this.data=new ht(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new wd(this.data.getIterator())}getIteratorFrom(e){return new wd(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Pt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Pt(this.comparator);return n.data=e,n}}class wd{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class En{constructor(e){this.fields=e,e.sort(Ft.comparator)}static empty(){return new En([])}unionWith(e){let n=new Pt(Ft.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new En(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return uo(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}class xm extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class jt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new xm("Invalid base64 string: "+s):s}})(e);return new jt(n)}static fromUint8Array(e){const n=(function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s})(e);return new jt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return je(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}jt.EMPTY_BYTE_STRING=new jt("");const S1=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function wi(t){if(Je(!!t,39018),typeof t=="string"){let e=0;const n=S1.exec(t);if(Je(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:vt(t.seconds),nanos:vt(t.nanos)}}function vt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ai(t){return typeof t=="string"?jt.fromBase64String(t):jt.fromUint8Array(t)}const Dm="server_timestamp",Lm="__type__",Mm="__previous_value__",Vm="__local_write_time__";function Sf(t){return(t?.mapValue?.fields||{})[Lm]?.stringValue===Dm}function cu(t){const e=t.mapValue.fields[Mm];return Sf(e)?cu(e):e}function va(t){const e=wi(t.mapValue.fields[Vm].timestampValue);return new at(e.seconds,e.nanos)}class R1{constructor(e,n,r,i,s,o,a,l,c,f){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c,this.isUsingEmulator=f}}const Ol="(default)";class _a{constructor(e,n){this.projectId=e,this.database=n||Ol}static empty(){return new _a("","")}get isDefaultDatabase(){return this.database===Ol}isEqual(e){return e instanceof _a&&e.projectId===this.projectId&&e.database===this.database}}const Um="__type__",O1="__max__",Qa={mapValue:{}},Fm="__vector__",Pl="value";function Ii(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Sf(t)?4:C1(t)?9007199254740991:P1(t)?10:11:Ce(28295,{value:t})}function gr(t,e){if(t===e)return!0;const n=Ii(t);if(n!==Ii(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return va(t).isEqual(va(e));case 3:return(function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=wi(i.timestampValue),a=wi(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,s){return Ai(i.bytesValue).isEqual(Ai(s.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,s){return vt(i.geoPointValue.latitude)===vt(s.geoPointValue.latitude)&&vt(i.geoPointValue.longitude)===vt(s.geoPointValue.longitude)})(t,e);case 2:return(function(i,s){if("integerValue"in i&&"integerValue"in s)return vt(i.integerValue)===vt(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=vt(i.doubleValue),a=vt(s.doubleValue);return o===a?Rl(o)===Rl(a):isNaN(o)&&isNaN(a)}return!1})(t,e);case 9:return uo(t.arrayValue.values||[],e.arrayValue.values||[],gr);case 10:case 11:return(function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(Td(o)!==Td(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!gr(o[l],a[l])))return!1;return!0})(t,e);default:return Ce(52216,{left:t})}}function ba(t,e){return(t.values||[]).find((n=>gr(n,e)))!==void 0}function co(t,e){if(t===e)return 0;const n=Ii(t),r=Ii(e);if(n!==r)return je(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return je(t.booleanValue,e.booleanValue);case 2:return(function(s,o){const a=vt(s.integerValue||s.doubleValue),l=vt(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1})(t,e);case 3:return Ad(t.timestampValue,e.timestampValue);case 4:return Ad(va(t),va(e));case 5:return Ac(t.stringValue,e.stringValue);case 6:return(function(s,o){const a=Ai(s),l=Ai(o);return a.compareTo(l)})(t.bytesValue,e.bytesValue);case 7:return(function(s,o){const a=s.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const f=je(a[c],l[c]);if(f!==0)return f}return je(a.length,l.length)})(t.referenceValue,e.referenceValue);case 8:return(function(s,o){const a=je(vt(s.latitude),vt(o.latitude));return a!==0?a:je(vt(s.longitude),vt(o.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return Id(t.arrayValue,e.arrayValue);case 10:return(function(s,o){const a=s.fields||{},l=o.fields||{},c=a[Pl]?.arrayValue,f=l[Pl]?.arrayValue,h=je(c?.values?.length||0,f?.values?.length||0);return h!==0?h:Id(c,f)})(t.mapValue,e.mapValue);case 11:return(function(s,o){if(s===Qa.mapValue&&o===Qa.mapValue)return 0;if(s===Qa.mapValue)return 1;if(o===Qa.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),c=o.fields||{},f=Object.keys(c);l.sort(),f.sort();for(let h=0;h<l.length&&h<f.length;++h){const d=Ac(l[h],f[h]);if(d!==0)return d;const p=co(a[l[h]],c[f[h]]);if(p!==0)return p}return je(l.length,f.length)})(t.mapValue,e.mapValue);default:throw Ce(23264,{he:n})}}function Ad(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return je(t,e);const n=wi(t),r=wi(e),i=je(n.seconds,r.seconds);return i!==0?i:je(n.nanos,r.nanos)}function Id(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=co(n[i],r[i]);if(s)return s}return je(n.length,r.length)}function fo(t){return Ic(t)}function Ic(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=wi(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Ai(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Re.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Ic(s);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Ic(n.fields[o])}`;return i+"}"})(t.mapValue):Ce(61005,{value:t})}function sl(t){switch(Ii(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=cu(t);return e?16+sl(e):16;case 5:return 2*t.stringValue.length;case 6:return Ai(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,s)=>i+sl(s)),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return Oi(r.fields,((s,o)=>{i+=s.length+sl(o)})),i})(t.mapValue);default:throw Ce(13486,{value:t})}}function Sc(t){return!!t&&"integerValue"in t}function Rf(t){return!!t&&"arrayValue"in t}function Sd(t){return!!t&&"nullValue"in t}function Rd(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ol(t){return!!t&&"mapValue"in t}function P1(t){return(t?.mapValue?.fields||{})[Um]?.stringValue===Fm}function na(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Oi(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=na(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=na(t.arrayValue.values[n]);return e}return{...t}}function C1(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===O1}class fn{constructor(e){this.value=e}static empty(){return new fn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!ol(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=na(n)}setAll(e){let n=Ft.emptyPath(),r={},i=[];e.forEach(((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=na(o):i.push(a.lastSegment())}));const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());ol(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return gr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];ol(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Oi(n,((i,s)=>e[i]=s));for(const i of r)delete e[i]}clone(){return new fn(na(this.value))}}function jm(t){const e=[];return Oi(t.fields,((n,r)=>{const i=new Ft([n]);if(ol(r)){const s=jm(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)})),new En(e)}class Kt{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Kt(e,0,De.min(),De.min(),De.min(),fn.empty(),0)}static newFoundDocument(e,n,r,i){return new Kt(e,1,n,De.min(),r,i,0)}static newNoDocument(e,n){return new Kt(e,2,n,De.min(),De.min(),fn.empty(),0)}static newUnknownDocument(e,n){return new Kt(e,3,n,De.min(),De.min(),fn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(De.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=fn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=fn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=De.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Kt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Kt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Cl{constructor(e,n){this.position=e,this.inclusive=n}}function Od(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=Re.comparator(Re.fromName(o.referenceValue),n.key):r=co(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function Pd(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!gr(t.position[n],e.position[n]))return!1;return!0}class Nl{constructor(e,n="asc"){this.field=e,this.dir=n}}function N1(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class Bm{}class Rt extends Bm{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new x1(e,n,r):n==="array-contains"?new M1(e,r):n==="in"?new V1(e,r):n==="not-in"?new U1(e,r):n==="array-contains-any"?new F1(e,r):new Rt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new D1(e,r):new L1(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(co(n,this.value)):n!==null&&Ii(this.value)===Ii(n)&&this.matchesComparison(co(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ce(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class mr extends Bm{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new mr(e,n)}matches(e){return qm(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function qm(t){return t.op==="and"}function Hm(t){return k1(t)&&qm(t)}function k1(t){for(const e of t.filters)if(e instanceof mr)return!1;return!0}function Rc(t){if(t instanceof Rt)return t.field.canonicalString()+t.op.toString()+fo(t.value);if(Hm(t))return t.filters.map((e=>Rc(e))).join(",");{const e=t.filters.map((n=>Rc(n))).join(",");return`${t.op}(${e})`}}function zm(t,e){return t instanceof Rt?(function(r,i){return i instanceof Rt&&r.op===i.op&&r.field.isEqual(i.field)&&gr(r.value,i.value)})(t,e):t instanceof mr?(function(r,i){return i instanceof mr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((s,o,a)=>s&&zm(o,i.filters[a])),!0):!1})(t,e):void Ce(19439)}function Km(t){return t instanceof Rt?(function(n){return`${n.field.canonicalString()} ${n.op} ${fo(n.value)}`})(t):t instanceof mr?(function(n){return n.op.toString()+" {"+n.getFilters().map(Km).join(" ,")+"}"})(t):"Filter"}class x1 extends Rt{constructor(e,n,r){super(e,n,r),this.key=Re.fromName(r.referenceValue)}matches(e){const n=Re.comparator(e.key,this.key);return this.matchesComparison(n)}}class D1 extends Rt{constructor(e,n){super(e,"in",n),this.keys=Gm("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class L1 extends Rt{constructor(e,n){super(e,"not-in",n),this.keys=Gm("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function Gm(t,e){return(e.arrayValue?.values||[]).map((n=>Re.fromName(n.referenceValue)))}class M1 extends Rt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Rf(n)&&ba(n.arrayValue,this.value)}}class V1 extends Rt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ba(this.value.arrayValue,n)}}class U1 extends Rt{constructor(e,n){super(e,"not-in",n)}matches(e){if(ba(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!ba(this.value.arrayValue,n)}}class F1 extends Rt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Rf(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>ba(this.value.arrayValue,r)))}}class j1{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.Te=null}}function Cd(t,e=null,n=[],r=[],i=null,s=null,o=null){return new j1(t,e,n,r,i,s,o)}function Of(t){const e=Le(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>Rc(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(s){return s.field.canonicalString()+s.dir})(r))).join(","),uu(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>fo(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>fo(r))).join(",")),e.Te=n}return e.Te}function Pf(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!N1(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!zm(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Pd(t.startAt,e.startAt)&&Pd(t.endAt,e.endAt)}function Oc(t){return Re.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class fu{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function B1(t,e,n,r,i,s,o,a){return new fu(t,e,n,r,i,s,o,a)}function Cf(t){return new fu(t)}function Nd(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function q1(t){return t.collectionGroup!==null}function ra(t){const e=Le(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Pt(Ft.comparator);return o.filters.forEach((l=>{l.getFlattenedFilters().forEach((c=>{c.isInequality()&&(a=a.add(c.field))}))})),a})(e).forEach((s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new Nl(s,r))})),n.has(Ft.keyField().canonicalString())||e.Ie.push(new Nl(Ft.keyField(),r))}return e.Ie}function ar(t){const e=Le(t);return e.Ee||(e.Ee=H1(e,ra(t))),e.Ee}function H1(t,e){if(t.limitType==="F")return Cd(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const s=i.dir==="desc"?"asc":"desc";return new Nl(i.field,s)}));const n=t.endAt?new Cl(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Cl(t.startAt.position,t.startAt.inclusive):null;return Cd(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Pc(t,e,n){return new fu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function hu(t,e){return Pf(ar(t),ar(e))&&t.limitType===e.limitType}function Wm(t){return`${Of(ar(t))}|lt:${t.limitType}`}function qs(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>Km(i))).join(", ")}]`),uu(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(o){return`${o.field.canonicalString()} (${o.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>fo(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>fo(i))).join(",")),`Target(${r})`})(ar(t))}; limitType=${t.limitType})`}function du(t,e){return e.isFoundDocument()&&(function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Re.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)})(t,e)&&(function(r,i){for(const s of ra(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(o,a,l){const c=Od(o,a,l);return o.inclusive?c<=0:c<0})(r.startAt,ra(r),i)||r.endAt&&!(function(o,a,l){const c=Od(o,a,l);return o.inclusive?c>=0:c>0})(r.endAt,ra(r),i))})(t,e)}function z1(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function $m(t){return(e,n)=>{let r=!1;for(const i of ra(t)){const s=K1(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function K1(t,e,n){const r=t.field.isKeyField()?Re.comparator(e.key,n.key):(function(s,o,a){const l=o.data.field(s),c=a.data.field(s);return l!==null&&c!==null?co(l,c):Ce(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ce(19790,{direction:t.dir})}}class hs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Oi(this.inner,((n,r)=>{for(const[i,s]of r)e(i,s)}))}isEmpty(){return km(this.inner)}size(){return this.innerSize}}const G1=new ht(Re.comparator);function zr(){return G1}const Qm=new ht(Re.comparator);function Ho(...t){let e=Qm;for(const n of t)e=e.insert(n.key,n);return e}function Ym(t){let e=Qm;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Yi(){return ia()}function Xm(){return ia()}function ia(){return new hs((t=>t.toString()),((t,e)=>t.isEqual(e)))}const W1=new ht(Re.comparator),$1=new Pt(Re.comparator);function Be(...t){let e=$1;for(const n of t)e=e.add(n);return e}const Q1=new Pt(je);function Y1(){return Q1}function Nf(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Rl(e)?"-0":e}}function Jm(t){return{integerValue:""+t}}function X1(t,e){return w1(e)?Jm(e):Nf(t,e)}class pu{constructor(){this._=void 0}}function J1(t,e,n){return t instanceof kl?(function(i,s){const o={fields:{[Lm]:{stringValue:Dm},[Vm]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Sf(s)&&(s=cu(s)),s&&(o.fields[Mm]=s),{mapValue:o}})(n,e):t instanceof Ea?ey(t,e):t instanceof Ta?ty(t,e):(function(i,s){const o=Zm(i,s),a=kd(o)+kd(i.Ae);return Sc(o)&&Sc(i.Ae)?Jm(a):Nf(i.serializer,a)})(t,e)}function Z1(t,e,n){return t instanceof Ea?ey(t,e):t instanceof Ta?ty(t,e):n}function Zm(t,e){return t instanceof xl?(function(r){return Sc(r)||(function(s){return!!s&&"doubleValue"in s})(r)})(e)?e:{integerValue:0}:null}class kl extends pu{}class Ea extends pu{constructor(e){super(),this.elements=e}}function ey(t,e){const n=ny(e);for(const r of t.elements)n.some((i=>gr(i,r)))||n.push(r);return{arrayValue:{values:n}}}class Ta extends pu{constructor(e){super(),this.elements=e}}function ty(t,e){let n=ny(e);for(const r of t.elements)n=n.filter((i=>!gr(i,r)));return{arrayValue:{values:n}}}class xl extends pu{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function kd(t){return vt(t.integerValue||t.doubleValue)}function ny(t){return Rf(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function eT(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof Ea&&i instanceof Ea||r instanceof Ta&&i instanceof Ta?uo(r.elements,i.elements,gr):r instanceof xl&&i instanceof xl?gr(r.Ae,i.Ae):r instanceof kl&&i instanceof kl})(t.transform,e.transform)}class tT{constructor(e,n){this.version=e,this.transformResults=n}}class Kn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Kn}static exists(e){return new Kn(void 0,e)}static updateTime(e){return new Kn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function al(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class gu{}function ry(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new kf(t.key,Kn.none()):new xa(t.key,t.data,Kn.none());{const n=t.data,r=fn.empty();let i=new Pt(Ft.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Pi(t.key,r,new En(i.toArray()),Kn.none())}}function nT(t,e,n){t instanceof xa?(function(i,s,o){const a=i.value.clone(),l=Dd(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()})(t,e,n):t instanceof Pi?(function(i,s,o){if(!al(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=Dd(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(iy(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()})(t,e,n):(function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()})(0,e,n)}function sa(t,e,n,r){return t instanceof xa?(function(s,o,a,l){if(!al(s.precondition,o))return a;const c=s.value.clone(),f=Ld(s.fieldTransforms,l,o);return c.setAll(f),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null})(t,e,n,r):t instanceof Pi?(function(s,o,a,l){if(!al(s.precondition,o))return a;const c=Ld(s.fieldTransforms,l,o),f=o.data;return f.setAll(iy(s)),f.setAll(c),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map((h=>h.field)))})(t,e,n,r):(function(s,o,a){return al(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a})(t,e,n)}function rT(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=Zm(r.transform,i||null);s!=null&&(n===null&&(n=fn.empty()),n.set(r.field,s))}return n||null}function xd(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&uo(r,i,((s,o)=>eT(s,o)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class xa extends gu{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Pi extends gu{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function iy(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function Dd(t,e,n){const r=new Map;Je(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,Z1(o,a,n[i]))}return r}function Ld(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,J1(s,o,e))}return r}class kf extends gu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class iT extends gu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class sT{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&nT(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=sa(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=sa(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Xm();return this.mutations.forEach((i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=ry(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(De.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Be())}isEqual(e){return this.batchId===e.batchId&&uo(this.mutations,e.mutations,((n,r)=>xd(n,r)))&&uo(this.baseMutations,e.baseMutations,((n,r)=>xd(n,r)))}}class xf{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Je(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return W1})();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new xf(e,n,r,i)}}class oT{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class aT{constructor(e,n){this.count=e,this.unchangedNames=n}}var bt,He;function lT(t){switch(t){case ye.OK:return Ce(64938);case ye.CANCELLED:case ye.UNKNOWN:case ye.DEADLINE_EXCEEDED:case ye.RESOURCE_EXHAUSTED:case ye.INTERNAL:case ye.UNAVAILABLE:case ye.UNAUTHENTICATED:return!1;case ye.INVALID_ARGUMENT:case ye.NOT_FOUND:case ye.ALREADY_EXISTS:case ye.PERMISSION_DENIED:case ye.FAILED_PRECONDITION:case ye.ABORTED:case ye.OUT_OF_RANGE:case ye.UNIMPLEMENTED:case ye.DATA_LOSS:return!0;default:return Ce(15467,{code:t})}}function sy(t){if(t===void 0)return qr("GRPC error has no .code"),ye.UNKNOWN;switch(t){case bt.OK:return ye.OK;case bt.CANCELLED:return ye.CANCELLED;case bt.UNKNOWN:return ye.UNKNOWN;case bt.DEADLINE_EXCEEDED:return ye.DEADLINE_EXCEEDED;case bt.RESOURCE_EXHAUSTED:return ye.RESOURCE_EXHAUSTED;case bt.INTERNAL:return ye.INTERNAL;case bt.UNAVAILABLE:return ye.UNAVAILABLE;case bt.UNAUTHENTICATED:return ye.UNAUTHENTICATED;case bt.INVALID_ARGUMENT:return ye.INVALID_ARGUMENT;case bt.NOT_FOUND:return ye.NOT_FOUND;case bt.ALREADY_EXISTS:return ye.ALREADY_EXISTS;case bt.PERMISSION_DENIED:return ye.PERMISSION_DENIED;case bt.FAILED_PRECONDITION:return ye.FAILED_PRECONDITION;case bt.ABORTED:return ye.ABORTED;case bt.OUT_OF_RANGE:return ye.OUT_OF_RANGE;case bt.UNIMPLEMENTED:return ye.UNIMPLEMENTED;case bt.DATA_LOSS:return ye.DATA_LOSS;default:return Ce(39323,{code:t})}}(He=bt||(bt={}))[He.OK=0]="OK",He[He.CANCELLED=1]="CANCELLED",He[He.UNKNOWN=2]="UNKNOWN",He[He.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",He[He.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",He[He.NOT_FOUND=5]="NOT_FOUND",He[He.ALREADY_EXISTS=6]="ALREADY_EXISTS",He[He.PERMISSION_DENIED=7]="PERMISSION_DENIED",He[He.UNAUTHENTICATED=16]="UNAUTHENTICATED",He[He.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",He[He.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",He[He.ABORTED=10]="ABORTED",He[He.OUT_OF_RANGE=11]="OUT_OF_RANGE",He[He.UNIMPLEMENTED=12]="UNIMPLEMENTED",He[He.INTERNAL=13]="INTERNAL",He[He.UNAVAILABLE=14]="UNAVAILABLE",He[He.DATA_LOSS=15]="DATA_LOSS";function uT(){return new TextEncoder}const cT=new vi([4294967295,4294967295],0);function Md(t){const e=uT().encode(t),n=new Em;return n.update(e),new Uint8Array(n.digest())}function Vd(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new vi([n,r],0),new vi([i,s],0)]}class Df{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new zo(`Invalid padding: ${n}`);if(r<0)throw new zo(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new zo(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new zo(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=vi.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(vi.fromNumber(r)));return i.compare(cT)===1&&(i=new vi([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Md(e),[r,i]=Vd(n);for(let s=0;s<this.hashCount;s++){const o=this.ye(r,i,s);if(!this.we(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new Df(s,i,n);return r.forEach((a=>o.insert(a))),o}insert(e){if(this.ge===0)return;const n=Md(e),[r,i]=Vd(n);for(let s=0;s<this.hashCount;s++){const o=this.ye(r,i,s);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class zo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class mu{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Da.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new mu(De.min(),i,new ht(je),zr(),Be())}}class Da{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Da(r,n,Be(),Be(),Be())}}class ll{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class oy{constructor(e,n){this.targetId=e,this.Ce=n}}class ay{constructor(e,n,r=jt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Ud{constructor(){this.ve=0,this.Fe=Fd(),this.Me=jt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Be(),n=Be(),r=Be();return this.Fe.forEach(((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Ce(38017,{changeType:s})}})),new Da(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=Fd()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Je(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class fT{constructor(e){this.Ge=e,this.ze=new Map,this.je=zr(),this.Je=Ya(),this.He=Ya(),this.Ye=new ht(je)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Ce(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,i)=>{this.rt(i)&&n(i)}))}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const s=i.target;if(Oc(s))if(r===0){const o=new Re(s.path);this.et(n,o,Kt.newNoDocument(o,De.min()))}else Je(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const a=this.ut(e),l=a?this.ct(a,e,o):1;if(l!==0){this.it(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,c)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=Ai(r).toUint8Array()}catch(l){if(l instanceof xm)return lo("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Df(o,i,s)}catch(l){return lo(l instanceof zo?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.ge===0?null:a}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach((s=>{const o=this.Ge.ht(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.et(n,s,null),i++)})),i}Tt(e){const n=new Map;this.ze.forEach(((s,o)=>{const a=this.ot(o);if(a){if(s.current&&Oc(a.target)){const l=new Re(a.target.path);this.It(l).has(o)||this.Et(o,l)||this.et(o,l,Kt.newNoDocument(l,e))}s.Be&&(n.set(o,s.ke()),s.qe())}}));let r=Be();this.He.forEach(((s,o)=>{let a=!0;o.forEachWhile((l=>{const c=this.ot(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)})),a&&(r=r.add(s))})),this.je.forEach(((s,o)=>o.setReadTime(e)));const i=new mu(e,n,this.Ye,this.je,r);return this.je=zr(),this.Je=Ya(),this.He=Ya(),this.Ye=new ht(je),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new Ud,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Pt(je),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Pt(je),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Te("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Ud),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Ya(){return new ht(Re.comparator)}function Fd(){return new ht(Re.comparator)}const hT={asc:"ASCENDING",desc:"DESCENDING"},dT={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},pT={and:"AND",or:"OR"};class gT{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Cc(t,e){return t.useProto3Json||uu(e)?e:{value:e}}function Dl(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ly(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function mT(t,e){return Dl(t,e.toTimestamp())}function lr(t){return Je(!!t,49232),De.fromTimestamp((function(n){const r=wi(n);return new at(r.seconds,r.nanos)})(t))}function Lf(t,e){return Nc(t,e).canonicalString()}function Nc(t,e){const n=(function(i){return new ot(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function uy(t){const e=ot.fromString(t);return Je(py(e),10190,{key:e.toString()}),e}function kc(t,e){return Lf(t.databaseId,e.path)}function Wu(t,e){const n=uy(e);if(n.get(1)!==t.databaseId.projectId)throw new Ie(ye.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ie(ye.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Re(fy(n))}function cy(t,e){return Lf(t.databaseId,e)}function yT(t){const e=uy(t);return e.length===4?ot.emptyPath():fy(e)}function xc(t){return new ot(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function fy(t){return Je(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function jd(t,e,n){return{name:kc(t,e),fields:n.value.mapValue.fields}}function vT(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Ce(39313,{state:c})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=(function(c,f){return c.useProto3Json?(Je(f===void 0||typeof f=="string",58123),jt.fromBase64String(f||"")):(Je(f===void 0||f instanceof Buffer||f instanceof Uint8Array,16193),jt.fromUint8Array(f||new Uint8Array))})(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&(function(c){const f=c.code===void 0?ye.UNKNOWN:sy(c.code);return new Ie(f,c.message||"")})(o);n=new ay(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Wu(t,r.document.name),s=lr(r.document.updateTime),o=r.document.createTime?lr(r.document.createTime):De.min(),a=new fn({mapValue:{fields:r.document.fields}}),l=Kt.newFoundDocument(i,s,o,a),c=r.targetIds||[],f=r.removedTargetIds||[];n=new ll(c,f,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Wu(t,r.document),s=r.readTime?lr(r.readTime):De.min(),o=Kt.newNoDocument(i,s),a=r.removedTargetIds||[];n=new ll([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Wu(t,r.document),s=r.removedTargetIds||[];n=new ll([],s,i,null)}else{if(!("filter"in e))return Ce(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new aT(i,s),a=r.targetId;n=new oy(a,o)}}return n}function _T(t,e){let n;if(e instanceof xa)n={update:jd(t,e.key,e.value)};else if(e instanceof kf)n={delete:kc(t,e.key)};else if(e instanceof Pi)n={update:jd(t,e.key,e.data),updateMask:OT(e.fieldMask)};else{if(!(e instanceof iT))return Ce(16599,{Vt:e.type});n={verify:kc(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(s,o){const a=o.transform;if(a instanceof kl)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Ea)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ta)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof xl)return{fieldPath:o.field.canonicalString(),increment:a.Ae};throw Ce(20930,{transform:o.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,s){return s.updateTime!==void 0?{updateTime:mT(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Ce(27497)})(t,e.precondition)),n}function bT(t,e){return t&&t.length>0?(Je(e!==void 0,14353),t.map((n=>(function(i,s){let o=i.updateTime?lr(i.updateTime):lr(s);return o.isEqual(De.min())&&(o=lr(s)),new tT(o,i.transformResults||[])})(n,e)))):[]}function ET(t,e){return{documents:[cy(t,e.path)]}}function TT(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=cy(t,i);const s=(function(c){if(c.length!==0)return dy(mr.create(c,"and"))})(e.filters);s&&(n.structuredQuery.where=s);const o=(function(c){if(c.length!==0)return c.map((f=>(function(d){return{field:Hs(d.field),direction:IT(d.dir)}})(f)))})(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Cc(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=(function(c){return{before:c.inclusive,values:c.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(c){return{before:!c.inclusive,values:c.position}})(e.endAt)),{ft:n,parent:i}}function wT(t){let e=yT(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Je(r===1,65062);const f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let s=[];n.where&&(s=(function(h){const d=hy(h);return d instanceof mr&&Hm(d)?d.getFilters():[d]})(n.where));let o=[];n.orderBy&&(o=(function(h){return h.map((d=>(function(w){return new Nl(zs(w.field),(function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(w.direction))})(d)))})(n.orderBy));let a=null;n.limit&&(a=(function(h){let d;return d=typeof h=="object"?h.value:h,uu(d)?null:d})(n.limit));let l=null;n.startAt&&(l=(function(h){const d=!!h.before,p=h.values||[];return new Cl(p,d)})(n.startAt));let c=null;return n.endAt&&(c=(function(h){const d=!h.before,p=h.values||[];return new Cl(p,d)})(n.endAt)),B1(e,i,o,s,a,"F",l,c)}function AT(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ce(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function hy(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=zs(n.unaryFilter.field);return Rt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=zs(n.unaryFilter.field);return Rt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=zs(n.unaryFilter.field);return Rt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=zs(n.unaryFilter.field);return Rt.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ce(61313);default:return Ce(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Rt.create(zs(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ce(58110);default:return Ce(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return mr.create(n.compositeFilter.filters.map((r=>hy(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ce(1026)}})(n.compositeFilter.op))})(t):Ce(30097,{filter:t})}function IT(t){return hT[t]}function ST(t){return dT[t]}function RT(t){return pT[t]}function Hs(t){return{fieldPath:t.canonicalString()}}function zs(t){return Ft.fromServerFormat(t.fieldPath)}function dy(t){return t instanceof Rt?(function(n){if(n.op==="=="){if(Rd(n.value))return{unaryFilter:{field:Hs(n.field),op:"IS_NAN"}};if(Sd(n.value))return{unaryFilter:{field:Hs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Rd(n.value))return{unaryFilter:{field:Hs(n.field),op:"IS_NOT_NAN"}};if(Sd(n.value))return{unaryFilter:{field:Hs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Hs(n.field),op:ST(n.op),value:n.value}}})(t):t instanceof mr?(function(n){const r=n.getFilters().map((i=>dy(i)));return r.length===1?r[0]:{compositeFilter:{op:RT(n.op),filters:r}}})(t):Ce(54877,{filter:t})}function OT(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function py(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}class di{constructor(e,n,r,i,s=De.min(),o=De.min(),a=jt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new di(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new di(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new di(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new di(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class PT{constructor(e){this.yt=e}}function CT(t){const e=wT({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Pc(e,e.limit,"L"):e}class NT{constructor(){this.Cn=new kT}addToCollectionParentIndex(e,n){return this.Cn.add(n),ge.resolve()}getCollectionParents(e,n){return ge.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ge.resolve()}deleteFieldIndex(e,n){return ge.resolve()}deleteAllFieldIndexes(e){return ge.resolve()}createTargetIndexes(e,n){return ge.resolve()}getDocumentsMatchingTarget(e,n){return ge.resolve(null)}getIndexType(e,n){return ge.resolve(0)}getFieldIndexes(e,n){return ge.resolve([])}getNextCollectionGroupToUpdate(e){return ge.resolve(null)}getMinOffset(e,n){return ge.resolve(Ti.min())}getMinOffsetFromCollectionGroup(e,n){return ge.resolve(Ti.min())}updateCollectionGroup(e,n,r){return ge.resolve()}updateIndexEntries(e,n){return ge.resolve()}}class kT{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Pt(ot.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Pt(ot.comparator)).toArray()}}const Bd={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},gy=41943040;class un{static withCacheSize(e){return new un(e,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}un.DEFAULT_COLLECTION_PERCENTILE=10,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,un.DEFAULT=new un(gy,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),un.DISABLED=new un(-1,0,0);class ho{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new ho(0)}static cr(){return new ho(-1)}}const qd="LruGarbageCollector",xT=1048576;function Hd([t,e],[n,r]){const i=je(t,n);return i===0?je(e,r):i}class DT{constructor(e){this.Ir=e,this.buffer=new Pt(Hd),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();Hd(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class LT{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Te(qd,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){To(n)?Te(qd,"Ignoring IndexedDB error during garbage collection: ",n):await Eo(n)}await this.Vr(3e5)}))}}class MT{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return ge.resolve(lu.ce);const r=new DT(n);return this.mr.forEachTarget(e,(i=>r.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>r.Ar(i))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Te("LruGarbageCollector","Garbage collection skipped; disabled"),ge.resolve(Bd)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(Te("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Bd):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,s,o,a,l,c;const f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((h=>(h>this.params.maximumSequenceNumbersToCollect?(Te("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),i=this.params.maximumSequenceNumbersToCollect):i=h,o=Date.now(),this.nthSequenceNumber(e,i)))).next((h=>(r=h,a=Date.now(),this.removeTargets(e,r,n)))).next((h=>(s=h,l=Date.now(),this.removeOrphanedDocuments(e,r)))).next((h=>(c=Date.now(),Bs()<=Fe.DEBUG&&Te("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-f}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(l-a)+`ms
	Removed ${h} documents in `+(c-l)+`ms
Total Duration: ${c-f}ms`),ge.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:h}))))}}function VT(t,e){return new MT(t,e)}class UT{constructor(){this.changes=new hs((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Kt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ge.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class FT{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class jT{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&sa(r.mutation,i,En.empty(),at.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,Be()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=Be()){const i=Yi();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((s=>{let o=Ho();return s.forEach(((a,l)=>{o=o.insert(a,l.overlayedDocument)})),o}))))}getOverlayedDocuments(e,n){const r=Yi();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,Be())))}populateOverlays(e,n,r){const i=[];return r.forEach((s=>{n.has(s)||i.push(s)})),this.documentOverlayCache.getOverlays(e,i).next((s=>{s.forEach(((o,a)=>{n.set(o,a)}))}))}computeViews(e,n,r,i){let s=zr();const o=ia(),a=(function(){return ia()})();return n.forEach(((l,c)=>{const f=r.get(c.key);i.has(c.key)&&(f===void 0||f.mutation instanceof Pi)?s=s.insert(c.key,c):f!==void 0?(o.set(c.key,f.mutation.getFieldMask()),sa(f.mutation,c,f.mutation.getFieldMask(),at.now())):o.set(c.key,En.empty())})),this.recalculateAndSaveOverlays(e,s).next((l=>(l.forEach(((c,f)=>o.set(c,f))),n.forEach(((c,f)=>a.set(c,new FT(f,o.get(c)??null)))),a)))}recalculateAndSaveOverlays(e,n){const r=ia();let i=new ht(((o,a)=>o-a)),s=Be();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((o=>{for(const a of o)a.keys().forEach((l=>{const c=n.get(l);if(c===null)return;let f=r.get(l)||En.empty();f=a.applyToLocalView(c,f),r.set(l,f);const h=(i.get(a.batchId)||Be()).add(l);i=i.insert(a.batchId,h)}))})).next((()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,f=l.value,h=Xm();f.forEach((d=>{if(!s.has(d)){const p=ry(n.get(d),r.get(d));p!==null&&h.set(d,p),s=s.add(d)}})),o.push(this.documentOverlayCache.saveOverlays(e,c,h))}return ge.waitFor(o)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return(function(o){return Re.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):q1(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):ge.resolve(Yi());let a=ya,l=s;return o.next((c=>ge.forEach(c,((f,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(f)?ge.resolve():this.remoteDocumentCache.getEntry(e,f).next((d=>{l=l.insert(f,d)}))))).next((()=>this.populateOverlays(e,c,s))).next((()=>this.computeViews(e,l,c,Be()))).next((f=>({batchId:a,changes:Ym(f)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Re(n)).next((r=>{let i=Ho();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Ho();return this.indexManager.getCollectionParents(e,s).next((a=>ge.forEach(a,(l=>{const c=(function(h,d){return new fu(d,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)})(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next((f=>{f.forEach(((h,d)=>{o=o.insert(h,d)}))}))})).next((()=>o))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i)))).next((o=>{s.forEach(((l,c)=>{const f=c.getKey();o.get(f)===null&&(o=o.insert(f,Kt.newInvalidDocument(f)))}));let a=Ho();return o.forEach(((l,c)=>{const f=s.get(l);f!==void 0&&sa(f.mutation,c,En.empty(),at.now()),du(n,c)&&(a=a.insert(l,c))})),a}))}}class BT{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ge.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:lr(i.createTime)}})(n)),ge.resolve()}getNamedQuery(e,n){return ge.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(i){return{name:i.name,query:CT(i.bundledQuery),readTime:lr(i.readTime)}})(n)),ge.resolve()}}class qT{constructor(){this.overlays=new ht(Re.comparator),this.qr=new Map}getOverlay(e,n){return ge.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Yi();return ge.forEach(n,(i=>this.getOverlay(e,i).next((s=>{s!==null&&r.set(i,s)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,s)=>{this.St(e,n,s)})),ge.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach((s=>this.overlays=this.overlays.remove(s))),this.qr.delete(r)),ge.resolve()}getOverlaysForCollection(e,n,r){const i=Yi(),s=n.length+1,o=new Re(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return ge.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new ht(((c,f)=>c-f));const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let f=s.get(c.largestBatchId);f===null&&(f=Yi(),s=s.insert(c.largestBatchId,f)),f.set(c.getKey(),c)}}const a=Yi(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach(((c,f)=>a.set(c,f))),!(a.size()>=i)););return ge.resolve(a)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new oT(n,r));let s=this.qr.get(n);s===void 0&&(s=Be(),this.qr.set(n,s)),this.qr.set(n,s.add(r.key))}}class HT{constructor(){this.sessionToken=jt.EMPTY_BYTE_STRING}getSessionToken(e){return ge.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ge.resolve()}}class Mf{constructor(){this.Qr=new Pt(xt.$r),this.Ur=new Pt(xt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new xt(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new xt(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new Re(new ot([])),r=new xt(n,e),i=new xt(n,e+1),s=[];return this.Ur.forEachInRange([r,i],(o=>{this.Gr(o),s.push(o.key)})),s}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Re(new ot([])),r=new xt(n,e),i=new xt(n,e+1);let s=Be();return this.Ur.forEachInRange([r,i],(o=>{s=s.add(o.key)})),s}containsKey(e){const n=new xt(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class xt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Re.comparator(e.key,n.key)||je(e.Yr,n.Yr)}static Kr(e,n){return je(e.Yr,n.Yr)||Re.comparator(e.key,n.key)}}class zT{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Pt(xt.$r)}checkEmpty(e){return ge.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new sT(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Zr=this.Zr.add(new xt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return ge.resolve(o)}lookupMutationBatch(e,n){return ge.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),s=i<0?0:i;return ge.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return ge.resolve(this.mutationQueue.length===0?If:this.tr-1)}getAllMutationBatches(e){return ge.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new xt(n,0),i=new xt(n,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([r,i],(o=>{const a=this.Xr(o.Yr);s.push(a)})),ge.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Pt(je);return n.forEach((i=>{const s=new xt(i,0),o=new xt(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,o],(a=>{r=r.add(a.Yr)}))})),ge.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;Re.isDocumentKey(s)||(s=s.child(""));const o=new xt(new Re(s),0);let a=new Pt(je);return this.Zr.forEachWhile((l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.Yr)),!0)}),o),ge.resolve(this.ti(a))}ti(e){const n=[];return e.forEach((r=>{const i=this.Xr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){Je(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return ge.forEach(n.mutations,(i=>{const s=new xt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new xt(n,0),i=this.Zr.firstAfterOrEqual(r);return ge.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ge.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class KT{constructor(e){this.ri=e,this.docs=(function(){return new ht(Re.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ge.resolve(r?r.document.mutableCopy():Kt.newInvalidDocument(n))}getEntries(e,n){let r=zr();return n.forEach((i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Kt.newInvalidDocument(i))})),ge.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=zr();const o=n.path,a=new Re(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:f}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||_1(v1(f),r)<=0||(i.has(f.key)||du(n,f))&&(s=s.insert(f.key,f.mutableCopy()))}return ge.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Ce(9500)}ii(e,n){return ge.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new GT(this)}getSize(e){return ge.resolve(this.size)}}class GT extends UT{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)})),ge.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class WT{constructor(e){this.persistence=e,this.si=new hs((n=>Of(n)),Pf),this.lastRemoteSnapshotVersion=De.min(),this.highestTargetId=0,this.oi=0,this._i=new Mf,this.targetCount=0,this.ai=ho.ur()}forEachTarget(e,n){return this.si.forEach(((r,i)=>n(i))),ge.resolve()}getLastRemoteSnapshotVersion(e){return ge.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ge.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ge.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),ge.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new ho(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ge.resolve()}updateTargetData(e,n){return this.Pr(n),ge.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ge.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.si.forEach(((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.si.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)})),ge.waitFor(s).next((()=>i))}getTargetCount(e){return ge.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return ge.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),ge.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach((o=>{s.push(i.markPotentiallyOrphaned(e,o))})),ge.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ge.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return ge.resolve(r)}containsKey(e,n){return ge.resolve(this._i.containsKey(n))}}class my{constructor(e,n){this.ui={},this.overlays={},this.ci=new lu(0),this.li=!1,this.li=!0,this.hi=new HT,this.referenceDelegate=e(this),this.Pi=new WT(this),this.indexManager=new NT,this.remoteDocumentCache=(function(i){return new KT(i)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new PT(n),this.Ii=new BT(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new qT,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new zT(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){Te("MemoryPersistence","Starting transaction:",e);const i=new $T(this.ci.next());return this.referenceDelegate.Ei(),r(i).next((s=>this.referenceDelegate.di(i).next((()=>s)))).toPromise().then((s=>(i.raiseOnCommittedEvent(),s)))}Ai(e,n){return ge.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class $T extends E1{constructor(e){super(),this.currentSequenceNumber=e}}class Vf{constructor(e){this.persistence=e,this.Ri=new Mf,this.Vi=null}static mi(e){return new Vf(e)}get fi(){if(this.Vi)return this.Vi;throw Ce(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),ge.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),ge.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ge.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((i=>this.fi.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((s=>this.fi.add(s.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ge.forEach(this.fi,(r=>{const i=Re.fromPath(r);return this.gi(e,i).next((s=>{s||n.removeEntry(i,De.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ge.or([()=>ge.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Ll{constructor(e,n){this.persistence=e,this.pi=new hs((r=>A1(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=VT(this,n)}static mi(e,n){return new Ll(e,n)}Ei(){}di(e){return ge.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return ge.forEach(this.pi,((r,i)=>this.br(e,r,i).next((s=>s?ge.resolve():n(i)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ii(e,(o=>this.br(e,o,n).next((a=>{a||(r++,s.removeEntry(o,De.min()))})))).next((()=>s.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ge.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),ge.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),ge.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ge.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=sl(e.data.value)),n}br(e,n,r){return ge.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return ge.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Uf{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=Be(),i=Be();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Uf(e,n.fromCache,r,i)}}class QT{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class YT{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return jE()?8:T1(Yt())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ys(e,n).next((o=>{s.result=o})).next((()=>{if(!s.result)return this.ws(e,n,i,r).next((o=>{s.result=o}))})).next((()=>{if(s.result)return;const o=new QT;return this.Ss(e,n,o).next((a=>{if(s.result=a,this.Vs)return this.bs(e,n,o,a.size)}))})).next((()=>s.result))}bs(e,n,r,i){return r.documentReadCount<this.fs?(Bs()<=Fe.DEBUG&&Te("QueryEngine","SDK will not create cache indexes for query:",qs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ge.resolve()):(Bs()<=Fe.DEBUG&&Te("QueryEngine","Query:",qs(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(Bs()<=Fe.DEBUG&&Te("QueryEngine","The SDK decides to create cache indexes for query:",qs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ar(n))):ge.resolve())}ys(e,n){if(Nd(n))return ge.resolve(null);let r=ar(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=Pc(n,null,"F"),r=ar(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((s=>{const o=Be(...s);return this.ps.getDocuments(e,o).next((a=>this.indexManager.getMinOffset(e,r).next((l=>{const c=this.Ds(n,a);return this.Cs(n,c,o,l.readTime)?this.ys(e,Pc(n,null,"F")):this.vs(e,c,n,l)}))))})))))}ws(e,n,r,i){return Nd(n)||i.isEqual(De.min())?ge.resolve(null):this.ps.getDocuments(e,r).next((s=>{const o=this.Ds(n,s);return this.Cs(n,o,r,i)?ge.resolve(null):(Bs()<=Fe.DEBUG&&Te("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),qs(n)),this.vs(e,o,n,y1(i,ya)).next((a=>a)))}))}Ds(e,n){let r=new Pt($m(e));return n.forEach(((i,s)=>{du(e,s)&&(r=r.add(s))})),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ss(e,n,r){return Bs()<=Fe.DEBUG&&Te("QueryEngine","Using full collection scan to execute query:",qs(n)),this.ps.getDocumentsMatchingQuery(e,n,Ti.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next((s=>(n.forEach((o=>{s=s.insert(o.key,o)})),s)))}}const Ff="LocalStore",XT=3e8;class JT{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new ht(je),this.xs=new hs((s=>Of(s)),Pf),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new jT(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function ZT(t,e,n,r){return new JT(t,e,n,r)}async function yy(t,e){const n=Le(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((s=>(i=s,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((s=>{const o=[],a=[];let l=Be();for(const c of i){o.push(c.batchId);for(const f of c.mutations)l=l.add(f.key)}for(const c of s){a.push(c.batchId);for(const f of c.mutations)l=l.add(f.key)}return n.localDocuments.getDocuments(r,l).next((c=>({Ls:c,removedBatchIds:o,addedBatchIds:a})))}))}))}function ew(t,e){const n=Le(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),s=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(a,l,c,f){const h=c.batch,d=h.keys();let p=ge.resolve();return d.forEach((w=>{p=p.next((()=>f.getEntry(l,w))).next((b=>{const E=c.docVersions.get(w);Je(E!==null,48541),b.version.compareTo(E)<0&&(h.applyToRemoteDocument(b,c),b.isValidDocument()&&(b.setReadTime(c.commitVersion),f.addEntry(b)))}))})),p.next((()=>a.mutationQueue.removeMutationBatch(l,h)))})(n,r,e,s).next((()=>s.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(a){let l=Be();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function vy(t){const e=Le(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function tw(t,e){const n=Le(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(s=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const a=[];e.targetChanges.forEach(((f,h)=>{const d=i.get(h);if(!d)return;a.push(n.Pi.removeMatchingKeys(s,f.removedDocuments,h).next((()=>n.Pi.addMatchingKeys(s,f.addedDocuments,h))));let p=d.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(h)!==null?p=p.withResumeToken(jt.EMPTY_BYTE_STRING,De.min()).withLastLimboFreeSnapshotVersion(De.min()):f.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(f.resumeToken,r)),i=i.insert(h,p),(function(b,E,_){return b.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=XT?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0})(d,p,f)&&a.push(n.Pi.updateTargetData(s,p))}));let l=zr(),c=Be();if(e.documentUpdates.forEach((f=>{e.resolvedLimboDocuments.has(f)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,f))})),a.push(nw(s,o,e.documentUpdates).next((f=>{l=f.ks,c=f.qs}))),!r.isEqual(De.min())){const f=n.Pi.getLastRemoteSnapshotVersion(s).next((h=>n.Pi.setTargetsMetadata(s,s.currentSequenceNumber,r)));a.push(f)}return ge.waitFor(a).next((()=>o.apply(s))).next((()=>n.localDocuments.getLocalViewOfDocuments(s,l,c))).next((()=>l))})).then((s=>(n.Ms=i,s)))}function nw(t,e,n){let r=Be(),i=Be();return n.forEach((s=>r=r.add(s))),e.getEntries(t,r).next((s=>{let o=zr();return n.forEach(((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(De.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):Te(Ff,"Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)})),{ks:o,qs:i}}))}function rw(t,e){const n=Le(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=If),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function iw(t,e){const n=Le(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.Pi.getTargetData(r,e).next((s=>s?(i=s,ge.resolve(i)):n.Pi.allocateTargetId(r).next((o=>(i=new di(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function Dc(t,e,n){const r=Le(t),i=r.Ms.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!To(o))throw o;Te(Ff,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function zd(t,e,n){const r=Le(t);let i=De.min(),s=Be();return r.persistence.runTransaction("Execute query","readwrite",(o=>(function(l,c,f){const h=Le(l),d=h.xs.get(f);return d!==void 0?ge.resolve(h.Ms.get(d)):h.Pi.getTargetData(c,f)})(r,o,ar(e)).next((a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,a.targetId).next((l=>{s=l}))})).next((()=>r.Fs.getDocumentsMatchingQuery(o,e,n?i:De.min(),n?s:Be()))).next((a=>(sw(r,z1(e),a),{documents:a,Qs:s})))))}function sw(t,e,n){let r=t.Os.get(e)||De.min();n.forEach(((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)})),t.Os.set(e,r)}class Kd{constructor(){this.activeTargetIds=Y1()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ow{constructor(){this.Mo=new Kd,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Kd,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class aw{Oo(e){}shutdown(){}}const Gd="ConnectivityMonitor";class Wd{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Te(Gd,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Te(Gd,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Xa=null;function Lc(){return Xa===null?Xa=(function(){return 268435456+Math.round(2147483648*Math.random())})():Xa++,"0x"+Xa.toString(16)}const $u="RestConnection",lw={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class uw{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===Ol?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,s){const o=Lc(),a=this.zo(e,n.toUriEncodedString());Te($u,`Sending RPC '${e}' ${o}:`,a,r);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,i,s);const{host:c}=new URL(a),f=cs(c);return this.Jo(e,a,l,r,f).then((h=>(Te($u,`Received RPC '${e}' ${o}: `,h),h)),(h=>{throw lo($u,`RPC '${e}' ${o} failed with error: `,h,"url: ",a,"request:",r),h}))}Ho(e,n,r,i,s,o){return this.Go(e,n,r,i,s)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+bo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,s)=>e[s]=i)),r&&r.headers.forEach(((i,s)=>e[s]=i))}zo(e,n){const r=lw[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}class cw{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const qt="WebChannelConnection";class fw extends uw{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,s){const o=Lc();return new Promise(((a,l)=>{const c=new Tm;c.setWithCredentials(!0),c.listenOnce(wm.COMPLETE,(()=>{try{switch(c.getLastErrorCode()){case il.NO_ERROR:const h=c.getResponseJson();Te(qt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),a(h);break;case il.TIMEOUT:Te(qt,`RPC '${e}' ${o} timed out`),l(new Ie(ye.DEADLINE_EXCEEDED,"Request time out"));break;case il.HTTP_ERROR:const d=c.getStatus();if(Te(qt,`RPC '${e}' ${o} failed with status:`,d,"response text:",c.getResponseText()),d>0){let p=c.getResponseJson();Array.isArray(p)&&(p=p[0]);const w=p?.error;if(w&&w.status&&w.message){const b=(function(_){const v=_.toLowerCase().replace(/_/g,"-");return Object.values(ye).indexOf(v)>=0?v:ye.UNKNOWN})(w.status);l(new Ie(b,w.message))}else l(new Ie(ye.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new Ie(ye.UNAVAILABLE,"Connection failed."));break;default:Ce(9055,{l_:e,streamId:o,h_:c.getLastErrorCode(),P_:c.getLastError()})}}finally{Te(qt,`RPC '${e}' ${o} completed.`)}}));const f=JSON.stringify(i);Te(qt,`RPC '${e}' ${o} sending request:`,i),c.send(n,"POST",f,r,15)}))}T_(e,n,r){const i=Lc(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Sm(),a=Im(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const f=s.join("");Te(qt,`Creating RPC '${e}' stream ${i}: ${f}`,l);const h=o.createWebChannel(f,l);this.I_(h);let d=!1,p=!1;const w=new cw({Yo:E=>{p?Te(qt,`Not sending because RPC '${e}' stream ${i} is closed:`,E):(d||(Te(qt,`Opening RPC '${e}' stream ${i} transport.`),h.open(),d=!0),Te(qt,`RPC '${e}' stream ${i} sending:`,E),h.send(E))},Zo:()=>h.close()}),b=(E,_,v)=>{E.listen(_,(y=>{try{v(y)}catch(g){setTimeout((()=>{throw g}),0)}}))};return b(h,qo.EventType.OPEN,(()=>{p||(Te(qt,`RPC '${e}' stream ${i} transport opened.`),w.o_())})),b(h,qo.EventType.CLOSE,(()=>{p||(p=!0,Te(qt,`RPC '${e}' stream ${i} transport closed`),w.a_(),this.E_(h))})),b(h,qo.EventType.ERROR,(E=>{p||(p=!0,lo(qt,`RPC '${e}' stream ${i} transport errored. Name:`,E.name,"Message:",E.message),w.a_(new Ie(ye.UNAVAILABLE,"The operation could not be completed")))})),b(h,qo.EventType.MESSAGE,(E=>{if(!p){const _=E.data[0];Je(!!_,16349);const v=_,y=v?.error||v[0]?.error;if(y){Te(qt,`RPC '${e}' stream ${i} received error:`,y);const g=y.status;let T=(function(A){const C=bt[A];if(C!==void 0)return sy(C)})(g),x=y.message;T===void 0&&(T=ye.INTERNAL,x="Unknown error status: "+g+" with message "+y.message),p=!0,w.a_(new Ie(T,x)),h.close()}else Te(qt,`RPC '${e}' stream ${i} received:`,_),w.u_(_)}})),b(a,Am.STAT_EVENT,(E=>{E.stat===wc.PROXY?Te(qt,`RPC '${e}' stream ${i} detected buffering proxy`):E.stat===wc.NOPROXY&&Te(qt,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{w.__()}),0),w}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Qu(){return typeof document<"u"?document:null}function yu(t){return new gT(t,!0)}class _y{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&Te("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const $d="PersistentStream";class by{constructor(e,n,r,i,s,o,a,l){this.Mi=e,this.S_=r,this.b_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new _y(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ye.RESOURCE_EXHAUSTED?(qr(n.toString()),qr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ye.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===n&&this.G_(r,i)}),(r=>{e((()=>{const i=new Ie(ye.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Te($d,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(Te($d,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class hw extends by{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=vT(this.serializer,e),r=(function(s){if(!("targetChange"in s))return De.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?De.min():o.readTime?lr(o.readTime):De.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=xc(this.serializer),n.addTarget=(function(s,o){let a;const l=o.target;if(a=Oc(l)?{documents:ET(s,l)}:{query:TT(s,l).ft},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=ly(s,o.resumeToken);const c=Cc(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(De.min())>0){a.readTime=Dl(s,o.snapshotVersion.toTimestamp());const c=Cc(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a})(this.serializer,e);const r=AT(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=xc(this.serializer),n.removeTarget=e,this.q_(n)}}class dw extends by{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Je(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Je(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Je(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=bT(e.writeResults,e.commitTime),r=lr(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=xc(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>_T(this.serializer,r)))};this.q_(n)}}class pw{}class gw extends pw{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new Ie(ye.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,o])=>this.connection.Go(e,Nc(n,r),i,s,o))).catch((s=>{throw s.name==="FirebaseError"?(s.code===ye.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Ie(ye.UNKNOWN,s.toString())}))}Ho(e,n,r,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,a])=>this.connection.Ho(e,Nc(n,r),i,o,a,s))).catch((o=>{throw o.name==="FirebaseError"?(o.code===ye.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Ie(ye.UNKNOWN,o.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class mw{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(qr(n),this.aa=!1):Te("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const os="RemoteStore";class yw{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo((o=>{r.enqueueAndForget((async()=>{ds(this)&&(Te(os,"Restarting streams for network reachability change."),await(async function(l){const c=Le(l);c.Ea.add(4),await La(c),c.Ra.set("Unknown"),c.Ea.delete(4),await vu(c)})(this))}))})),this.Ra=new mw(r,i)}}async function vu(t){if(ds(t))for(const e of t.da)await e(!0)}async function La(t){for(const e of t.da)await e(!1)}function Ey(t,e){const n=Le(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Hf(n)?qf(n):wo(n).O_()&&Bf(n,e))}function jf(t,e){const n=Le(t),r=wo(n);n.Ia.delete(e),r.O_()&&Ty(n,e),n.Ia.size===0&&(r.O_()?r.L_():ds(n)&&n.Ra.set("Unknown"))}function Bf(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(De.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}wo(t).Y_(e)}function Ty(t,e){t.Va.Ue(e),wo(t).Z_(e)}function qf(t){t.Va=new fT({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),wo(t).start(),t.Ra.ua()}function Hf(t){return ds(t)&&!wo(t).x_()&&t.Ia.size>0}function ds(t){return Le(t).Ea.size===0}function wy(t){t.Va=void 0}async function vw(t){t.Ra.set("Online")}async function _w(t){t.Ia.forEach(((e,n)=>{Bf(t,e)}))}async function bw(t,e){wy(t),Hf(t)?(t.Ra.ha(e),qf(t)):t.Ra.set("Unknown")}async function Ew(t,e,n){if(t.Ra.set("Online"),e instanceof ay&&e.state===2&&e.cause)try{await(async function(i,s){const o=s.cause;for(const a of s.targetIds)i.Ia.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.Ia.delete(a),i.Va.removeTarget(a))})(t,e)}catch(r){Te(os,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Ml(t,r)}else if(e instanceof ll?t.Va.Ze(e):e instanceof oy?t.Va.st(e):t.Va.tt(e),!n.isEqual(De.min()))try{const r=await vy(t.localStore);n.compareTo(r)>=0&&await(function(s,o){const a=s.Va.Tt(o);return a.targetChanges.forEach(((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const f=s.Ia.get(c);f&&s.Ia.set(c,f.withResumeToken(l.resumeToken,o))}})),a.targetMismatches.forEach(((l,c)=>{const f=s.Ia.get(l);if(!f)return;s.Ia.set(l,f.withResumeToken(jt.EMPTY_BYTE_STRING,f.snapshotVersion)),Ty(s,l);const h=new di(f.target,l,c,f.sequenceNumber);Bf(s,h)})),s.remoteSyncer.applyRemoteEvent(a)})(t,n)}catch(r){Te(os,"Failed to raise snapshot:",r),await Ml(t,r)}}async function Ml(t,e,n){if(!To(e))throw e;t.Ea.add(1),await La(t),t.Ra.set("Offline"),n||(n=()=>vy(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Te(os,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await vu(t)}))}function Ay(t,e){return e().catch((n=>Ml(t,n,e)))}async function _u(t){const e=Le(t),n=Si(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:If;for(;Tw(e);)try{const i=await rw(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,ww(e,i)}catch(i){await Ml(e,i)}Iy(e)&&Sy(e)}function Tw(t){return ds(t)&&t.Ta.length<10}function ww(t,e){t.Ta.push(e);const n=Si(t);n.O_()&&n.X_&&n.ea(e.mutations)}function Iy(t){return ds(t)&&!Si(t).x_()&&t.Ta.length>0}function Sy(t){Si(t).start()}async function Aw(t){Si(t).ra()}async function Iw(t){const e=Si(t);for(const n of t.Ta)e.ea(n.mutations)}async function Sw(t,e,n){const r=t.Ta.shift(),i=xf.from(r,e,n);await Ay(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await _u(t)}async function Rw(t,e){e&&Si(t).X_&&await(async function(r,i){if((function(o){return lT(o)&&o!==ye.ABORTED})(i.code)){const s=r.Ta.shift();Si(r).B_(),await Ay(r,(()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i))),await _u(r)}})(t,e),Iy(t)&&Sy(t)}async function Qd(t,e){const n=Le(t);n.asyncQueue.verifyOperationInProgress(),Te(os,"RemoteStore received new credentials");const r=ds(n);n.Ea.add(3),await La(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await vu(n)}async function Ow(t,e){const n=Le(t);e?(n.Ea.delete(2),await vu(n)):e||(n.Ea.add(2),await La(n),n.Ra.set("Unknown"))}function wo(t){return t.ma||(t.ma=(function(n,r,i){const s=Le(n);return s.sa(),new hw(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(t.datastore,t.asyncQueue,{Xo:vw.bind(null,t),t_:_w.bind(null,t),r_:bw.bind(null,t),H_:Ew.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),Hf(t)?qf(t):t.Ra.set("Unknown")):(await t.ma.stop(),wy(t))}))),t.ma}function Si(t){return t.fa||(t.fa=(function(n,r,i){const s=Le(n);return s.sa(),new dw(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:Aw.bind(null,t),r_:Rw.bind(null,t),ta:Iw.bind(null,t),na:Sw.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await _u(t)):(await t.fa.stop(),t.Ta.length>0&&(Te(os,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}class zf{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Mr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((o=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new zf(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ie(ye.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Kf(t,e){if(qr("AsyncQueue",`${e}: ${t}`),To(t))return new Ie(ye.UNAVAILABLE,`${e}: ${t}`);throw t}class Zs{static emptySet(e){return new Zs(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Re.comparator(n.key,r.key):(n,r)=>Re.comparator(n.key,r.key),this.keyedMap=Ho(),this.sortedSet=new ht(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Zs)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Zs;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class Yd{constructor(){this.ga=new ht(Re.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ce(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class po{constructor(e,n,r,i,s,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach((a=>{o.push({type:0,doc:a})})),new po(e,n,Zs.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&hu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class Pw{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class Cw{constructor(){this.queries=Xd(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=Le(n),s=i.queries;i.queries=Xd(),s.forEach(((o,a)=>{for(const l of a.Sa)l.onError(r)}))})(this,new Ie(ye.ABORTED,"Firestore shutting down"))}}function Xd(){return new hs((t=>Wm(t)),hu)}async function Ry(t,e){const n=Le(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.ba()&&e.Da()&&(r=2):(s=new Pw,r=e.Da()?0:1);try{switch(r){case 0:s.wa=await n.onListen(i,!0);break;case 1:s.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=Kf(o,`Initialization of query '${qs(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.Sa.push(e),e.va(n.onlineState),s.wa&&e.Fa(s.wa)&&Gf(n)}async function Oy(t,e){const n=Le(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.Sa.indexOf(e);o>=0&&(s.Sa.splice(o,1),s.Sa.length===0?i=e.Da()?0:1:!s.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Nw(t,e){const n=Le(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.Sa)a.Fa(i)&&(r=!0);o.wa=i}}r&&Gf(n)}function kw(t,e,n){const r=Le(t),i=r.queries.get(e);if(i)for(const s of i.Sa)s.onError(n);r.queries.delete(e)}function Gf(t){t.Ca.forEach((e=>{e.next()}))}var Mc,Jd;(Jd=Mc||(Mc={})).Ma="default",Jd.Cache="cache";class Py{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new po(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=po.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Mc.Cache}}class Cy{constructor(e){this.key=e}}class Ny{constructor(e){this.key=e}}class xw{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Be(),this.mutatedKeys=Be(),this.eu=$m(e),this.tu=new Zs(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new Yd,i=n?n.tu:this.tu;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((f,h)=>{const d=i.get(f),p=du(this.query,h)?h:null,w=!!d&&this.mutatedKeys.has(d.key),b=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let E=!1;d&&p?d.data.isEqual(p.data)?w!==b&&(r.track({type:3,doc:p}),E=!0):this.su(d,p)||(r.track({type:2,doc:p}),E=!0,(l&&this.eu(p,l)>0||c&&this.eu(p,c)<0)&&(a=!0)):!d&&p?(r.track({type:0,doc:p}),E=!0):d&&!p&&(r.track({type:1,doc:d}),E=!0,(l||c)&&(a=!0)),E&&(p?(o=o.add(p),s=b?s.add(f):s.delete(f)):(o=o.delete(f),s=s.delete(f)))})),this.query.limit!==null)for(;o.size>this.query.limit;){const f=this.query.limitType==="F"?o.last():o.first();o=o.delete(f.key),s=s.delete(f.key),r.track({type:1,doc:f})}return{tu:o,iu:r,Cs:a,mutatedKeys:s}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort(((f,h)=>(function(p,w){const b=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ce(20277,{Rt:E})}};return b(p)-b(w)})(f.type,h.type)||this.eu(f.doc,h.doc))),this.ou(r),i=i??!1;const a=n&&!i?this._u():[],l=this.Xa.size===0&&this.current&&!i?1:0,c=l!==this.Za;return this.Za=l,o.length!==0||c?{snapshot:new po(this.query,e.tu,s,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Yd,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Be(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new Ny(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new Cy(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=Be();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return po.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Wf="SyncEngine";class Dw{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Lw{constructor(e){this.key=e,this.hu=!1}}class Mw{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new hs((a=>Wm(a)),hu),this.Iu=new Map,this.Eu=new Set,this.du=new ht(Re.comparator),this.Au=new Map,this.Ru=new Mf,this.Vu={},this.mu=new Map,this.fu=ho.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Vw(t,e,n=!0){const r=Vy(t);let i;const s=r.Tu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await ky(r,e,n,!0),i}async function Uw(t,e){const n=Vy(t);await ky(n,e,!0,!1)}async function ky(t,e,n,r){const i=await iw(t.localStore,ar(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await Fw(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&Ey(t.remoteStore,i),a}async function Fw(t,e,n,r,i){t.pu=(h,d,p)=>(async function(b,E,_,v){let y=E.view.ru(_);y.Cs&&(y=await zd(b.localStore,E.query,!1).then((({documents:S})=>E.view.ru(S,y))));const g=v&&v.targetChanges.get(E.targetId),T=v&&v.targetMismatches.get(E.targetId)!=null,x=E.view.applyChanges(y,b.isPrimaryClient,g,T);return ep(b,E.targetId,x.au),x.snapshot})(t,h,d,p);const s=await zd(t.localStore,e,!0),o=new xw(e,s.Qs),a=o.ru(s.documents),l=Da.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(a,t.isPrimaryClient,l);ep(t,n,c.au);const f=new Dw(e,n,o);return t.Tu.set(e,f),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),c.snapshot}async function jw(t,e,n){const r=Le(t),i=r.Tu.get(e),s=r.Iu.get(i.targetId);if(s.length>1)return r.Iu.set(i.targetId,s.filter((o=>!hu(o,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Dc(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&jf(r.remoteStore,i.targetId),Vc(r,i.targetId)})).catch(Eo)):(Vc(r,i.targetId),await Dc(r.localStore,i.targetId,!0))}async function Bw(t,e){const n=Le(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),jf(n.remoteStore,r.targetId))}async function qw(t,e,n){const r=Qw(t);try{const i=await(function(o,a){const l=Le(o),c=at.now(),f=a.reduce(((p,w)=>p.add(w.key)),Be());let h,d;return l.persistence.runTransaction("Locally write mutations","readwrite",(p=>{let w=zr(),b=Be();return l.Ns.getEntries(p,f).next((E=>{w=E,w.forEach(((_,v)=>{v.isValidDocument()||(b=b.add(_))}))})).next((()=>l.localDocuments.getOverlayedDocuments(p,w))).next((E=>{h=E;const _=[];for(const v of a){const y=rT(v,h.get(v.key).overlayedDocument);y!=null&&_.push(new Pi(v.key,y,jm(y.value.mapValue),Kn.exists(!0)))}return l.mutationQueue.addMutationBatch(p,c,_,a)})).next((E=>{d=E;const _=E.applyToLocalDocumentSet(h,b);return l.documentOverlayCache.saveOverlays(p,E.batchId,_)}))})).then((()=>({batchId:d.batchId,changes:Ym(h)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(o,a,l){let c=o.Vu[o.currentUser.toKey()];c||(c=new ht(je)),c=c.insert(a,l),o.Vu[o.currentUser.toKey()]=c})(r,i.batchId,n),await Ma(r,i.changes),await _u(r.remoteStore)}catch(i){const s=Kf(i,"Failed to persist write");n.reject(s)}}async function xy(t,e){const n=Le(t);try{const r=await tw(n.localStore,e);e.targetChanges.forEach(((i,s)=>{const o=n.Au.get(s);o&&(Je(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.hu=!0:i.modifiedDocuments.size>0?Je(o.hu,14607):i.removedDocuments.size>0&&(Je(o.hu,42227),o.hu=!1))})),await Ma(n,r,e)}catch(r){await Eo(r)}}function Zd(t,e,n){const r=Le(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach(((s,o)=>{const a=o.view.va(e);a.snapshot&&i.push(a.snapshot)})),(function(o,a){const l=Le(o);l.onlineState=a;let c=!1;l.queries.forEach(((f,h)=>{for(const d of h.Sa)d.va(a)&&(c=!0)})),c&&Gf(l)})(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Hw(t,e,n){const r=Le(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),s=i&&i.key;if(s){let o=new ht(Re.comparator);o=o.insert(s,Kt.newNoDocument(s,De.min()));const a=Be().add(s),l=new mu(De.min(),new Map,new ht(je),o,a);await xy(r,l),r.du=r.du.remove(s),r.Au.delete(e),$f(r)}else await Dc(r.localStore,e,!1).then((()=>Vc(r,e,n))).catch(Eo)}async function zw(t,e){const n=Le(t),r=e.batch.batchId;try{const i=await ew(n.localStore,e);Ly(n,r,null),Dy(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ma(n,i)}catch(i){await Eo(i)}}async function Kw(t,e,n){const r=Le(t);try{const i=await(function(o,a){const l=Le(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",(c=>{let f;return l.mutationQueue.lookupMutationBatch(c,a).next((h=>(Je(h!==null,37113),f=h.keys(),l.mutationQueue.removeMutationBatch(c,h)))).next((()=>l.mutationQueue.performConsistencyCheck(c))).next((()=>l.documentOverlayCache.removeOverlaysForBatchId(c,f,a))).next((()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,f))).next((()=>l.localDocuments.getDocuments(c,f)))}))})(r.localStore,e);Ly(r,e,n),Dy(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Ma(r,i)}catch(i){await Eo(i)}}function Dy(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function Ly(t,e,n){const r=Le(t);let i=r.Vu[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function Vc(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||My(t,r)}))}function My(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(jf(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),$f(t))}function ep(t,e,n){for(const r of n)r instanceof Cy?(t.Ru.addReference(r.key,e),Gw(t,r)):r instanceof Ny?(Te(Wf,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||My(t,r.key)):Ce(19791,{wu:r})}function Gw(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(Te(Wf,"New document in limbo: "+n),t.Eu.add(r),$f(t))}function $f(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Re(ot.fromString(e)),r=t.fu.next();t.Au.set(r,new Lw(n)),t.du=t.du.insert(n,r),Ey(t.remoteStore,new di(ar(Cf(n.path)),r,"TargetPurposeLimboResolution",lu.ce))}}async function Ma(t,e,n){const r=Le(t),i=[],s=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach(((a,l)=>{o.push(r.pu(l,e,n).then((c=>{if((c||n)&&r.isPrimaryClient){const f=c?!c.fromCache:n?.targetChanges.get(l.targetId)?.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(c){i.push(c);const f=Uf.As(l.targetId,c);s.push(f)}})))})),await Promise.all(o),r.Pu.H_(i),await(async function(l,c){const f=Le(l);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",(h=>ge.forEach(c,(d=>ge.forEach(d.Es,(p=>f.persistence.referenceDelegate.addReference(h,d.targetId,p))).next((()=>ge.forEach(d.ds,(p=>f.persistence.referenceDelegate.removeReference(h,d.targetId,p)))))))))}catch(h){if(!To(h))throw h;Te(Ff,"Failed to update sequence numbers: "+h)}for(const h of c){const d=h.targetId;if(!h.fromCache){const p=f.Ms.get(d),w=p.snapshotVersion,b=p.withLastLimboFreeSnapshotVersion(w);f.Ms=f.Ms.insert(d,b)}}})(r.localStore,s))}async function Ww(t,e){const n=Le(t);if(!n.currentUser.isEqual(e)){Te(Wf,"User change. New user:",e.toKey());const r=await yy(n.localStore,e);n.currentUser=e,(function(s,o){s.mu.forEach((a=>{a.forEach((l=>{l.reject(new Ie(ye.CANCELLED,o))}))})),s.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ma(n,r.Ls)}}function $w(t,e){const n=Le(t),r=n.Au.get(e);if(r&&r.hu)return Be().add(r.key);{let i=Be();const s=n.Iu.get(e);if(!s)return i;for(const o of s){const a=n.Tu.get(o);i=i.unionWith(a.view.nu)}return i}}function Vy(t){const e=Le(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=xy.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=$w.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Hw.bind(null,e),e.Pu.H_=Nw.bind(null,e.eventManager),e.Pu.yu=kw.bind(null,e.eventManager),e}function Qw(t){const e=Le(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=zw.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Kw.bind(null,e),e}class Vl{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=yu(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return ZT(this.persistence,new YT,e.initialUser,this.serializer)}Cu(e){return new my(Vf.mi,this.serializer)}Du(e){return new ow}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Vl.provider={build:()=>new Vl};class Yw extends Vl{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Je(this.persistence.referenceDelegate instanceof Ll,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new LT(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?un.withCacheSize(this.cacheSizeBytes):un.DEFAULT;return new my((r=>Ll.mi(r,n)),this.serializer)}}class Uc{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Zd(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Ww.bind(null,this.syncEngine),await Ow(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new Cw})()}createDatastore(e){const n=yu(e.databaseInfo.databaseId),r=(function(s){return new fw(s)})(e.databaseInfo);return(function(s,o,a,l){return new gw(s,o,a,l)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,s,o,a){return new yw(r,i,s,o,a)})(this.localStore,this.datastore,e.asyncQueue,(n=>Zd(this.syncEngine,n,0)),(function(){return Wd.v()?new Wd:new aw})())}createSyncEngine(e,n){return(function(i,s,o,a,l,c,f){const h=new Mw(i,s,o,a,l,c);return f&&(h.gu=!0),h})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=Le(n);Te(os,"RemoteStore shutting down."),r.Ea.add(5),await La(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Uc.provider={build:()=>new Uc};class Uy{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):qr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const Ri="FirestoreClient";class Xw{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ht.UNAUTHENTICATED,this.clientId=wf.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,(async o=>{Te(Ri,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,(o=>(Te(Ri,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Mr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Kf(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Yu(t,e){t.asyncQueue.verifyOperationInProgress(),Te(Ri,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await yy(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function tp(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Jw(t);Te(Ri,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>Qd(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>Qd(e.remoteStore,i))),t._onlineComponents=e}async function Jw(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Te(Ri,"Using user provided OfflineComponentProvider");try{await Yu(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===ye.FAILED_PRECONDITION||i.code===ye.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;lo("Error using user provided cache. Falling back to memory cache: "+n),await Yu(t,new Vl)}}else Te(Ri,"Using default OfflineComponentProvider"),await Yu(t,new Yw(void 0));return t._offlineComponents}async function Fy(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Te(Ri,"Using user provided OnlineComponentProvider"),await tp(t,t._uninitializedComponentsProvider._online)):(Te(Ri,"Using default OnlineComponentProvider"),await tp(t,new Uc))),t._onlineComponents}function Zw(t){return Fy(t).then((e=>e.syncEngine))}async function jy(t){const e=await Fy(t),n=e.eventManager;return n.onListen=Vw.bind(null,e.syncEngine),n.onUnlisten=jw.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Uw.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Bw.bind(null,e.syncEngine),n}function eA(t,e,n={}){const r=new Mr;return t.asyncQueue.enqueueAndForget((async()=>(function(s,o,a,l,c){const f=new Uy({next:d=>{f.Nu(),o.enqueueAndForget((()=>Oy(s,h)));const p=d.docs.has(a);!p&&d.fromCache?c.reject(new Ie(ye.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&d.fromCache&&l&&l.source==="server"?c.reject(new Ie(ye.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(d)},error:d=>c.reject(d)}),h=new Py(Cf(a.path),f,{includeMetadataChanges:!0,qa:!0});return Ry(s,h)})(await jy(t),t.asyncQueue,e,n,r))),r.promise}function tA(t,e,n={}){const r=new Mr;return t.asyncQueue.enqueueAndForget((async()=>(function(s,o,a,l,c){const f=new Uy({next:d=>{f.Nu(),o.enqueueAndForget((()=>Oy(s,h))),d.fromCache&&l.source==="server"?c.reject(new Ie(ye.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(d)},error:d=>c.reject(d)}),h=new Py(a,f,{includeMetadataChanges:!0,qa:!0});return Ry(s,h)})(await jy(t),t.asyncQueue,e,n,r))),r.promise}function By(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const np=new Map;const qy="firestore.googleapis.com",rp=!0;class ip{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Ie(ye.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=qy,this.ssl=rp}else this.host=e.host,this.ssl=e.ssl??rp;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=gy;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<xT)throw new Ie(ye.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}m1("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=By(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Ie(ye.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Ie(ye.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Ie(ye.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class bu{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ip({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ie(ye.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ie(ye.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ip(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new o1;switch(r.type){case"firstParty":return new c1(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ie(ye.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=np.get(n);r&&(Te("ComponentProvider","Removing Datastore"),np.delete(n),r.terminate())})(this),Promise.resolve()}}function nA(t,e,n,r={}){t=Hr(t,bu);const i=cs(e),s=t._getSettings(),o={...s,emulatorOptions:t._getEmulatorOptions()},a=`${e}:${n}`;i&&(mf(`https://${a}`),yf("Firestore",!0)),s.host!==qy&&s.host!==a&&lo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...s,host:a,ssl:i,emulatorOptions:r};if(!rs(l,o)&&(t._setSettings(l),r.mockUserToken)){let c,f;if(typeof r.mockUserToken=="string")c=r.mockUserToken,f=Ht.MOCK_USER;else{c=mm(r.mockUserToken,t._app?.options.projectId);const h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new Ie(ye.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Ht(h)}t._authCredentials=new a1(new Om(c,f))}}class Eu{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Eu(this.firestore,e,this._query)}}class Ot{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new _i(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ot(this.firestore,e,this._key)}toJSON(){return{type:Ot._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(ka(n,Ot._jsonSchema))return new Ot(e,r||null,new Re(ot.fromString(n.referencePath)))}}Ot._jsonSchemaVersion="firestore/documentReference/1.0",Ot._jsonSchema={type:Et("string",Ot._jsonSchemaVersion),referencePath:Et("string")};class _i extends Eu{constructor(e,n,r){super(e,n,Cf(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ot(this.firestore,null,new Re(e))}withConverter(e){return new _i(this.firestore,e,this._path)}}function sp(t,e,...n){if(t=Dt(t),Pm("collection","path",e),t instanceof bu){const r=ot.fromString(e,...n);return vd(r),new _i(t,null,r)}{if(!(t instanceof Ot||t instanceof _i))throw new Ie(ye.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ot.fromString(e,...n));return vd(r),new _i(t.firestore,null,r)}}function ul(t,e,...n){if(t=Dt(t),arguments.length===1&&(e=wf.newId()),Pm("doc","path",e),t instanceof bu){const r=ot.fromString(e,...n);return yd(r),new Ot(t,null,new Re(r))}{if(!(t instanceof Ot||t instanceof _i))throw new Ie(ye.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ot.fromString(e,...n));return yd(r),new Ot(t.firestore,t instanceof _i?t.converter:null,new Re(r))}}const op="AsyncQueue";class ap{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new _y(this,"async_queue_retry"),this._c=()=>{const r=Qu();r&&Te(op,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Qu();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Qu();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Mr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!To(e))throw e;Te(op,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,qr("INTERNAL UNHANDLED ERROR: ",lp(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=zf.createAndSchedule(this,e,n,r,(s=>this.hc(s)));return this.tc.push(i),i}uc(){this.nc&&Ce(47125,{Pc:lp(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function lp(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Ao extends bu{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new ap,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new ap(e),this._firestoreClient=void 0,await e}}}function rA(t,e){const n=typeof t=="object"?t:Ef(),r=typeof t=="string"?t:Ol,i=au(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=dm("firestore");s&&nA(i,...s)}return i}function Qf(t){if(t._terminated)throw new Ie(ye.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||iA(t),t._firestoreClient}function iA(t){const e=t._freezeSettings(),n=(function(i,s,o,a){return new R1(i,s,o,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,By(a.experimentalLongPollingOptions),a.useFetchStreams,a.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new Xw(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(i){const s=i?._online.build();return{_offline:i?._offline.build(s),_online:s}})(t._componentsProvider))}class Cn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Cn(jt.fromBase64String(e))}catch(n){throw new Ie(ye.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Cn(jt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Cn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ka(e,Cn._jsonSchema))return Cn.fromBase64String(e.bytes)}}Cn._jsonSchemaVersion="firestore/bytes/1.0",Cn._jsonSchema={type:Et("string",Cn._jsonSchemaVersion),bytes:Et("string")};class Tu{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ie(ye.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ft(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Yf{constructor(e){this._methodName=e}}class ur{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ie(ye.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ie(ye.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return je(this._lat,e._lat)||je(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ur._jsonSchemaVersion}}static fromJSON(e){if(ka(e,ur._jsonSchema))return new ur(e.latitude,e.longitude)}}ur._jsonSchemaVersion="firestore/geoPoint/1.0",ur._jsonSchema={type:Et("string",ur._jsonSchemaVersion),latitude:Et("number"),longitude:Et("number")};class cr{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0})(this._values,e._values)}toJSON(){return{type:cr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ka(e,cr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new cr(e.vectorValues);throw new Ie(ye.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}cr._jsonSchemaVersion="firestore/vectorValue/1.0",cr._jsonSchema={type:Et("string",cr._jsonSchemaVersion),vectorValues:Et("object")};const sA=/^__.*__$/;class oA{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Pi(e,this.data,this.fieldMask,n,this.fieldTransforms):new xa(e,this.data,n,this.fieldTransforms)}}class Hy{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Pi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function zy(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ce(40011,{Ac:t})}}class Xf{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Xf({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Ul(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(zy(this.Ac)&&sA.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class aA{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||yu(e)}Cc(e,n,r,i=!1){return new Xf({Ac:e,methodName:n,Dc:r,path:Ft.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ky(t){const e=t._freezeSettings(),n=yu(t._databaseId);return new aA(t._databaseId,!!e.ignoreUndefinedProperties,n)}function lA(t,e,n,r,i,s={}){const o=t.Cc(s.merge||s.mergeFields?2:0,e,n,i);Jf("Data must be an object, but it was:",o,r);const a=Gy(r,o);let l,c;if(s.merge)l=new En(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const f=[];for(const h of s.mergeFields){const d=Fc(e,h,n);if(!o.contains(d))throw new Ie(ye.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);$y(f,d)||f.push(d)}l=new En(f),c=o.fieldTransforms.filter((h=>l.covers(h.field)))}else l=null,c=o.fieldTransforms;return new oA(new fn(a),l,c)}class wu extends Yf{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof wu}}function uA(t,e,n,r){const i=t.Cc(1,e,n);Jf("Data must be an object, but it was:",i,r);const s=[],o=fn.empty();Oi(r,((l,c)=>{const f=Zf(e,l,n);c=Dt(c);const h=i.yc(f);if(c instanceof wu)s.push(f);else{const d=Au(c,h);d!=null&&(s.push(f),o.set(f,d))}}));const a=new En(s);return new Hy(o,a,i.fieldTransforms)}function cA(t,e,n,r,i,s){const o=t.Cc(1,e,n),a=[Fc(e,r,n)],l=[i];if(s.length%2!=0)throw new Ie(ye.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<s.length;d+=2)a.push(Fc(e,s[d])),l.push(s[d+1]);const c=[],f=fn.empty();for(let d=a.length-1;d>=0;--d)if(!$y(c,a[d])){const p=a[d];let w=l[d];w=Dt(w);const b=o.yc(p);if(w instanceof wu)c.push(p);else{const E=Au(w,b);E!=null&&(c.push(p),f.set(p,E))}}const h=new En(c);return new Hy(f,h,o.fieldTransforms)}function Au(t,e){if(Wy(t=Dt(t)))return Jf("Unsupported field value:",e,t),Gy(t,e);if(t instanceof Yf)return(function(r,i){if(!zy(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,i){const s=[];let o=0;for(const a of r){let l=Au(a,i.wc(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}})(t,e)}return(function(r,i){if((r=Dt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return X1(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=at.fromDate(r);return{timestampValue:Dl(i.serializer,s)}}if(r instanceof at){const s=new at(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Dl(i.serializer,s)}}if(r instanceof ur)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Cn)return{bytesValue:ly(i.serializer,r._byteString)};if(r instanceof Ot){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Lf(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof cr)return(function(o,a){return{mapValue:{fields:{[Um]:{stringValue:Fm},[Pl]:{arrayValue:{values:o.toArray().map((c=>{if(typeof c!="number")throw a.Sc("VectorValues must only contain numeric values.");return Nf(a.serializer,c)}))}}}}}})(r,i);throw i.Sc(`Unsupported field value: ${Af(r)}`)})(t,e)}function Gy(t,e){const n={};return km(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Oi(t,((r,i)=>{const s=Au(i,e.mc(r));s!=null&&(n[r]=s)})),{mapValue:{fields:n}}}function Wy(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof at||t instanceof ur||t instanceof Cn||t instanceof Ot||t instanceof Yf||t instanceof cr)}function Jf(t,e,n){if(!Wy(n)||!Cm(n)){const r=Af(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function Fc(t,e,n){if((e=Dt(e))instanceof Tu)return e._internalPath;if(typeof e=="string")return Zf(t,e);throw Ul("Field path arguments must be of type string or ",t,!1,void 0,n)}const fA=new RegExp("[~\\*/\\[\\]]");function Zf(t,e,n){if(e.search(fA)>=0)throw Ul(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Tu(...e.split("."))._internalPath}catch{throw Ul(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Ul(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new Ie(ye.INVALID_ARGUMENT,a+t+l)}function $y(t,e){return t.some((n=>n.isEqual(e)))}class Qy{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Ot(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new hA(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Yy("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class hA extends Qy{data(){return super.data()}}function Yy(t,e){return typeof e=="string"?Zf(t,e):e instanceof Tu?e._internalPath:e._delegate._internalPath}function dA(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Ie(ye.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class pA{convertValue(e,n="none"){switch(Ii(e)){case 0:return null;case 1:return e.booleanValue;case 2:return vt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ai(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ce(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Oi(e,((i,s)=>{r[i]=this.convertValue(s,n)})),r}convertVectorValue(e){const n=e.fields?.[Pl].arrayValue?.values?.map((r=>vt(r.doubleValue)));return new cr(n)}convertGeoPoint(e){return new ur(vt(e.latitude),vt(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=cu(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(va(e));default:return null}}convertTimestamp(e){const n=wi(e);return new at(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ot.fromString(e);Je(py(r),9688,{name:e});const i=new _a(r.get(1),r.get(3)),s=new Re(r.popFirst(5));return i.isEqual(n)||qr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}function gA(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class Ko{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ts extends Qy{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new cl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Yy("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ie(ye.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ts._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ts._jsonSchemaVersion="firestore/documentSnapshot/1.0",ts._jsonSchema={type:Et("string",ts._jsonSchemaVersion),bundleSource:Et("string","DocumentSnapshot"),bundleName:Et("string"),bundle:Et("string")};class cl extends ts{data(e={}){return super.data(e)}}class eo{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ko(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new cl(this._firestore,this._userDataWriter,r.key,r,new Ko(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ie(ye.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map((a=>{const l=new cl(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ko(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((a=>s||a.type!==3)).map((a=>{const l=new cl(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ko(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,f=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),f=o.indexOf(a.doc.key)),{type:mA(a.type),doc:l,oldIndex:c,newIndex:f}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ie(ye.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=eo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=wf.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function mA(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ce(61501,{type:t})}}function yA(t){t=Hr(t,Ot);const e=Hr(t.firestore,Ao);return eA(Qf(e),t._key).then((n=>TA(e,t,n)))}eo._jsonSchemaVersion="firestore/querySnapshot/1.0",eo._jsonSchema={type:Et("string",eo._jsonSchemaVersion),bundleSource:Et("string","QuerySnapshot"),bundleName:Et("string"),bundle:Et("string")};class Xy extends pA{constructor(e){super(),this.firestore=e}convertBytes(e){return new Cn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ot(this.firestore,null,n)}}function vA(t){t=Hr(t,Eu);const e=Hr(t.firestore,Ao),n=Qf(e),r=new Xy(e);return dA(t._query),tA(n,t._query).then((i=>new eo(e,r,t,i)))}function _A(t,e,n,...r){t=Hr(t,Ot);const i=Hr(t.firestore,Ao),s=Ky(i);let o;return o=typeof(e=Dt(e))=="string"||e instanceof Tu?cA(s,"updateDoc",t._key,e,n,r):uA(s,"updateDoc",t._key,e),eh(i,[o.toMutation(t._key,Kn.exists(!0))])}function bA(t){return eh(Hr(t.firestore,Ao),[new kf(t._key,Kn.none())])}function EA(t,e){const n=Hr(t.firestore,Ao),r=ul(t),i=gA(t.converter,e);return eh(n,[lA(Ky(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Kn.exists(!1))]).then((()=>r))}function eh(t,e){return(function(r,i){const s=new Mr;return r.asyncQueue.enqueueAndForget((async()=>qw(await Zw(r),i,s))),s.promise})(Qf(t),e)}function TA(t,e,n){const r=n.docs.get(e._key),i=new Xy(t);return new ts(t,i,e._key,r,new Ko(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){bo=i})(fs),is(new Ei("firestore",((r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new Ao(new l1(r.getProvider("auth-internal")),new f1(o,r.getProvider("app-check-internal")),(function(c,f){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new Ie(ye.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new _a(c.options.projectId,f)})(o,i),o);return s={useFetchStreams:n,...s},a._setSettings(s),a}),"PUBLIC").setMultipleInstances(!0)),or(dd,pd,e),or(dd,pd,"esm2020")})();function Jy(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const wA=Jy,Zy=new Ca("auth","Firebase",Jy());const Fl=new vf("@firebase/auth");function AA(t,...e){Fl.logLevel<=Fe.WARN&&Fl.warn(`Auth (${fs}): ${t}`,...e)}function fl(t,...e){Fl.logLevel<=Fe.ERROR&&Fl.error(`Auth (${fs}): ${t}`,...e)}function Wn(t,...e){throw th(t,...e)}function fr(t,...e){return th(t,...e)}function ev(t,e,n){const r={...wA(),[e]:n};return new Ca("auth","Firebase",r).create(e,{appName:t.name})}function Vr(t){return ev(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function th(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Zy.create(t,...e)}function Pe(t,e,...n){if(!t)throw th(e,...n)}function Dr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw fl(e),new Error(e)}function Kr(t,e){t||Dr(e)}function jc(){return typeof self<"u"&&self.location?.href||""}function IA(){return up()==="http:"||up()==="https:"}function up(){return typeof self<"u"&&self.location?.protocol||null}function SA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(IA()||VE()||"connection"in navigator)?navigator.onLine:!0}function RA(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class Va{constructor(e,n){this.shortDelay=e,this.longDelay=n,Kr(n>e,"Short delay should be less than long delay!"),this.isMobile=DE()||UE()}get(){return SA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function nh(t,e){Kr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class tv{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Dr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Dr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Dr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const OA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const PA=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],CA=new Va(3e4,6e4);function Ci(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Ni(t,e,n,r,i={}){return nv(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=Na({key:t.config.apiKey,...o}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c={method:e,headers:l,...s};return ME()||(c.referrerPolicy="no-referrer"),t.emulatorConfig&&cs(t.emulatorConfig.host)&&(c.credentials="include"),tv.fetch()(await rv(t,t.config.apiHost,n,a),c)})}async function nv(t,e,n){t._canInitEmulator=!1;const r={...OA,...e};try{const i=new kA(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Ja(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ja(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Ja(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Ja(t,"user-disabled",o);const f=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw ev(t,f,c);Wn(t,f)}}catch(i){if(i instanceof vr)throw i;Wn(t,"network-request-failed",{message:String(i)})}}async function Ua(t,e,n,r,i={}){const s=await Ni(t,e,n,r,i);return"mfaPendingCredential"in s&&Wn(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function rv(t,e,n,r){const i=`${e}${n}?${r}`,s=t,o=s.config.emulator?nh(t.config,i):`${t.config.apiScheme}://${i}`;return PA.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o}function NA(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class kA{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(fr(this.auth,"network-request-failed")),CA.get())})}}function Ja(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=fr(t,e,r);return i.customData._tokenResponse=n,i}function cp(t){return t!==void 0&&t.enterprise!==void 0}class xA{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return NA(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function DA(t,e){return Ni(t,"GET","/v2/recaptchaConfig",Ci(t,e))}async function LA(t,e){return Ni(t,"POST","/v1/accounts:delete",e)}async function jl(t,e){return Ni(t,"POST","/v1/accounts:lookup",e)}function oa(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function MA(t,e=!1){const n=Dt(t),r=await n.getIdToken(e),i=rh(r);Pe(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:oa(Xu(i.auth_time)),issuedAtTime:oa(Xu(i.iat)),expirationTime:oa(Xu(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}}function Xu(t){return Number(t)*1e3}function rh(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return fl("JWT malformed, contained fewer than 3 sections"),null;try{const i=fm(n);return i?JSON.parse(i):(fl("Failed to decode base64 JWT payload"),null)}catch(i){return fl("Caught error parsing JWT payload as JSON",i?.toString()),null}}function fp(t){const e=rh(t);return Pe(e,"internal-error"),Pe(typeof e.exp<"u","internal-error"),Pe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function wa(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof vr&&VA(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function VA({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class UA{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Bc{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=oa(this.lastLoginAt),this.creationTime=oa(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Bl(t){const e=t.auth,n=await t.getIdToken(),r=await wa(t,jl(e,{idToken:n}));Pe(r?.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const s=i.providerUserInfo?.length?iv(i.providerUserInfo):[],o=jA(t.providerData,s),a=t.isAnonymous,l=!(t.email&&i.passwordHash)&&!o?.length,c=a?l:!1,f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Bc(i.createdAt,i.lastLoginAt),isAnonymous:c};Object.assign(t,f)}async function FA(t){const e=Dt(t);await Bl(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function jA(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function iv(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function BA(t,e){const n=await nv(t,{},async()=>{const r=Na({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=await rv(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:r};return t.emulatorConfig&&cs(t.emulatorConfig.host)&&(l.credentials="include"),tv.fetch()(o,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function qA(t,e){return Ni(t,"POST","/v2/accounts:revokeToken",Ci(t,e))}class to{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Pe(e.idToken,"internal-error"),Pe(typeof e.idToken<"u","internal-error"),Pe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):fp(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Pe(e.length!==0,"internal-error");const n=fp(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Pe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await BA(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new to;return r&&(Pe(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(Pe(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(Pe(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new to,this.toJSON())}_performRefresh(){return Dr("not implemented")}}function ri(t,e){Pe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Bn{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new UA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Bc(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await wa(this,this.stsTokenManager.getToken(this.auth,e));return Pe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return MA(this,e)}reload(){return FA(this)}_assign(e){this!==e&&(Pe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Bn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Pe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Bl(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(vn(this.auth.app))return Promise.reject(Vr(this.auth));const e=await this.getIdToken();return await wa(this,LA(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,s=n.phoneNumber??void 0,o=n.photoURL??void 0,a=n.tenantId??void 0,l=n._redirectEventId??void 0,c=n.createdAt??void 0,f=n.lastLoginAt??void 0,{uid:h,emailVerified:d,isAnonymous:p,providerData:w,stsTokenManager:b}=n;Pe(h&&b,e,"internal-error");const E=to.fromJSON(this.name,b);Pe(typeof h=="string",e,"internal-error"),ri(r,e.name),ri(i,e.name),Pe(typeof d=="boolean",e,"internal-error"),Pe(typeof p=="boolean",e,"internal-error"),ri(s,e.name),ri(o,e.name),ri(a,e.name),ri(l,e.name),ri(c,e.name),ri(f,e.name);const _=new Bn({uid:h,auth:e,email:i,emailVerified:d,displayName:r,isAnonymous:p,photoURL:o,phoneNumber:s,tenantId:a,stsTokenManager:E,createdAt:c,lastLoginAt:f});return w&&Array.isArray(w)&&(_.providerData=w.map(v=>({...v}))),l&&(_._redirectEventId=l),_}static async _fromIdTokenResponse(e,n,r=!1){const i=new to;i.updateFromServerResponse(n);const s=new Bn({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Bl(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Pe(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?iv(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,a=new to;a.updateFromIdToken(r);const l=new Bn({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Bc(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(l,c),l}}const hp=new Map;function Lr(t){Kr(t instanceof Function,"Expected a class definition");let e=hp.get(t);return e?(Kr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,hp.set(t,e),e)}class sv{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}sv.type="NONE";const dp=sv;function hl(t,e,n){return`firebase:${t}:${e}:${n}`}class no{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=hl(this.userKey,i.apiKey,s),this.fullPersistenceKey=hl("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await jl(this.auth,{idToken:e}).catch(()=>{});return n?Bn._fromGetAccountInfoResponse(this.auth,n,e):null}return Bn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new no(Lr(dp),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||Lr(dp);const o=hl(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const f=await c._get(o);if(f){let h;if(typeof f=="string"){const d=await jl(e,{idToken:f}).catch(()=>{});if(!d)break;h=await Bn._fromGetAccountInfoResponse(e,d,f)}else h=Bn._fromJSON(e,f);c!==s&&(a=h),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new no(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new no(s,e,r))}}function pp(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(uv(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(ov(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(fv(e))return"Blackberry";if(hv(e))return"Webos";if(av(e))return"Safari";if((e.includes("chrome/")||lv(e))&&!e.includes("edge/"))return"Chrome";if(cv(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function ov(t=Yt()){return/firefox\//i.test(t)}function av(t=Yt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function lv(t=Yt()){return/crios\//i.test(t)}function uv(t=Yt()){return/iemobile/i.test(t)}function cv(t=Yt()){return/android/i.test(t)}function fv(t=Yt()){return/blackberry/i.test(t)}function hv(t=Yt()){return/webos/i.test(t)}function ih(t=Yt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function HA(t=Yt()){return ih(t)&&!!window.navigator?.standalone}function zA(){return FE()&&document.documentMode===10}function dv(t=Yt()){return ih(t)||cv(t)||hv(t)||fv(t)||/windows phone/i.test(t)||uv(t)}function pv(t,e=[]){let n;switch(t){case"Browser":n=pp(Yt());break;case"Worker":n=`${pp(Yt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${fs}/${r}`}class KA{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function GA(t,e={}){return Ni(t,"GET","/v2/passwordPolicy",Ci(t,e))}const WA=6;class $A{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??WA,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}class QA{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new gp(this),this.idTokenSubscription=new gp(this),this.beforeStateQueue=new KA(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Zy,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Lr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await no.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await jl(this,{idToken:e}),r=await Bn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(vn(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(o,o))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=this.redirectUser?._redirectEventId,o=r?._redirectEventId,a=await this.tryRedirectSignIn(e);(!s||s===o)&&a?.user&&(r=a.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Pe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Bl(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=RA()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(vn(this.app))return Promise.reject(Vr(this));const n=e?Dt(e):null;return n&&Pe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Pe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return vn(this.app)?Promise.reject(Vr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return vn(this.app)?Promise.reject(Vr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Lr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await GA(this),n=new $A(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ca("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await qA(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Lr(e)||this._popupRedirectResolver;Pe(n,this,"argument-error"),this.redirectPersistenceManager=await no.create(this,[Lr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Pe(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Pe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=pv(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(vn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&AA(`Error while retrieving App Check token: ${e.error}`),e?.token}}function ps(t){return Dt(t)}class gp{constructor(e){this.auth=e,this.observer=null,this.addObserver=WE(n=>this.observer=n)}get next(){return Pe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Iu={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function YA(t){Iu=t}function gv(t){return Iu.loadJS(t)}function XA(){return Iu.recaptchaEnterpriseScript}function JA(){return Iu.gapiScript}function ZA(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class eI{constructor(){this.enterprise=new tI}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class tI{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const nI="recaptcha-enterprise",mv="NO_RECAPTCHA";class rI{constructor(e){this.type=nI,this.auth=ps(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{DA(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new xA(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;cp(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(mv)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new eI().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&cp(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=XA();l.length!==0&&(l+=a),gv(l).then(()=>{i(a,s,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function mp(t,e,n,r=!1,i=!1){const s=new rI(t);let o;if(i)o=mv;else try{o=await s.verify(n)}catch{o=await s.verify(n,!0)}const a={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,c=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function qc(t,e,n,r,i){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await mp(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await mp(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}function iI(t,e){const n=au(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(rs(s,e??{}))return i;Wn(i,"already-initialized")}return n.initialize({options:e})}function sI(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Lr);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function oI(t,e,n){const r=ps(t);Pe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=yv(e),{host:o,port:a}=aI(e),l=a===null?"":`:${a}`,c={url:`${s}//${o}${l}/`},f=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Pe(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Pe(rs(c,r.config.emulator)&&rs(f,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=f,r.settings.appVerificationDisabledForTesting=!0,cs(o)?(mf(`${s}//${o}${l}`),yf("Auth",!0)):lI()}function yv(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function aI(t){const e=yv(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:yp(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:yp(o)}}}function yp(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function lI(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class sh{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Dr("not implemented")}_getIdTokenResponse(e){return Dr("not implemented")}_linkToIdToken(e,n){return Dr("not implemented")}_getReauthenticationResolver(e){return Dr("not implemented")}}async function uI(t,e){return Ni(t,"POST","/v1/accounts:signUp",e)}async function cI(t,e){return Ua(t,"POST","/v1/accounts:signInWithPassword",Ci(t,e))}async function fI(t,e){return Ua(t,"POST","/v1/accounts:signInWithEmailLink",Ci(t,e))}async function hI(t,e){return Ua(t,"POST","/v1/accounts:signInWithEmailLink",Ci(t,e))}class Aa extends sh{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Aa(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Aa(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return qc(e,n,"signInWithPassword",cI);case"emailLink":return fI(e,{email:this._email,oobCode:this._password});default:Wn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return qc(e,r,"signUpPassword",uI);case"emailLink":return hI(e,{idToken:n,email:this._email,oobCode:this._password});default:Wn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function ro(t,e){return Ua(t,"POST","/v1/accounts:signInWithIdp",Ci(t,e))}const dI="http://localhost";class as extends sh{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new as(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Wn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...s}=n;if(!r||!i)return null;const o=new as(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return ro(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ro(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ro(e,n)}buildRequest(){const e={requestUri:dI,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Na(n)}return e}}function pI(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function gI(t){const e=jo(Bo(t)).link,n=e?jo(Bo(e)).deep_link_id:null,r=jo(Bo(t)).deep_link_id;return(r?jo(Bo(r)).link:null)||r||n||e||t}class oh{constructor(e){const n=jo(Bo(e)),r=n.apiKey??null,i=n.oobCode??null,s=pI(n.mode??null);Pe(r&&i&&s,"argument-error"),this.apiKey=r,this.operation=s,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=gI(e);try{return new oh(n)}catch{return null}}}class Io{constructor(){this.providerId=Io.PROVIDER_ID}static credential(e,n){return Aa._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=oh.parseLink(n);return Pe(r,"argument-error"),Aa._fromEmailAndCode(e,r.code,r.tenantId)}}Io.PROVIDER_ID="password";Io.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Io.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class vv{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Fa extends vv{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ui extends Fa{constructor(){super("facebook.com")}static credential(e){return as._fromParams({providerId:ui.PROVIDER_ID,signInMethod:ui.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ui.credentialFromTaggedObject(e)}static credentialFromError(e){return ui.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ui.credential(e.oauthAccessToken)}catch{return null}}}ui.FACEBOOK_SIGN_IN_METHOD="facebook.com";ui.PROVIDER_ID="facebook.com";class ci extends Fa{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return as._fromParams({providerId:ci.PROVIDER_ID,signInMethod:ci.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ci.credentialFromTaggedObject(e)}static credentialFromError(e){return ci.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ci.credential(n,r)}catch{return null}}}ci.GOOGLE_SIGN_IN_METHOD="google.com";ci.PROVIDER_ID="google.com";class fi extends Fa{constructor(){super("github.com")}static credential(e){return as._fromParams({providerId:fi.PROVIDER_ID,signInMethod:fi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return fi.credentialFromTaggedObject(e)}static credentialFromError(e){return fi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return fi.credential(e.oauthAccessToken)}catch{return null}}}fi.GITHUB_SIGN_IN_METHOD="github.com";fi.PROVIDER_ID="github.com";class hi extends Fa{constructor(){super("twitter.com")}static credential(e,n){return as._fromParams({providerId:hi.PROVIDER_ID,signInMethod:hi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return hi.credentialFromTaggedObject(e)}static credentialFromError(e){return hi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return hi.credential(n,r)}catch{return null}}}hi.TWITTER_SIGN_IN_METHOD="twitter.com";hi.PROVIDER_ID="twitter.com";async function mI(t,e){return Ua(t,"POST","/v1/accounts:signUp",Ci(t,e))}class ls{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Bn._fromIdTokenResponse(e,r,i),o=vp(r);return new ls({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=vp(r);return new ls({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function vp(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class ql extends vr{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,ql.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new ql(e,n,r,i)}}function _v(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?ql._fromErrorAndOperation(t,s,e,r):s})}async function yI(t,e,n=!1){const r=await wa(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ls._forOperation(t,"link",r)}async function vI(t,e,n=!1){const{auth:r}=t;if(vn(r.app))return Promise.reject(Vr(r));const i="reauthenticate";try{const s=await wa(t,_v(r,i,e,t),n);Pe(s.idToken,r,"internal-error");const o=rh(s.idToken);Pe(o,r,"internal-error");const{sub:a}=o;return Pe(t.uid===a,r,"user-mismatch"),ls._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&Wn(r,"user-mismatch"),s}}async function bv(t,e,n=!1){if(vn(t.app))return Promise.reject(Vr(t));const r="signIn",i=await _v(t,r,e),s=await ls._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function _I(t,e){return bv(ps(t),e)}async function Ev(t){const e=ps(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function bI(t,e,n){if(vn(t.app))return Promise.reject(Vr(t));const r=ps(t),o=await qc(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",mI).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&Ev(t),l}),a=await ls._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function EI(t,e,n){return vn(t.app)?Promise.reject(Vr(t)):_I(Dt(t),Io.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Ev(t),r})}function TI(t,e,n,r){return Dt(t).onIdTokenChanged(e,n,r)}function wI(t,e,n){return Dt(t).beforeAuthStateChanged(e,n)}function ah(t,e,n,r){return Dt(t).onAuthStateChanged(e,n,r)}function Tv(t){return Dt(t).signOut()}const Hl="__sak";class wv{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Hl,"1"),this.storage.removeItem(Hl),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const AI=1e3,II=10;class Av extends wv{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=dv(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);zA()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,II):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},AI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Av.type="LOCAL";const SI=Av;class Iv extends wv{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Iv.type="SESSION";const Sv=Iv;function RI(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Su{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Su(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!o?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async c=>c(n.origin,s)),l=await RI(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Su.receivers=[];function lh(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}class OI{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const c=lh("",20);i.port1.start();const f=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(h){const d=h;if(d.data.eventId===c)switch(d.data.status){case"ack":clearTimeout(f),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(d.data.response);break;default:clearTimeout(f),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}function hr(){return window}function PI(t){hr().location.href=t}function Rv(){return typeof hr().WorkerGlobalScope<"u"&&typeof hr().importScripts=="function"}async function CI(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function NI(){return navigator?.serviceWorker?.controller||null}function kI(){return Rv()?self:null}const Ov="firebaseLocalStorageDb",xI=1,zl="firebaseLocalStorage",Pv="fbase_key";class ja{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Ru(t,e){return t.transaction([zl],e?"readwrite":"readonly").objectStore(zl)}function DI(){const t=indexedDB.deleteDatabase(Ov);return new ja(t).toPromise()}function Hc(){const t=indexedDB.open(Ov,xI);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(zl,{keyPath:Pv})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(zl)?e(r):(r.close(),await DI(),e(await Hc()))})})}async function _p(t,e,n){const r=Ru(t,!0).put({[Pv]:e,value:n});return new ja(r).toPromise()}async function LI(t,e){const n=Ru(t,!1).get(e),r=await new ja(n).toPromise();return r===void 0?null:r.value}function bp(t,e){const n=Ru(t,!0).delete(e);return new ja(n).toPromise()}const MI=800,VI=3;class Cv{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Hc(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>VI)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Rv()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Su._getInstance(kI()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await CI(),!this.activeServiceWorker)return;this.sender=new OI(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||NI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Hc();return await _p(e,Hl,"1"),await bp(e,Hl),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>_p(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>LI(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>bp(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Ru(i,!1).getAll();return new ja(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),MI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Cv.type="LOCAL";const UI=Cv;new Va(3e4,6e4);function FI(t,e){return e?Lr(e):(Pe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class uh extends sh{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ro(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ro(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ro(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function jI(t){return bv(t.auth,new uh(t),t.bypassAuthState)}function BI(t){const{auth:e,user:n}=t;return Pe(n,e,"internal-error"),vI(n,new uh(t),t.bypassAuthState)}async function qI(t){const{auth:e,user:n}=t;return Pe(n,e,"internal-error"),yI(n,new uh(t),t.bypassAuthState)}class Nv{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return jI;case"linkViaPopup":case"linkViaRedirect":return qI;case"reauthViaPopup":case"reauthViaRedirect":return BI;default:Wn(this.auth,"internal-error")}}resolve(e){Kr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Kr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const HI=new Va(2e3,1e4);class Gs extends Nv{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Gs.currentPopupAction&&Gs.currentPopupAction.cancel(),Gs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Pe(e,this.auth,"internal-error"),e}async onExecution(){Kr(this.filter.length===1,"Popup operations only handle one event");const e=lh();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(fr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(fr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Gs.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(fr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,HI.get())};e()}}Gs.currentPopupAction=null;const zI="pendingRedirect",dl=new Map;class KI extends Nv{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=dl.get(this.auth._key());if(!e){try{const r=await GI(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}dl.set(this.auth._key(),e)}return this.bypassAuthState||dl.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function GI(t,e){const n=QI(e),r=$I(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function WI(t,e){dl.set(t._key(),e)}function $I(t){return Lr(t._redirectPersistence)}function QI(t){return hl(zI,t.config.apiKey,t.name)}async function YI(t,e,n=!1){if(vn(t.app))return Promise.reject(Vr(t));const r=ps(t),i=FI(r,e),o=await new KI(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}const XI=600*1e3;class JI{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!ZI(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!kv(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(fr(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=XI&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ep(e))}saveEventToCache(e){this.cachedEventUids.add(Ep(e)),this.lastProcessedEventTime=Date.now()}}function Ep(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function kv({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function ZI(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return kv(t);default:return!1}}async function eS(t,e={}){return Ni(t,"GET","/v1/projects",e)}const tS=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,nS=/^https?/;async function rS(t){if(t.config.emulator)return;const{authorizedDomains:e}=await eS(t);for(const n of e)try{if(iS(n))return}catch{}Wn(t,"unauthorized-domain")}function iS(t){const e=jc(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!nS.test(n))return!1;if(tS.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const sS=new Va(3e4,6e4);function Tp(){const t=hr().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function oS(t){return new Promise((e,n)=>{function r(){Tp(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Tp(),n(fr(t,"network-request-failed"))},timeout:sS.get()})}if(hr().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(hr().gapi?.load)r();else{const i=ZA("iframefcb");return hr()[i]=()=>{gapi.load?r():n(fr(t,"network-request-failed"))},gv(`${JA()}?onload=${i}`).catch(s=>n(s))}}).catch(e=>{throw pl=null,e})}let pl=null;function aS(t){return pl=pl||oS(t),pl}const lS=new Va(5e3,15e3),uS="__/auth/iframe",cS="emulator/auth/iframe",fS={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},hS=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function dS(t){const e=t.config;Pe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?nh(e,cS):`https://${t.config.authDomain}/${uS}`,r={apiKey:e.apiKey,appName:t.name,v:fs},i=hS.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Na(r).slice(1)}`}async function pS(t){const e=await aS(t),n=hr().gapi;return Pe(n,t,"internal-error"),e.open({where:document.body,url:dS(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:fS,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=fr(t,"network-request-failed"),a=hr().setTimeout(()=>{s(o)},lS.get());function l(){hr().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}const gS={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},mS=500,yS=600,vS="_blank",_S="http://localhost";class wp{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function bS(t,e,n,r=mS,i=yS){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l={...gS,width:r.toString(),height:i.toString(),top:s,left:o},c=Yt().toLowerCase();n&&(a=lv(c)?vS:n),ov(c)&&(e=e||_S,l.scrollbars="yes");const f=Object.entries(l).reduce((d,[p,w])=>`${d}${p}=${w},`,"");if(HA(c)&&a!=="_self")return ES(e||"",a),new wp(null);const h=window.open(e||"",a,f);Pe(h,t,"popup-blocked");try{h.focus()}catch{}return new wp(h)}function ES(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const TS="__/auth/handler",wS="emulator/auth/handler",AS=encodeURIComponent("fac");async function Ap(t,e,n,r,i,s){Pe(t.config.authDomain,t,"auth-domain-config-required"),Pe(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:fs,eventId:i};if(e instanceof vv){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",GE(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,h]of Object.entries({}))o[f]=h}if(e instanceof Fa){const f=e.getScopes().filter(h=>h!=="");f.length>0&&(o.scopes=f.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const f of Object.keys(a))a[f]===void 0&&delete a[f];const l=await t._getAppCheckToken(),c=l?`#${AS}=${encodeURIComponent(l)}`:"";return`${IS(t)}?${Na(a).slice(1)}${c}`}function IS({config:t}){return t.emulator?nh(t,wS):`https://${t.authDomain}/${TS}`}const Ju="webStorageSupport";class SS{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Sv,this._completeRedirectFn=YI,this._overrideRedirectResult=WI}async _openPopup(e,n,r,i){Kr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const s=await Ap(e,n,r,jc(),i);return bS(e,s,lh())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await Ap(e,n,r,jc(),i);return PI(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Kr(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await pS(e),r=new JI(e);return n.register("authEvent",i=>(Pe(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Ju,{type:Ju},i=>{const s=i?.[0]?.[Ju];s!==void 0&&n(!!s),Wn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=rS(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return dv()||av()||ih()}}const RS=SS;var Ip="@firebase/auth",Sp="1.11.1";class OS{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Pe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function PS(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function CS(t){is(new Ei("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Pe(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:pv(t)},c=new QA(r,i,s,l);return sI(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),is(new Ei("auth-internal",e=>{const n=ps(e.getProvider("auth").getImmediate());return(r=>new OS(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),or(Ip,Sp,PS(t)),or(Ip,Sp,"esm2020")}const NS=300,kS=gm("authIdTokenMaxAge")||NS;let Rp=null;const xS=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>kS)return;const i=n?.token;Rp!==i&&(Rp=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function xv(t=Ef()){const e=au(t,"auth");if(e.isInitialized())return e.getImmediate();const n=iI(t,{popupRedirectResolver:RS,persistence:[UI,SI,Sv]}),r=gm("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=xS(s.toString());wI(n,o,()=>o(n.currentUser)),TI(n,a=>o(a))}}const i=hm("auth");return i&&oI(n,`http://${i}`),n}function DS(){return document.getElementsByTagName("head")?.[0]??document}YA({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=fr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",DS().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});CS("Browser");const Dv="firebasestorage.googleapis.com",LS="storageBucket",MS=120*1e3,VS=600*1e3;class _r extends vr{constructor(e,n,r=0){super(Zu(e),`Firebase Storage: ${n} (${Zu(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,_r.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Zu(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var yr;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(yr||(yr={}));function Zu(t){return"storage/"+t}function US(){const t="An unknown error occurred, please check the error payload for server response.";return new _r(yr.UNKNOWN,t)}function FS(){return new _r(yr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function jS(){return new _r(yr.CANCELED,"User canceled the upload/download.")}function BS(t){return new _r(yr.INVALID_URL,"Invalid URL '"+t+"'.")}function qS(t){return new _r(yr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function Op(t){return new _r(yr.INVALID_ARGUMENT,t)}function Lv(){return new _r(yr.APP_DELETED,"The Firebase app was deleted.")}function HS(t){return new _r(yr.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}class qn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=qn.makeFromUrl(e,n)}catch{return new qn(e,"")}if(r.path==="")return r;throw qS(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(g){g.path.charAt(g.path.length-1)==="/"&&(g.path_=g.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function c(g){g.path_=decodeURIComponent(g.path)}const f="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),d="(/([^?#]*).*)?$",p=new RegExp(`^https?://${h}/${f}/b/${i}/o${d}`,"i"),w={bucket:1,path:3},b=n===Dv?"(?:storage.googleapis.com|storage.cloud.google.com)":n,E="([^?#]*)",_=new RegExp(`^https?://${b}/${i}/${E}`,"i"),y=[{regex:a,indices:l,postModify:s},{regex:p,indices:w,postModify:c},{regex:_,indices:{bucket:1,path:2},postModify:c}];for(let g=0;g<y.length;g++){const T=y[g],x=T.regex.exec(e);if(x){const S=x[T.indices.bucket];let A=x[T.indices.path];A||(A=""),r=new qn(S,A),T.postModify(r);break}}if(r==null)throw BS(e);return r}}class zS{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function KS(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let c=!1;function f(...E){c||(c=!0,e.apply(null,E))}function h(E){i=setTimeout(()=>{i=null,t(p,l())},E)}function d(){s&&clearTimeout(s)}function p(E,..._){if(c){d();return}if(E){d(),f.call(null,E,..._);return}if(l()||o){d(),f.call(null,E,..._);return}r<64&&(r*=2);let y;a===1?(a=2,y=0):y=(r+Math.random())*1e3,h(y)}let w=!1;function b(E){w||(w=!0,d(),!c&&(i!==null?(E||(a=2),clearTimeout(i),h(0)):E||(a=1)))}return h(0),s=setTimeout(()=>{o=!0,b(!0)},n),b}function GS(t){t(!1)}function WS(t){return t!==void 0}function Pp(t,e,n,r){if(r<e)throw Op(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Op(`Invalid value for '${t}'. Expected ${n} or less.`)}function $S(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var Kl;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Kl||(Kl={}));function QS(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}class YS{constructor(e,n,r,i,s,o,a,l,c,f,h,d=!0,p=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=f,this.connectionFactory_=h,this.retry=d,this.isUsingEmulator=p,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((w,b)=>{this.resolve_=w,this.reject_=b,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Za(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===Kl.NO_ERROR,l=s.getStatus();if(!a||QS(l,this.additionalRetryCodes_)&&this.retry){const f=s.getErrorCode()===Kl.ABORT;r(!1,new Za(!1,null,f));return}const c=this.successCodes_.indexOf(l)!==-1;r(!0,new Za(c,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());WS(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=US();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?Lv():jS();o(l)}else{const l=FS();o(l)}};this.canceled_?n(!1,new Za(!1,null,!0)):this.backoffId_=KS(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&GS(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Za{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function XS(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function JS(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function ZS(t,e){e&&(t["X-Firebase-GMPID"]=e)}function eR(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function tR(t,e,n,r,i,s,o=!0,a=!1){const l=$S(t.urlParams),c=t.url+l,f=Object.assign({},t.headers);return ZS(f,e),XS(f,n),JS(f,s),eR(f,r),new YS(c,t.method,f,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o,a)}function nR(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function rR(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}class Gl{constructor(e,n){this._service=e,n instanceof qn?this._location=n:this._location=qn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Gl(e,n)}get root(){const e=new qn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return rR(this._location.path)}get storage(){return this._service}get parent(){const e=nR(this._location.path);if(e===null)return null;const n=new qn(this._location.bucket,e);return new Gl(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw HS(e)}}function Cp(t,e){const n=e?.[LS];return n==null?null:qn.makeFromBucketSpec(n,t)}function iR(t,e,n,r={}){t.host=`${e}:${n}`;const i=cs(e);i&&(mf(`https://${t.host}/b`),yf("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:mm(s,t.app.options.projectId))}class sR{constructor(e,n,r,i,s,o=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._isUsingEmulator=o,this._bucket=null,this._host=Dv,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=MS,this._maxUploadRetryTime=VS,this._requests=new Set,i!=null?this._bucket=qn.makeFromBucketSpec(i,this._host):this._bucket=Cp(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=qn.makeFromBucketSpec(this._url,e):this._bucket=Cp(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Pp("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Pp("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(vn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Gl(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new zS(Lv());{const o=tR(e,this._appId,r,i,n,this._firebaseVersion,s,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const Np="@firebase/storage",kp="0.14.0";const Mv="storage";function oR(t=Ef(),e){t=Dt(t);const r=au(t,Mv).getImmediate({identifier:e}),i=dm("storage");return i&&aR(r,...i),r}function aR(t,e,n,r={}){iR(t,e,n,r)}function lR(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new sR(n,r,i,e,fs)}function uR(){is(new Ei(Mv,lR,"PUBLIC").setMultipleInstances(!0)),or(Np,kp,""),or(Np,kp,"esm2020")}uR();const Vv={apiKey:"AIzaSyA-Rg7H2fV1XACurDoXCMm2kAkBRShus6o",authDomain:"unique-beings-15a5b.firebaseapp.com",projectId:"unique-beings-15a5b",storageBucket:"unique-beings-15a5b.firebasestorage.app",messagingSenderId:"954432871196",appId:"1:954432871196:web:d3d0796dd34b70f434b8d9",measurementId:"G-XPSY1JPJ8L"},ch=bf(Vv),aa=rA(ch),go=xv(ch);oR(ch);const Ks=typeof document<"u";function Uv(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function cR(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&Uv(t.default)}const $e=Object.assign;function ec(t,e){const n={};for(const r in e){const i=e[r];n[r]=$n(i)?i.map(t):t(i)}return n}const la=()=>{},$n=Array.isArray;function xp(t,e){const n={};for(const r in t)n[r]=r in e?e[r]:t[r];return n}const Fv=/#/g,fR=/&/g,hR=/\//g,dR=/=/g,pR=/\?/g,jv=/\+/g,gR=/%5B/g,mR=/%5D/g,Bv=/%5E/g,yR=/%60/g,qv=/%7B/g,vR=/%7C/g,Hv=/%7D/g,_R=/%20/g;function fh(t){return t==null?"":encodeURI(""+t).replace(vR,"|").replace(gR,"[").replace(mR,"]")}function bR(t){return fh(t).replace(qv,"{").replace(Hv,"}").replace(Bv,"^")}function zc(t){return fh(t).replace(jv,"%2B").replace(_R,"+").replace(Fv,"%23").replace(fR,"%26").replace(yR,"`").replace(qv,"{").replace(Hv,"}").replace(Bv,"^")}function ER(t){return zc(t).replace(dR,"%3D")}function TR(t){return fh(t).replace(Fv,"%23").replace(pR,"%3F")}function wR(t){return TR(t).replace(hR,"%2F")}function Ia(t){if(t==null)return null;try{return decodeURIComponent(""+t)}catch{}return""+t}const AR=/\/$/,IR=t=>t.replace(AR,"");function tc(t,e,n="/"){let r,i={},s="",o="";const a=e.indexOf("#");let l=e.indexOf("?");return l=a>=0&&l>a?-1:l,l>=0&&(r=e.slice(0,l),s=e.slice(l,a>0?a:e.length),i=t(s.slice(1))),a>=0&&(r=r||e.slice(0,a),o=e.slice(a,e.length)),r=PR(r??e,n),{fullPath:r+s+o,path:r,query:i,hash:Ia(o)}}function SR(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function Dp(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function RR(t,e,n){const r=e.matched.length-1,i=n.matched.length-1;return r>-1&&r===i&&mo(e.matched[r],n.matched[i])&&zv(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function mo(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function zv(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(var n in t)if(!OR(t[n],e[n]))return!1;return!0}function OR(t,e){return $n(t)?Lp(t,e):$n(e)?Lp(e,t):t?.valueOf()===e?.valueOf()}function Lp(t,e){return $n(e)?t.length===e.length&&t.every((n,r)=>n===e[r]):t.length===1&&t[0]===e}function PR(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),r=t.split("/"),i=r[r.length-1];(i===".."||i===".")&&r.push("");let s=n.length-1,o,a;for(o=0;o<r.length;o++)if(a=r[o],a!==".")if(a==="..")s>1&&s--;else break;return n.slice(0,s).join("/")+"/"+r.slice(o).join("/")}const ii={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};let Kc=(function(t){return t.pop="pop",t.push="push",t})({}),nc=(function(t){return t.back="back",t.forward="forward",t.unknown="",t})({});function CR(t){if(!t)if(Ks){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),IR(t)}const NR=/^[^#]+#/;function kR(t,e){return t.replace(NR,"#")+e}function xR(t,e){const n=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-n.left-(e.left||0),top:r.top-n.top-(e.top||0)}}const Ou=()=>({left:window.scrollX,top:window.scrollY});function DR(t){let e;if("el"in t){const n=t.el,r=typeof n=="string"&&n.startsWith("#"),i=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;e=xR(i,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function Mp(t,e){return(history.state?history.state.position-e:-1)+t}const Gc=new Map;function LR(t,e){Gc.set(t,e)}function MR(t){const e=Gc.get(t);return Gc.delete(t),e}function VR(t){return typeof t=="string"||t&&typeof t=="object"}function Kv(t){return typeof t=="string"||typeof t=="symbol"}let gt=(function(t){return t[t.MATCHER_NOT_FOUND=1]="MATCHER_NOT_FOUND",t[t.NAVIGATION_GUARD_REDIRECT=2]="NAVIGATION_GUARD_REDIRECT",t[t.NAVIGATION_ABORTED=4]="NAVIGATION_ABORTED",t[t.NAVIGATION_CANCELLED=8]="NAVIGATION_CANCELLED",t[t.NAVIGATION_DUPLICATED=16]="NAVIGATION_DUPLICATED",t})({});const Gv=Symbol("");gt.MATCHER_NOT_FOUND+"",gt.NAVIGATION_GUARD_REDIRECT+"",gt.NAVIGATION_ABORTED+"",gt.NAVIGATION_CANCELLED+"",gt.NAVIGATION_DUPLICATED+"";function yo(t,e){return $e(new Error,{type:t,[Gv]:!0},e)}function Cr(t,e){return t instanceof Error&&Gv in t&&(e==null||!!(t.type&e))}const UR=["params","query","hash"];function FR(t){if(typeof t=="string")return t;if(t.path!=null)return t.path;const e={};for(const n of UR)n in t&&(e[n]=t[n]);return JSON.stringify(e,null,2)}function jR(t){const e={};if(t===""||t==="?")return e;const n=(t[0]==="?"?t.slice(1):t).split("&");for(let r=0;r<n.length;++r){const i=n[r].replace(jv," "),s=i.indexOf("="),o=Ia(s<0?i:i.slice(0,s)),a=s<0?null:Ia(i.slice(s+1));if(o in e){let l=e[o];$n(l)||(l=e[o]=[l]),l.push(a)}else e[o]=a}return e}function Vp(t){let e="";for(let n in t){const r=t[n];if(n=ER(n),r==null){r!==void 0&&(e+=(e.length?"&":"")+n);continue}($n(r)?r.map(i=>i&&zc(i)):[r&&zc(r)]).forEach(i=>{i!==void 0&&(e+=(e.length?"&":"")+n,i!=null&&(e+="="+i))})}return e}function BR(t){const e={};for(const n in t){const r=t[n];r!==void 0&&(e[n]=$n(r)?r.map(i=>i==null?null:""+i):r==null?r:""+r)}return e}const qR=Symbol(""),Up=Symbol(""),Pu=Symbol(""),hh=Symbol(""),Wc=Symbol("");function Vo(){let t=[];function e(r){return t.push(r),()=>{const i=t.indexOf(r);i>-1&&t.splice(i,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function li(t,e,n,r,i,s=o=>o()){const o=r&&(r.enterCallbacks[i]=r.enterCallbacks[i]||[]);return()=>new Promise((a,l)=>{const c=d=>{d===!1?l(yo(gt.NAVIGATION_ABORTED,{from:n,to:e})):d instanceof Error?l(d):VR(d)?l(yo(gt.NAVIGATION_GUARD_REDIRECT,{from:e,to:d})):(o&&r.enterCallbacks[i]===o&&typeof d=="function"&&o.push(d),a())},f=s(()=>t.call(r&&r.instances[i],e,n,c));let h=Promise.resolve(f);t.length<3&&(h=h.then(c)),h.catch(d=>l(d))})}function rc(t,e,n,r,i=s=>s()){const s=[];for(const o of t)for(const a in o.components){let l=o.components[a];if(!(e!=="beforeRouteEnter"&&!o.instances[a]))if(Uv(l)){const c=(l.__vccOpts||l)[e];c&&s.push(li(c,n,r,o,a,i))}else{let c=l();s.push(()=>c.then(f=>{if(!f)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const h=cR(f)?f.default:f;o.mods[a]=f,o.components[a]=h;const d=(h.__vccOpts||h)[e];return d&&li(d,n,r,o,a,i)()}))}}return s}function HR(t,e){const n=[],r=[],i=[],s=Math.max(e.matched.length,t.matched.length);for(let o=0;o<s;o++){const a=e.matched[o];a&&(t.matched.find(c=>mo(c,a))?r.push(a):n.push(a));const l=t.matched[o];l&&(e.matched.find(c=>mo(c,l))||i.push(l))}return[n,r,i]}let zR=()=>location.protocol+"//"+location.host;function Wv(t,e){const{pathname:n,search:r,hash:i}=e,s=t.indexOf("#");if(s>-1){let o=i.includes(t.slice(s))?t.slice(s).length:1,a=i.slice(o);return a[0]!=="/"&&(a="/"+a),Dp(a,"")}return Dp(n,t)+r+i}function KR(t,e,n,r){let i=[],s=[],o=null;const a=({state:d})=>{const p=Wv(t,location),w=n.value,b=e.value;let E=0;if(d){if(n.value=p,e.value=d,o&&o===w){o=null;return}E=b?d.position-b.position:0}else r(p);i.forEach(_=>{_(n.value,w,{delta:E,type:Kc.pop,direction:E?E>0?nc.forward:nc.back:nc.unknown})})};function l(){o=n.value}function c(d){i.push(d);const p=()=>{const w=i.indexOf(d);w>-1&&i.splice(w,1)};return s.push(p),p}function f(){if(document.visibilityState==="hidden"){const{history:d}=window;if(!d.state)return;d.replaceState($e({},d.state,{scroll:Ou()}),"")}}function h(){for(const d of s)d();s=[],window.removeEventListener("popstate",a),window.removeEventListener("pagehide",f),document.removeEventListener("visibilitychange",f)}return window.addEventListener("popstate",a),window.addEventListener("pagehide",f),document.addEventListener("visibilitychange",f),{pauseListeners:l,listen:c,destroy:h}}function Fp(t,e,n,r=!1,i=!1){return{back:t,current:e,forward:n,replaced:r,position:window.history.length,scroll:i?Ou():null}}function GR(t){const{history:e,location:n}=window,r={value:Wv(t,n)},i={value:e.state};i.value||s(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function s(l,c,f){const h=t.indexOf("#"),d=h>-1?(n.host&&document.querySelector("base")?t:t.slice(h))+l:zR()+t+l;try{e[f?"replaceState":"pushState"](c,"",d),i.value=c}catch(p){console.error(p),n[f?"replace":"assign"](d)}}function o(l,c){s(l,$e({},e.state,Fp(i.value.back,l,i.value.forward,!0),c,{position:i.value.position}),!0),r.value=l}function a(l,c){const f=$e({},i.value,e.state,{forward:l,scroll:Ou()});s(f.current,f,!0),s(l,$e({},Fp(r.value,l,null),{position:f.position+1},c),!1),r.value=l}return{location:r,state:i,push:a,replace:o}}function WR(t){t=CR(t);const e=GR(t),n=KR(t,e.state,e.location,e.replace);function r(s,o=!0){o||n.pauseListeners(),history.go(s)}const i=$e({location:"",base:t,go:r,createHref:kR.bind(null,t)},e,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>e.state.value}),i}function $R(t){return t=location.host?t||location.pathname+location.search:"",t.includes("#")||(t+="#"),WR(t)}let Xi=(function(t){return t[t.Static=0]="Static",t[t.Param=1]="Param",t[t.Group=2]="Group",t})({});var St=(function(t){return t[t.Static=0]="Static",t[t.Param=1]="Param",t[t.ParamRegExp=2]="ParamRegExp",t[t.ParamRegExpEnd=3]="ParamRegExpEnd",t[t.EscapeNext=4]="EscapeNext",t})(St||{});const QR={type:Xi.Static,value:""},YR=/[a-zA-Z0-9_]/;function XR(t){if(!t)return[[]];if(t==="/")return[[QR]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(p){throw new Error(`ERR (${n})/"${c}": ${p}`)}let n=St.Static,r=n;const i=[];let s;function o(){s&&i.push(s),s=[]}let a=0,l,c="",f="";function h(){c&&(n===St.Static?s.push({type:Xi.Static,value:c}):n===St.Param||n===St.ParamRegExp||n===St.ParamRegExpEnd?(s.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),s.push({type:Xi.Param,value:c,regexp:f,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),c="")}function d(){c+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&n!==St.ParamRegExp){r=n,n=St.EscapeNext;continue}switch(n){case St.Static:l==="/"?(c&&h(),o()):l===":"?(h(),n=St.Param):d();break;case St.EscapeNext:d(),n=r;break;case St.Param:l==="("?n=St.ParamRegExp:YR.test(l)?d():(h(),n=St.Static,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case St.ParamRegExp:l===")"?f[f.length-1]=="\\"?f=f.slice(0,-1)+l:n=St.ParamRegExpEnd:f+=l;break;case St.ParamRegExpEnd:h(),n=St.Static,l!=="*"&&l!=="?"&&l!=="+"&&a--,f="";break;default:e("Unknown state");break}}return n===St.ParamRegExp&&e(`Unfinished custom RegExp for param "${c}"`),h(),o(),i}const jp="[^/]+?",JR={sensitive:!1,strict:!1,start:!0,end:!0};var tn=(function(t){return t[t._multiplier=10]="_multiplier",t[t.Root=90]="Root",t[t.Segment=40]="Segment",t[t.SubSegment=30]="SubSegment",t[t.Static=40]="Static",t[t.Dynamic=20]="Dynamic",t[t.BonusCustomRegExp=10]="BonusCustomRegExp",t[t.BonusWildcard=-50]="BonusWildcard",t[t.BonusRepeatable=-20]="BonusRepeatable",t[t.BonusOptional=-8]="BonusOptional",t[t.BonusStrict=.7000000000000001]="BonusStrict",t[t.BonusCaseSensitive=.25]="BonusCaseSensitive",t})(tn||{});const ZR=/[.+*?^${}()[\]/\\]/g;function eO(t,e){const n=$e({},JR,e),r=[];let i=n.start?"^":"";const s=[];for(const c of t){const f=c.length?[]:[tn.Root];n.strict&&!c.length&&(i+="/");for(let h=0;h<c.length;h++){const d=c[h];let p=tn.Segment+(n.sensitive?tn.BonusCaseSensitive:0);if(d.type===Xi.Static)h||(i+="/"),i+=d.value.replace(ZR,"\\$&"),p+=tn.Static;else if(d.type===Xi.Param){const{value:w,repeatable:b,optional:E,regexp:_}=d;s.push({name:w,repeatable:b,optional:E});const v=_||jp;if(v!==jp){p+=tn.BonusCustomRegExp;try{`${v}`}catch(g){throw new Error(`Invalid custom RegExp for param "${w}" (${v}): `+g.message)}}let y=b?`((?:${v})(?:/(?:${v}))*)`:`(${v})`;h||(y=E&&c.length<2?`(?:/${y})`:"/"+y),E&&(y+="?"),i+=y,p+=tn.Dynamic,E&&(p+=tn.BonusOptional),b&&(p+=tn.BonusRepeatable),v===".*"&&(p+=tn.BonusWildcard)}f.push(p)}r.push(f)}if(n.strict&&n.end){const c=r.length-1;r[c][r[c].length-1]+=tn.BonusStrict}n.strict||(i+="/?"),n.end?i+="$":n.strict&&!i.endsWith("/")&&(i+="(?:/|$)");const o=new RegExp(i,n.sensitive?"":"i");function a(c){const f=c.match(o),h={};if(!f)return null;for(let d=1;d<f.length;d++){const p=f[d]||"",w=s[d-1];h[w.name]=p&&w.repeatable?p.split("/"):p}return h}function l(c){let f="",h=!1;for(const d of t){(!h||!f.endsWith("/"))&&(f+="/"),h=!1;for(const p of d)if(p.type===Xi.Static)f+=p.value;else if(p.type===Xi.Param){const{value:w,repeatable:b,optional:E}=p,_=w in c?c[w]:"";if($n(_)&&!b)throw new Error(`Provided param "${w}" is an array but it is not repeatable (* or + modifiers)`);const v=$n(_)?_.join("/"):_;if(!v)if(E)d.length<2&&(f.endsWith("/")?f=f.slice(0,-1):h=!0);else throw new Error(`Missing required param "${w}"`);f+=v}}return f||"/"}return{re:o,score:r,keys:s,parse:a,stringify:l}}function tO(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=e[n]-t[n];if(r)return r;n++}return t.length<e.length?t.length===1&&t[0]===tn.Static+tn.Segment?-1:1:t.length>e.length?e.length===1&&e[0]===tn.Static+tn.Segment?1:-1:0}function $v(t,e){let n=0;const r=t.score,i=e.score;for(;n<r.length&&n<i.length;){const s=tO(r[n],i[n]);if(s)return s;n++}if(Math.abs(i.length-r.length)===1){if(Bp(r))return 1;if(Bp(i))return-1}return i.length-r.length}function Bp(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const nO={strict:!1,end:!0,sensitive:!1};function rO(t,e,n){const r=eO(XR(t.path),n),i=$e(r,{record:t,parent:e,children:[],alias:[]});return e&&!i.record.aliasOf==!e.record.aliasOf&&e.children.push(i),i}function iO(t,e){const n=[],r=new Map;e=xp(nO,e);function i(h){return r.get(h)}function s(h,d,p){const w=!p,b=Hp(h);b.aliasOf=p&&p.record;const E=xp(e,h),_=[b];if("alias"in h){const g=typeof h.alias=="string"?[h.alias]:h.alias;for(const T of g)_.push(Hp($e({},b,{components:p?p.record.components:b.components,path:T,aliasOf:p?p.record:b})))}let v,y;for(const g of _){const{path:T}=g;if(d&&T[0]!=="/"){const x=d.record.path,S=x[x.length-1]==="/"?"":"/";g.path=d.record.path+(T&&S+T)}if(v=rO(g,d,E),p?p.alias.push(v):(y=y||v,y!==v&&y.alias.push(v),w&&h.name&&!zp(v)&&o(h.name)),Qv(v)&&l(v),b.children){const x=b.children;for(let S=0;S<x.length;S++)s(x[S],v,p&&p.children[S])}p=p||v}return y?()=>{o(y)}:la}function o(h){if(Kv(h)){const d=r.get(h);d&&(r.delete(h),n.splice(n.indexOf(d),1),d.children.forEach(o),d.alias.forEach(o))}else{const d=n.indexOf(h);d>-1&&(n.splice(d,1),h.record.name&&r.delete(h.record.name),h.children.forEach(o),h.alias.forEach(o))}}function a(){return n}function l(h){const d=aO(h,n);n.splice(d,0,h),h.record.name&&!zp(h)&&r.set(h.record.name,h)}function c(h,d){let p,w={},b,E;if("name"in h&&h.name){if(p=r.get(h.name),!p)throw yo(gt.MATCHER_NOT_FOUND,{location:h});E=p.record.name,w=$e(qp(d.params,p.keys.filter(y=>!y.optional).concat(p.parent?p.parent.keys.filter(y=>y.optional):[]).map(y=>y.name)),h.params&&qp(h.params,p.keys.map(y=>y.name))),b=p.stringify(w)}else if(h.path!=null)b=h.path,p=n.find(y=>y.re.test(b)),p&&(w=p.parse(b),E=p.record.name);else{if(p=d.name?r.get(d.name):n.find(y=>y.re.test(d.path)),!p)throw yo(gt.MATCHER_NOT_FOUND,{location:h,currentLocation:d});E=p.record.name,w=$e({},d.params,h.params),b=p.stringify(w)}const _=[];let v=p;for(;v;)_.unshift(v.record),v=v.parent;return{name:E,path:b,params:w,matched:_,meta:oO(_)}}t.forEach(h=>s(h));function f(){n.length=0,r.clear()}return{addRoute:s,resolve:c,removeRoute:o,clearRoutes:f,getRoutes:a,getRecordMatcher:i}}function qp(t,e){const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}function Hp(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:sO(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function sO(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const r in t.components)e[r]=typeof n=="object"?n[r]:n;return e}function zp(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function oO(t){return t.reduce((e,n)=>$e(e,n.meta),{})}function aO(t,e){let n=0,r=e.length;for(;n!==r;){const s=n+r>>1;$v(t,e[s])<0?r=s:n=s+1}const i=lO(t);return i&&(r=e.lastIndexOf(i,r-1)),r}function lO(t){let e=t;for(;e=e.parent;)if(Qv(e)&&$v(t,e)===0)return e}function Qv({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function Kp(t){const e=zn(Pu),n=zn(hh),r=Wt(()=>{const l=Qs(t.to);return e.resolve(l)}),i=Wt(()=>{const{matched:l}=r.value,{length:c}=l,f=l[c-1],h=n.matched;if(!f||!h.length)return-1;const d=h.findIndex(mo.bind(null,f));if(d>-1)return d;const p=Gp(l[c-2]);return c>1&&Gp(f)===p&&h[h.length-1].path!==p?h.findIndex(mo.bind(null,l[c-2])):d}),s=Wt(()=>i.value>-1&&dO(n.params,r.value.params)),o=Wt(()=>i.value>-1&&i.value===n.matched.length-1&&zv(n.params,r.value.params));function a(l={}){if(hO(l)){const c=e[Qs(t.replace)?"replace":"push"](Qs(t.to)).catch(la);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>c),c}return Promise.resolve()}return{route:r,href:Wt(()=>r.value.href),isActive:s,isExactActive:o,navigate:a}}function uO(t){return t.length===1?t[0]:t}const cO=cf({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:Kp,setup(t,{slots:e}){const n=vo(Kp(t)),{options:r}=zn(Pu),i=Wt(()=>({[Wp(t.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[Wp(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const s=e.default&&uO(e.default(n));return t.custom?s:gf("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},s)}}}),fO=cO;function hO(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function dO(t,e){for(const n in e){const r=e[n],i=t[n];if(typeof r=="string"){if(r!==i)return!1}else if(!$n(i)||i.length!==r.length||r.some((s,o)=>s.valueOf()!==i[o].valueOf()))return!1}return!0}function Gp(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const Wp=(t,e,n)=>t??e??n,pO=cf({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const r=zn(Wc),i=Wt(()=>t.route||r.value),s=zn(Up,0),o=Wt(()=>{let c=Qs(s);const{matched:f}=i.value;let h;for(;(h=f[c])&&!h.components;)c++;return c}),a=Wt(()=>i.value.matched[o.value]);tl(Up,Wt(()=>o.value+1)),tl(qR,a),tl(Wc,i);const l=Ze();return es(()=>[l.value,a.value,t.name],([c,f,h],[d,p,w])=>{f&&(f.instances[h]=c,p&&p!==f&&c&&c===d&&(f.leaveGuards.size||(f.leaveGuards=p.leaveGuards),f.updateGuards.size||(f.updateGuards=p.updateGuards))),c&&f&&(!p||!mo(f,p)||!d)&&(f.enterCallbacks[h]||[]).forEach(b=>b(c))},{flush:"post"}),()=>{const c=i.value,f=t.name,h=a.value,d=h&&h.components[f];if(!d)return $p(n.default,{Component:d,route:c});const p=h.props[f],w=p?p===!0?c.params:typeof p=="function"?p(c):p:null,E=gf(d,$e({},w,e,{onVnodeUnmounted:_=>{_.component.isUnmounted&&(h.instances[f]=null)},ref:l}));return $p(n.default,{Component:E,route:c})||E}}});function $p(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const gO=pO;function mO(t){const e=iO(t.routes,t),n=t.parseQuery||jR,r=t.stringifyQuery||Vp,i=t.history,s=Vo(),o=Vo(),a=Vo(),l=x_(ii);let c=ii;Ks&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const f=ec.bind(null,V=>""+V),h=ec.bind(null,wR),d=ec.bind(null,Ia);function p(V,$){let Q,se;return Kv(V)?(Q=e.getRecordMatcher(V),se=$):se=V,e.addRoute(se,Q)}function w(V){const $=e.getRecordMatcher(V);$&&e.removeRoute($)}function b(){return e.getRoutes().map(V=>V.record)}function E(V){return!!e.getRecordMatcher(V)}function _(V,$){if($=$e({},$||l.value),typeof V=="string"){const ee=tc(n,V,$.path),ue=e.resolve({path:ee.path},$),he=i.createHref(ee.fullPath);return $e(ee,ue,{params:d(ue.params),hash:Ia(ee.hash),redirectedFrom:void 0,href:he})}let Q;if(V.path!=null)Q=$e({},V,{path:tc(n,V.path,$.path).path});else{const ee=$e({},V.params);for(const ue in ee)ee[ue]==null&&delete ee[ue];Q=$e({},V,{params:h(ee)}),$.params=h($.params)}const se=e.resolve(Q,$),me=V.hash||"";se.params=f(d(se.params));const B=SR(r,$e({},V,{hash:bR(me),path:se.path})),K=i.createHref(B);return $e({fullPath:B,hash:me,query:r===Vp?BR(V.query):V.query||{}},se,{redirectedFrom:void 0,href:K})}function v(V){return typeof V=="string"?tc(n,V,l.value.path):$e({},V)}function y(V,$){if(c!==V)return yo(gt.NAVIGATION_CANCELLED,{from:$,to:V})}function g(V){return S(V)}function T(V){return g($e(v(V),{replace:!0}))}function x(V,$){const Q=V.matched[V.matched.length-1];if(Q&&Q.redirect){const{redirect:se}=Q;let me=typeof se=="function"?se(V,$):se;return typeof me=="string"&&(me=me.includes("?")||me.includes("#")?me=v(me):{path:me},me.params={}),$e({query:V.query,hash:V.hash,params:me.path!=null?{}:V.params},me)}}function S(V,$){const Q=c=_(V),se=l.value,me=V.state,B=V.force,K=V.replace===!0,ee=x(Q,se);if(ee)return S($e(v(ee),{state:typeof ee=="object"?$e({},me,ee.state):me,force:B,replace:K}),$||Q);const ue=Q;ue.redirectedFrom=$;let he;return!B&&RR(r,se,Q)&&(he=yo(gt.NAVIGATION_DUPLICATED,{to:ue,from:se}),D(se,se,!0,!1)),(he?Promise.resolve(he):R(ue,se)).catch(ce=>Cr(ce)?Cr(ce,gt.NAVIGATION_GUARD_REDIRECT)?ce:q(ce):le(ce,ue,se)).then(ce=>{if(ce){if(Cr(ce,gt.NAVIGATION_GUARD_REDIRECT))return S($e({replace:K},v(ce.to),{state:typeof ce.to=="object"?$e({},me,ce.to.state):me,force:B}),$||ue)}else ce=I(ue,se,!0,K,me);return m(ue,se,ce),ce})}function A(V,$){const Q=y(V,$);return Q?Promise.reject(Q):Promise.resolve()}function C(V){const $=ne.values().next().value;return $&&typeof $.runWithContext=="function"?$.runWithContext(V):V()}function R(V,$){let Q;const[se,me,B]=HR(V,$);Q=rc(se.reverse(),"beforeRouteLeave",V,$);for(const ee of se)ee.leaveGuards.forEach(ue=>{Q.push(li(ue,V,$))});const K=A.bind(null,V,$);return Q.push(K),F(Q).then(()=>{Q=[];for(const ee of s.list())Q.push(li(ee,V,$));return Q.push(K),F(Q)}).then(()=>{Q=rc(me,"beforeRouteUpdate",V,$);for(const ee of me)ee.updateGuards.forEach(ue=>{Q.push(li(ue,V,$))});return Q.push(K),F(Q)}).then(()=>{Q=[];for(const ee of B)if(ee.beforeEnter)if($n(ee.beforeEnter))for(const ue of ee.beforeEnter)Q.push(li(ue,V,$));else Q.push(li(ee.beforeEnter,V,$));return Q.push(K),F(Q)}).then(()=>(V.matched.forEach(ee=>ee.enterCallbacks={}),Q=rc(B,"beforeRouteEnter",V,$,C),Q.push(K),F(Q))).then(()=>{Q=[];for(const ee of o.list())Q.push(li(ee,V,$));return Q.push(K),F(Q)}).catch(ee=>Cr(ee,gt.NAVIGATION_CANCELLED)?ee:Promise.reject(ee))}function m(V,$,Q){a.list().forEach(se=>C(()=>se(V,$,Q)))}function I(V,$,Q,se,me){const B=y(V,$);if(B)return B;const K=$===ii,ee=Ks?history.state:{};Q&&(se||K?i.replace(V.fullPath,$e({scroll:K&&ee&&ee.scroll},me)):i.push(V.fullPath,me)),l.value=V,D(V,$,Q,K),q()}let O;function L(){O||(O=i.listen((V,$,Q)=>{if(!G.listening)return;const se=_(V),me=x(se,G.currentRoute.value);if(me){S($e(me,{replace:!0,force:!0}),se).catch(la);return}c=se;const B=l.value;Ks&&LR(Mp(B.fullPath,Q.delta),Ou()),R(se,B).catch(K=>Cr(K,gt.NAVIGATION_ABORTED|gt.NAVIGATION_CANCELLED)?K:Cr(K,gt.NAVIGATION_GUARD_REDIRECT)?(S($e(v(K.to),{force:!0}),se).then(ee=>{Cr(ee,gt.NAVIGATION_ABORTED|gt.NAVIGATION_DUPLICATED)&&!Q.delta&&Q.type===Kc.pop&&i.go(-1,!1)}).catch(la),Promise.reject()):(Q.delta&&i.go(-Q.delta,!1),le(K,se,B))).then(K=>{K=K||I(se,B,!1),K&&(Q.delta&&!Cr(K,gt.NAVIGATION_CANCELLED)?i.go(-Q.delta,!1):Q.type===Kc.pop&&Cr(K,gt.NAVIGATION_ABORTED|gt.NAVIGATION_DUPLICATED)&&i.go(-1,!1)),m(se,B,K)}).catch(la)}))}let H=Vo(),X=Vo(),Y;function le(V,$,Q){q(V);const se=X.list();return se.length?se.forEach(me=>me(V,$,Q)):console.error(V),Promise.reject(V)}function Z(){return Y&&l.value!==ii?Promise.resolve():new Promise((V,$)=>{H.add([V,$])})}function q(V){return Y||(Y=!V,L(),H.list().forEach(([$,Q])=>V?Q(V):$()),H.reset()),V}function D(V,$,Q,se){const{scrollBehavior:me}=t;if(!Ks||!me)return Promise.resolve();const B=!Q&&MR(Mp(V.fullPath,0))||(se||!Q)&&history.state&&history.state.scroll||null;return ha().then(()=>me(V,$,B)).then(K=>K&&DR(K)).catch(K=>le(K,V,$))}const j=V=>i.go(V);let z;const ne=new Set,G={currentRoute:l,listening:!0,addRoute:p,removeRoute:w,clearRoutes:e.clearRoutes,hasRoute:E,getRoutes:b,resolve:_,options:t,push:g,replace:T,go:j,back:()=>j(-1),forward:()=>j(1),beforeEach:s.add,beforeResolve:o.add,afterEach:a.add,onError:X.add,isReady:Z,install(V){V.component("RouterLink",fO),V.component("RouterView",gO),V.config.globalProperties.$router=G,Object.defineProperty(V.config.globalProperties,"$route",{enumerable:!0,get:()=>Qs(l)}),Ks&&!z&&l.value===ii&&(z=!0,g(i.location).catch(se=>{}));const $={};for(const se in ii)Object.defineProperty($,se,{get:()=>l.value[se],enumerable:!0});V.provide(Pu,G),V.provide(hh,Rg($)),V.provide(Wc,l);const Q=V.unmount;ne.add(V),V.unmount=function(){ne.delete(V),ne.size<1&&(c=ii,O&&O(),O=null,l.value=ii,z=!1,Y=!1),Q()}}};function F(V){return V.reduce(($,Q)=>$.then(()=>C(Q)),Promise.resolve())}return G}function Ba(){return zn(Pu)}function yO(t){return zn(hh)}const ki=(t,e)=>{const n=t.__vccOpts||t;for(const[r,i]of e)n[r]=i;return n},vO={class:"navContainer"},_O={class:"navContent"},bO={class:"navLinks"},EO={class:"authSection"},TO={key:0,class:"roleGroup"},wO={key:1,class:"roleGroup"},Qp="uniquecreadm1225@gmail.com",AO={__name:"NavBar",setup(t){const e=Ba(),n=Ze(null);_o(()=>{ah(go,o=>n.value=o)});const r=Wt(()=>n.value&&n.value.email===Qp),i=Wt(()=>n.value&&n.value.email!==Qp),s=async()=>{await Tv(go),e.push("/")};return(o,a)=>{const l=Oa("router-link");return Ge(),Xe("nav",vO,[be("div",_O,[mt(l,{to:"/",class:"navLogo"},{default:$i(()=>[...a[0]||(a[0]=[js("UniqueBeings",-1)])]),_:1}),be("div",bO,[mt(l,{to:"/",class:"navBtn"},{default:$i(()=>[...a[1]||(a[1]=[js("Home",-1)])]),_:1}),mt(l,{to:"/list",class:"navBtn"},{default:$i(()=>[...a[2]||(a[2]=[js("Creatures",-1)])]),_:1})]),be("div",EO,[r.value?(Ge(),Xe("div",TO,[mt(l,{to:"/create-user",class:"navBtn addUserBtn"},{default:$i(()=>[...a[3]||(a[3]=[be("span",{class:"plusIcon"},"+",-1),js(" New User ",-1)])]),_:1}),a[4]||(a[4]=be("div",{class:"badge adminBadge"}," Admin Mode ",-1))])):nn("",!0),i.value?(Ge(),Xe("div",wO,[...a[5]||(a[5]=[be("div",{class:"badge creatorBadge"}," Creator Mode ",-1)])])):nn("",!0),n.value?(Ge(),Xe("button",{key:2,onClick:s,class:"navBtn logoutBtn"}," Logout ")):(Ge(),df(l,{key:3,to:"/login",class:"navBtn loginBtn"},{default:$i(()=>[...a[6]||(a[6]=[js(" Login ",-1)])]),_:1}))])])])}}},IO=ki(AO,[["__scopeId","data-v-25f63b99"]]),SO={class:"appLayout"},RO={class:"mainContent"},OO={__name:"App",setup(t){return(e,n)=>{const r=Oa("router-view");return Ge(),Xe("div",SO,[mt(IO),be("main",RO,[mt(r)]),n[0]||(n[0]=be("footer",{class:"appFooter"},[be("p",null," 2025 Unique Beings Archive")],-1))])}}},PO=ki(OO,[["__scopeId","data-v-42aa6c08"]]),CO={},NO={class:"container homeContainer"};function kO(t,e){const n=Oa("router-link");return Ge(),Xe("div",NO,[e[1]||(e[1]=be("h1",{class:"mainTitle"},"Welcome to Unique Beings",-1)),e[2]||(e[2]=be("p",{class:"subtitle"},"An archive of the strange and beautiful.",-1)),mt(n,{to:"/list"},{default:$i(()=>[...e[0]||(e[0]=[be("button",{class:"btn btnPrimary ctaButton"},"Enter Archive",-1)])]),_:1})])}const xO=ki(CO,[["render",kO],["__scopeId","data-v-b1652811"]]),DO={class:"imageContainer"},LO=["src","alt"],MO={class:"cardContent"},VO={class:"cardTitle"},UO={__name:"CreatureCard",props:["creature"],setup(t){const e=t,n=Ba(),r=()=>{n.push(`/creature/${e.creature.id}`)},i=s=>s?s.includes("cloudinary.com")?s.replace("/upload/","/upload/c_fill,w_400,h_300,g_auto/"):s:"https://via.placeholder.com/400";return(s,o)=>(Ge(),Xe("div",{class:"cardWrapper",onClick:r},[be("div",DO,[be("img",{src:i(t.creature.image),alt:t.creature.name,class:"cardImage"},null,8,LO)]),be("div",MO,[be("h3",VO,cn(t.creature.name),1)])]))}},FO=ki(UO,[["__scopeId","data-v-ed381cfe"]]);var pi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Yv(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var gl={exports:{}};var jO=gl.exports,Yp;function BO(){return Yp||(Yp=1,(function(t,e){(function(r,i){t.exports=i()})(typeof self<"u"?self:jO,function(){return(function(n){var r={};function i(s){if(r[s])return r[s].exports;var o=r[s]={i:s,l:!1,exports:{}};return n[s].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=n,i.c=r,i.d=function(s,o,a){i.o(s,o)||Object.defineProperty(s,o,{configurable:!1,enumerable:!0,get:a})},i.n=function(s){var o=s&&s.__esModule?function(){return s.default}:function(){return s};return i.d(o,"a",o),o},i.o=function(s,o){return Object.prototype.hasOwnProperty.call(s,o)},i.p="",i(i.s=109)})([(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(17),o=i(18),a=i(19),l=i(45),c=i(46),f=i(47),h=i(48),d=i(49),p=i(12),w=i(32),b=i(33),E=i(31),_=i(1),v={Scope:_.Scope,create:_.create,find:_.find,query:_.query,register:_.register,Container:s.default,Format:o.default,Leaf:a.default,Embed:h.default,Scroll:l.default,Block:f.default,Inline:c.default,Text:d.default,Attributor:{Attribute:p.default,Class:w.default,Style:b.default,Store:E.default}};r.default=v}),(function(n,r,i){var s=this&&this.__extends||(function(){var E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,v){_.__proto__=v}||function(_,v){for(var y in v)v.hasOwnProperty(y)&&(_[y]=v[y])};return function(_,v){E(_,v);function y(){this.constructor=_}_.prototype=v===null?Object.create(v):(y.prototype=v.prototype,new y)}})();Object.defineProperty(r,"__esModule",{value:!0});var o=(function(E){s(_,E);function _(v){var y=this;return v="[Parchment] "+v,y=E.call(this,v)||this,y.message=v,y.name=y.constructor.name,y}return _})(Error);r.ParchmentError=o;var a={},l={},c={},f={};r.DATA_KEY="__blot";var h;(function(E){E[E.TYPE=3]="TYPE",E[E.LEVEL=12]="LEVEL",E[E.ATTRIBUTE=13]="ATTRIBUTE",E[E.BLOT=14]="BLOT",E[E.INLINE=7]="INLINE",E[E.BLOCK=11]="BLOCK",E[E.BLOCK_BLOT=10]="BLOCK_BLOT",E[E.INLINE_BLOT=6]="INLINE_BLOT",E[E.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",E[E.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",E[E.ANY=15]="ANY"})(h=r.Scope||(r.Scope={}));function d(E,_){var v=w(E);if(v==null)throw new o("Unable to create "+E+" blot");var y=v,g=E instanceof Node||E.nodeType===Node.TEXT_NODE?E:y.create(_);return new y(g,_)}r.create=d;function p(E,_){return _===void 0&&(_=!1),E==null?null:E[r.DATA_KEY]!=null?E[r.DATA_KEY].blot:_?p(E.parentNode,_):null}r.find=p;function w(E,_){_===void 0&&(_=h.ANY);var v;if(typeof E=="string")v=f[E]||a[E];else if(E instanceof Text||E.nodeType===Node.TEXT_NODE)v=f.text;else if(typeof E=="number")E&h.LEVEL&h.BLOCK?v=f.block:E&h.LEVEL&h.INLINE&&(v=f.inline);else if(E instanceof HTMLElement){var y=(E.getAttribute("class")||"").split(/\s+/);for(var g in y)if(v=l[y[g]],v)break;v=v||c[E.tagName]}return v==null?null:_&h.LEVEL&v.scope&&_&h.TYPE&v.scope?v:null}r.query=w;function b(){for(var E=[],_=0;_<arguments.length;_++)E[_]=arguments[_];if(E.length>1)return E.map(function(g){return b(g)});var v=E[0];if(typeof v.blotName!="string"&&typeof v.attrName!="string")throw new o("Invalid definition");if(v.blotName==="abstract")throw new o("Cannot register abstract class");if(f[v.blotName||v.attrName]=v,typeof v.keyName=="string")a[v.keyName]=v;else if(v.className!=null&&(l[v.className]=v),v.tagName!=null){Array.isArray(v.tagName)?v.tagName=v.tagName.map(function(g){return g.toUpperCase()}):v.tagName=v.tagName.toUpperCase();var y=Array.isArray(v.tagName)?v.tagName:[v.tagName];y.forEach(function(g){(c[g]==null||v.className==null)&&(c[g]=v)})}return v}r.register=b}),(function(n,r,i){var s=i(51),o=i(11),a=i(3),l=i(20),c="\0",f=function(h){Array.isArray(h)?this.ops=h:h!=null&&Array.isArray(h.ops)?this.ops=h.ops:this.ops=[]};f.prototype.insert=function(h,d){var p={};return h.length===0?this:(p.insert=h,d!=null&&typeof d=="object"&&Object.keys(d).length>0&&(p.attributes=d),this.push(p))},f.prototype.delete=function(h){return h<=0?this:this.push({delete:h})},f.prototype.retain=function(h,d){if(h<=0)return this;var p={retain:h};return d!=null&&typeof d=="object"&&Object.keys(d).length>0&&(p.attributes=d),this.push(p)},f.prototype.push=function(h){var d=this.ops.length,p=this.ops[d-1];if(h=a(!0,{},h),typeof p=="object"){if(typeof h.delete=="number"&&typeof p.delete=="number")return this.ops[d-1]={delete:p.delete+h.delete},this;if(typeof p.delete=="number"&&h.insert!=null&&(d-=1,p=this.ops[d-1],typeof p!="object"))return this.ops.unshift(h),this;if(o(h.attributes,p.attributes)){if(typeof h.insert=="string"&&typeof p.insert=="string")return this.ops[d-1]={insert:p.insert+h.insert},typeof h.attributes=="object"&&(this.ops[d-1].attributes=h.attributes),this;if(typeof h.retain=="number"&&typeof p.retain=="number")return this.ops[d-1]={retain:p.retain+h.retain},typeof h.attributes=="object"&&(this.ops[d-1].attributes=h.attributes),this}}return d===this.ops.length?this.ops.push(h):this.ops.splice(d,0,h),this},f.prototype.chop=function(){var h=this.ops[this.ops.length-1];return h&&h.retain&&!h.attributes&&this.ops.pop(),this},f.prototype.filter=function(h){return this.ops.filter(h)},f.prototype.forEach=function(h){this.ops.forEach(h)},f.prototype.map=function(h){return this.ops.map(h)},f.prototype.partition=function(h){var d=[],p=[];return this.forEach(function(w){var b=h(w)?d:p;b.push(w)}),[d,p]},f.prototype.reduce=function(h,d){return this.ops.reduce(h,d)},f.prototype.changeLength=function(){return this.reduce(function(h,d){return d.insert?h+l.length(d):d.delete?h-d.delete:h},0)},f.prototype.length=function(){return this.reduce(function(h,d){return h+l.length(d)},0)},f.prototype.slice=function(h,d){h=h||0,typeof d!="number"&&(d=1/0);for(var p=[],w=l.iterator(this.ops),b=0;b<d&&w.hasNext();){var E;b<h?E=w.next(h-b):(E=w.next(d-b),p.push(E)),b+=l.length(E)}return new f(p)},f.prototype.compose=function(h){var d=l.iterator(this.ops),p=l.iterator(h.ops),w=[],b=p.peek();if(b!=null&&typeof b.retain=="number"&&b.attributes==null){for(var E=b.retain;d.peekType()==="insert"&&d.peekLength()<=E;)E-=d.peekLength(),w.push(d.next());b.retain-E>0&&p.next(b.retain-E)}for(var _=new f(w);d.hasNext()||p.hasNext();)if(p.peekType()==="insert")_.push(p.next());else if(d.peekType()==="delete")_.push(d.next());else{var v=Math.min(d.peekLength(),p.peekLength()),y=d.next(v),g=p.next(v);if(typeof g.retain=="number"){var T={};typeof y.retain=="number"?T.retain=v:T.insert=y.insert;var x=l.attributes.compose(y.attributes,g.attributes,typeof y.retain=="number");if(x&&(T.attributes=x),_.push(T),!p.hasNext()&&o(_.ops[_.ops.length-1],T)){var S=new f(d.rest());return _.concat(S).chop()}}else typeof g.delete=="number"&&typeof y.retain=="number"&&_.push(g)}return _.chop()},f.prototype.concat=function(h){var d=new f(this.ops.slice());return h.ops.length>0&&(d.push(h.ops[0]),d.ops=d.ops.concat(h.ops.slice(1))),d},f.prototype.diff=function(h,d){if(this.ops===h.ops)return new f;var p=[this,h].map(function(v){return v.map(function(y){if(y.insert!=null)return typeof y.insert=="string"?y.insert:c;var g=v===h?"on":"with";throw new Error("diff() called "+g+" non-document")}).join("")}),w=new f,b=s(p[0],p[1],d),E=l.iterator(this.ops),_=l.iterator(h.ops);return b.forEach(function(v){for(var y=v[1].length;y>0;){var g=0;switch(v[0]){case s.INSERT:g=Math.min(_.peekLength(),y),w.push(_.next(g));break;case s.DELETE:g=Math.min(y,E.peekLength()),E.next(g),w.delete(g);break;case s.EQUAL:g=Math.min(E.peekLength(),_.peekLength(),y);var T=E.next(g),x=_.next(g);o(T.insert,x.insert)?w.retain(g,l.attributes.diff(T.attributes,x.attributes)):w.push(x).delete(g);break}y-=g}}),w.chop()},f.prototype.eachLine=function(h,d){d=d||`
`;for(var p=l.iterator(this.ops),w=new f,b=0;p.hasNext();){if(p.peekType()!=="insert")return;var E=p.peek(),_=l.length(E)-p.peekLength(),v=typeof E.insert=="string"?E.insert.indexOf(d,_)-_:-1;if(v<0)w.push(p.next());else if(v>0)w.push(p.next(v));else{if(h(w,p.next(1).attributes||{},b)===!1)return;b+=1,w=new f}}w.length()>0&&h(w,{},b)},f.prototype.transform=function(h,d){if(d=!!d,typeof h=="number")return this.transformPosition(h,d);for(var p=l.iterator(this.ops),w=l.iterator(h.ops),b=new f;p.hasNext()||w.hasNext();)if(p.peekType()==="insert"&&(d||w.peekType()!=="insert"))b.retain(l.length(p.next()));else if(w.peekType()==="insert")b.push(w.next());else{var E=Math.min(p.peekLength(),w.peekLength()),_=p.next(E),v=w.next(E);if(_.delete)continue;v.delete?b.push(v):b.retain(E,l.attributes.transform(_.attributes,v.attributes,d))}return b.chop()},f.prototype.transformPosition=function(h,d){d=!!d;for(var p=l.iterator(this.ops),w=0;p.hasNext()&&w<=h;){var b=p.peekLength(),E=p.peekType();if(p.next(),E==="delete"){h-=Math.min(b,h-w);continue}else E==="insert"&&(w<h||!d)&&(h+=b);w+=b}return h},n.exports=f}),(function(n,r){var i=Object.prototype.hasOwnProperty,s=Object.prototype.toString,o=Object.defineProperty,a=Object.getOwnPropertyDescriptor,l=function(p){return typeof Array.isArray=="function"?Array.isArray(p):s.call(p)==="[object Array]"},c=function(p){if(!p||s.call(p)!=="[object Object]")return!1;var w=i.call(p,"constructor"),b=p.constructor&&p.constructor.prototype&&i.call(p.constructor.prototype,"isPrototypeOf");if(p.constructor&&!w&&!b)return!1;var E;for(E in p);return typeof E>"u"||i.call(p,E)},f=function(p,w){o&&w.name==="__proto__"?o(p,w.name,{enumerable:!0,configurable:!0,value:w.newValue,writable:!0}):p[w.name]=w.newValue},h=function(p,w){if(w==="__proto__")if(i.call(p,w)){if(a)return a(p,w).value}else return;return p[w]};n.exports=function d(){var p,w,b,E,_,v,y=arguments[0],g=1,T=arguments.length,x=!1;for(typeof y=="boolean"&&(x=y,y=arguments[1]||{},g=2),(y==null||typeof y!="object"&&typeof y!="function")&&(y={});g<T;++g)if(p=arguments[g],p!=null)for(w in p)b=h(y,w),E=h(p,w),y!==E&&(x&&E&&(c(E)||(_=l(E)))?(_?(_=!1,v=b&&l(b)?b:[]):v=b&&c(b)?b:{},f(y,{name:w,newValue:d(x,v,E)})):typeof E<"u"&&f(y,{name:w,newValue:E}));return y}}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BlockEmbed=r.bubbleFormats=void 0;var s=(function(){function m(I,O){for(var L=0;L<O.length;L++){var H=O[L];H.enumerable=H.enumerable||!1,H.configurable=!0,"value"in H&&(H.writable=!0),Object.defineProperty(I,H.key,H)}}return function(I,O,L){return O&&m(I.prototype,O),L&&m(I,L),I}})(),o=function m(I,O,L){I===null&&(I=Function.prototype);var H=Object.getOwnPropertyDescriptor(I,O);if(H===void 0){var X=Object.getPrototypeOf(I);return X===null?void 0:m(X,O,L)}else{if("value"in H)return H.value;var Y=H.get;return Y===void 0?void 0:Y.call(L)}},a=i(3),l=y(a),c=i(2),f=y(c),h=i(0),d=y(h),p=i(16),w=y(p),b=i(6),E=y(b),_=i(7),v=y(_);function y(m){return m&&m.__esModule?m:{default:m}}function g(m,I){if(!(m instanceof I))throw new TypeError("Cannot call a class as a function")}function T(m,I){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I&&(typeof I=="object"||typeof I=="function")?I:m}function x(m,I){if(typeof I!="function"&&I!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof I);m.prototype=Object.create(I&&I.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),I&&(Object.setPrototypeOf?Object.setPrototypeOf(m,I):m.__proto__=I)}var S=1,A=(function(m){x(I,m);function I(){return g(this,I),T(this,(I.__proto__||Object.getPrototypeOf(I)).apply(this,arguments))}return s(I,[{key:"attach",value:function(){o(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"attach",this).call(this),this.attributes=new d.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return new f.default().insert(this.value(),(0,l.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(L,H){var X=d.default.query(L,d.default.Scope.BLOCK_ATTRIBUTE);X!=null&&this.attributes.attribute(X,H)}},{key:"formatAt",value:function(L,H,X,Y){this.format(X,Y)}},{key:"insertAt",value:function(L,H,X){if(typeof H=="string"&&H.endsWith(`
`)){var Y=d.default.create(C.blotName);this.parent.insertBefore(Y,L===0?this:this.next),Y.insertAt(0,H.slice(0,-1))}else o(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"insertAt",this).call(this,L,H,X)}}]),I})(d.default.Embed);A.scope=d.default.Scope.BLOCK_BLOT;var C=(function(m){x(I,m);function I(O){g(this,I);var L=T(this,(I.__proto__||Object.getPrototypeOf(I)).call(this,O));return L.cache={},L}return s(I,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=this.descendants(d.default.Leaf).reduce(function(L,H){return H.length()===0?L:L.insert(H.value(),R(H))},new f.default).insert(`
`,R(this))),this.cache.delta}},{key:"deleteAt",value:function(L,H){o(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"deleteAt",this).call(this,L,H),this.cache={}}},{key:"formatAt",value:function(L,H,X,Y){H<=0||(d.default.query(X,d.default.Scope.BLOCK)?L+H===this.length()&&this.format(X,Y):o(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"formatAt",this).call(this,L,Math.min(H,this.length()-L-1),X,Y),this.cache={})}},{key:"insertAt",value:function(L,H,X){if(X!=null)return o(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"insertAt",this).call(this,L,H,X);if(H.length!==0){var Y=H.split(`
`),le=Y.shift();le.length>0&&(L<this.length()-1||this.children.tail==null?o(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"insertAt",this).call(this,Math.min(L,this.length()-1),le):this.children.tail.insertAt(this.children.tail.length(),le),this.cache={});var Z=this;Y.reduce(function(q,D){return Z=Z.split(q,!0),Z.insertAt(0,D),D.length},L+le.length)}}},{key:"insertBefore",value:function(L,H){var X=this.children.head;o(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"insertBefore",this).call(this,L,H),X instanceof w.default&&X.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=o(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"length",this).call(this)+S),this.cache.length}},{key:"moveChildren",value:function(L,H){o(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"moveChildren",this).call(this,L,H),this.cache={}}},{key:"optimize",value:function(L){o(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"optimize",this).call(this,L),this.cache={}}},{key:"path",value:function(L){return o(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"path",this).call(this,L,!0)}},{key:"removeChild",value:function(L){o(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"removeChild",this).call(this,L),this.cache={}}},{key:"split",value:function(L){var H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(H&&(L===0||L>=this.length()-S)){var X=this.clone();return L===0?(this.parent.insertBefore(X,this),this):(this.parent.insertBefore(X,this.next),X)}else{var Y=o(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"split",this).call(this,L,H);return this.cache={},Y}}}]),I})(d.default.Block);C.blotName="block",C.tagName="P",C.defaultChild="break",C.allowedChildren=[E.default,d.default.Embed,v.default];function R(m){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return m==null||(typeof m.formats=="function"&&(I=(0,l.default)(I,m.formats())),m.parent==null||m.parent.blotName=="scroll"||m.parent.statics.scope!==m.statics.scope)?I:R(m.parent,I)}r.bubbleFormats=R,r.BlockEmbed=A,r.default=C}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.overload=r.expandConfig=void 0;var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Z){return typeof Z}:function(Z){return Z&&typeof Symbol=="function"&&Z.constructor===Symbol&&Z!==Symbol.prototype?"symbol":typeof Z},o=(function(){function Z(q,D){var j=[],z=!0,ne=!1,G=void 0;try{for(var F=q[Symbol.iterator](),V;!(z=(V=F.next()).done)&&(j.push(V.value),!(D&&j.length===D));z=!0);}catch($){ne=!0,G=$}finally{try{!z&&F.return&&F.return()}finally{if(ne)throw G}}return j}return function(q,D){if(Array.isArray(q))return q;if(Symbol.iterator in Object(q))return Z(q,D);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),a=(function(){function Z(q,D){for(var j=0;j<D.length;j++){var z=D[j];z.enumerable=z.enumerable||!1,z.configurable=!0,"value"in z&&(z.writable=!0),Object.defineProperty(q,z.key,z)}}return function(q,D,j){return D&&Z(q.prototype,D),j&&Z(q,j),q}})();i(50);var l=i(2),c=R(l),f=i(14),h=R(f),d=i(8),p=R(d),w=i(9),b=R(w),E=i(0),_=R(E),v=i(15),y=R(v),g=i(3),T=R(g),x=i(10),S=R(x),A=i(34),C=R(A);function R(Z){return Z&&Z.__esModule?Z:{default:Z}}function m(Z,q,D){return q in Z?Object.defineProperty(Z,q,{value:D,enumerable:!0,configurable:!0,writable:!0}):Z[q]=D,Z}function I(Z,q){if(!(Z instanceof q))throw new TypeError("Cannot call a class as a function")}var O=(0,S.default)("quill"),L=(function(){a(Z,null,[{key:"debug",value:function(D){D===!0&&(D="log"),S.default.level(D)}},{key:"find",value:function(D){return D.__quill||_.default.find(D)}},{key:"import",value:function(D){return this.imports[D]==null&&O.error("Cannot import "+D+". Are you sure it was registered?"),this.imports[D]}},{key:"register",value:function(D,j){var z=this,ne=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(typeof D!="string"){var G=D.attrName||D.blotName;typeof G=="string"?this.register("formats/"+G,D,j):Object.keys(D).forEach(function(F){z.register(F,D[F],j)})}else this.imports[D]!=null&&!ne&&O.warn("Overwriting "+D+" with",j),this.imports[D]=j,(D.startsWith("blots/")||D.startsWith("formats/"))&&j.blotName!=="abstract"?_.default.register(j):D.startsWith("modules")&&typeof j.register=="function"&&j.register()}}]);function Z(q){var D=this,j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(I(this,Z),this.options=H(q,j),this.container=this.options.container,this.container==null)return O.error("Invalid Quill container",q);this.options.debug&&Z.debug(this.options.debug);var z=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new p.default,this.scroll=_.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new h.default(this.scroll),this.selection=new y.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(p.default.events.EDITOR_CHANGE,function(G){G===p.default.events.TEXT_CHANGE&&D.root.classList.toggle("ql-blank",D.editor.isBlank())}),this.emitter.on(p.default.events.SCROLL_UPDATE,function(G,F){var V=D.selection.lastRange,$=V&&V.length===0?V.index:void 0;X.call(D,function(){return D.editor.update(null,F,$)},G)});var ne=this.clipboard.convert(`<div class='ql-editor' style="white-space: normal;">`+z+"<p><br></p></div>");this.setContents(ne),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return a(Z,[{key:"addContainer",value:function(D){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof D=="string"){var z=D;D=document.createElement("div"),D.classList.add(z)}return this.container.insertBefore(D,j),D}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(D,j,z){var ne=this,G=Y(D,j,z),F=o(G,4);return D=F[0],j=F[1],z=F[3],X.call(this,function(){return ne.editor.deleteText(D,j)},z,D,-1*j)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(D),this.container.classList.toggle("ql-disabled",!D)}},{key:"focus",value:function(){var D=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=D,this.scrollIntoView()}},{key:"format",value:function(D,j){var z=this,ne=arguments.length>2&&arguments[2]!==void 0?arguments[2]:p.default.sources.API;return X.call(this,function(){var G=z.getSelection(!0),F=new c.default;if(G==null)return F;if(_.default.query(D,_.default.Scope.BLOCK))F=z.editor.formatLine(G.index,G.length,m({},D,j));else{if(G.length===0)return z.selection.format(D,j),F;F=z.editor.formatText(G.index,G.length,m({},D,j))}return z.setSelection(G,p.default.sources.SILENT),F},ne)}},{key:"formatLine",value:function(D,j,z,ne,G){var F=this,V=void 0,$=Y(D,j,z,ne,G),Q=o($,4);return D=Q[0],j=Q[1],V=Q[2],G=Q[3],X.call(this,function(){return F.editor.formatLine(D,j,V)},G,D,0)}},{key:"formatText",value:function(D,j,z,ne,G){var F=this,V=void 0,$=Y(D,j,z,ne,G),Q=o($,4);return D=Q[0],j=Q[1],V=Q[2],G=Q[3],X.call(this,function(){return F.editor.formatText(D,j,V)},G,D,0)}},{key:"getBounds",value:function(D){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,z=void 0;typeof D=="number"?z=this.selection.getBounds(D,j):z=this.selection.getBounds(D.index,D.length);var ne=this.container.getBoundingClientRect();return{bottom:z.bottom-ne.top,height:z.height,left:z.left-ne.left,right:z.right-ne.left,top:z.top-ne.top,width:z.width}}},{key:"getContents",value:function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-D,z=Y(D,j),ne=o(z,2);return D=ne[0],j=ne[1],this.editor.getContents(D,j)}},{key:"getFormat",value:function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof D=="number"?this.editor.getFormat(D,j):this.editor.getFormat(D.index,D.length)}},{key:"getIndex",value:function(D){return D.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(D){return this.scroll.leaf(D)}},{key:"getLine",value:function(D){return this.scroll.line(D)}},{key:"getLines",value:function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof D!="number"?this.scroll.lines(D.index,D.length):this.scroll.lines(D,j)}},{key:"getModule",value:function(D){return this.theme.modules[D]}},{key:"getSelection",value:function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return D&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-D,z=Y(D,j),ne=o(z,2);return D=ne[0],j=ne[1],this.editor.getText(D,j)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(D,j,z){var ne=this,G=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Z.sources.API;return X.call(this,function(){return ne.editor.insertEmbed(D,j,z)},G,D)}},{key:"insertText",value:function(D,j,z,ne,G){var F=this,V=void 0,$=Y(D,0,z,ne,G),Q=o($,4);return D=Q[0],V=Q[2],G=Q[3],X.call(this,function(){return F.editor.insertText(D,j,V)},G,D,j.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(D,j,z){this.clipboard.dangerouslyPasteHTML(D,j,z)}},{key:"removeFormat",value:function(D,j,z){var ne=this,G=Y(D,j,z),F=o(G,4);return D=F[0],j=F[1],z=F[3],X.call(this,function(){return ne.editor.removeFormat(D,j)},z,D)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(D){var j=this,z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:p.default.sources.API;return X.call(this,function(){D=new c.default(D);var ne=j.getLength(),G=j.editor.deleteText(0,ne),F=j.editor.applyDelta(D),V=F.ops[F.ops.length-1];V!=null&&typeof V.insert=="string"&&V.insert[V.insert.length-1]===`
`&&(j.editor.deleteText(j.getLength()-1,1),F.delete(1));var $=G.compose(F);return $},z)}},{key:"setSelection",value:function(D,j,z){if(D==null)this.selection.setRange(null,j||Z.sources.API);else{var ne=Y(D,j,z),G=o(ne,4);D=G[0],j=G[1],z=G[3],this.selection.setRange(new v.Range(D,j),z),z!==p.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(D){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:p.default.sources.API,z=new c.default().insert(D);return this.setContents(z,j)}},{key:"update",value:function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:p.default.sources.USER,j=this.scroll.update(D);return this.selection.update(D),j}},{key:"updateContents",value:function(D){var j=this,z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:p.default.sources.API;return X.call(this,function(){return D=new c.default(D),j.editor.applyDelta(D,z)},z,!0)}}]),Z})();L.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},L.events=p.default.events,L.sources=p.default.sources,L.version="1.3.7",L.imports={delta:c.default,parchment:_.default,"core/module":b.default,"core/theme":C.default};function H(Z,q){if(q=(0,T.default)(!0,{container:Z,modules:{clipboard:!0,keyboard:!0,history:!0}},q),!q.theme||q.theme===L.DEFAULTS.theme)q.theme=C.default;else if(q.theme=L.import("themes/"+q.theme),q.theme==null)throw new Error("Invalid theme "+q.theme+". Did you register it?");var D=(0,T.default)(!0,{},q.theme.DEFAULTS);[D,q].forEach(function(ne){ne.modules=ne.modules||{},Object.keys(ne.modules).forEach(function(G){ne.modules[G]===!0&&(ne.modules[G]={})})});var j=Object.keys(D.modules).concat(Object.keys(q.modules)),z=j.reduce(function(ne,G){var F=L.import("modules/"+G);return F==null?O.error("Cannot load "+G+" module. Are you sure you registered it?"):ne[G]=F.DEFAULTS||{},ne},{});return q.modules!=null&&q.modules.toolbar&&q.modules.toolbar.constructor!==Object&&(q.modules.toolbar={container:q.modules.toolbar}),q=(0,T.default)(!0,{},L.DEFAULTS,{modules:z},D,q),["bounds","container","scrollingContainer"].forEach(function(ne){typeof q[ne]=="string"&&(q[ne]=document.querySelector(q[ne]))}),q.modules=Object.keys(q.modules).reduce(function(ne,G){return q.modules[G]&&(ne[G]=q.modules[G]),ne},{}),q}function X(Z,q,D,j){if(this.options.strict&&!this.isEnabled()&&q===p.default.sources.USER)return new c.default;var z=D==null?null:this.getSelection(),ne=this.editor.delta,G=Z();if(z!=null&&(D===!0&&(D=z.index),j==null?z=le(z,G,q):j!==0&&(z=le(z,D,j,q)),this.setSelection(z,p.default.sources.SILENT)),G.length()>0){var F,V=[p.default.events.TEXT_CHANGE,G,ne,q];if((F=this.emitter).emit.apply(F,[p.default.events.EDITOR_CHANGE].concat(V)),q!==p.default.sources.SILENT){var $;($=this.emitter).emit.apply($,V)}}return G}function Y(Z,q,D,j,z){var ne={};return typeof Z.index=="number"&&typeof Z.length=="number"?typeof q!="number"?(z=j,j=D,D=q,q=Z.length,Z=Z.index):(q=Z.length,Z=Z.index):typeof q!="number"&&(z=j,j=D,D=q,q=0),(typeof D>"u"?"undefined":s(D))==="object"?(ne=D,z=j):typeof D=="string"&&(j!=null?ne[D]=j:z=D),z=z||p.default.sources.API,[Z,q,ne,z]}function le(Z,q,D,j){if(Z==null)return null;var z=void 0,ne=void 0;if(q instanceof c.default){var G=[Z.index,Z.index+Z.length].map(function(Q){return q.transformPosition(Q,j!==p.default.sources.USER)}),F=o(G,2);z=F[0],ne=F[1]}else{var V=[Z.index,Z.index+Z.length].map(function(Q){return Q<q||Q===q&&j===p.default.sources.USER?Q:D>=0?Q+D:Math.max(q,Q+D)}),$=o(V,2);z=$[0],ne=$[1]}return new v.Range(z,ne-z)}r.expandConfig=H,r.overload=Y,r.default=L}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=(function(){function E(_,v){for(var y=0;y<v.length;y++){var g=v[y];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(_,g.key,g)}}return function(_,v,y){return v&&E(_.prototype,v),y&&E(_,y),_}})(),o=function E(_,v,y){_===null&&(_=Function.prototype);var g=Object.getOwnPropertyDescriptor(_,v);if(g===void 0){var T=Object.getPrototypeOf(_);return T===null?void 0:E(T,v,y)}else{if("value"in g)return g.value;var x=g.get;return x===void 0?void 0:x.call(y)}},a=i(7),l=h(a),c=i(0),f=h(c);function h(E){return E&&E.__esModule?E:{default:E}}function d(E,_){if(!(E instanceof _))throw new TypeError("Cannot call a class as a function")}function p(E,_){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:E}function w(E,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);E.prototype=Object.create(_&&_.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(E,_):E.__proto__=_)}var b=(function(E){w(_,E);function _(){return d(this,_),p(this,(_.__proto__||Object.getPrototypeOf(_)).apply(this,arguments))}return s(_,[{key:"formatAt",value:function(y,g,T,x){if(_.compare(this.statics.blotName,T)<0&&f.default.query(T,f.default.Scope.BLOT)){var S=this.isolate(y,g);x&&S.wrap(T,x)}else o(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"formatAt",this).call(this,y,g,T,x)}},{key:"optimize",value:function(y){if(o(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"optimize",this).call(this,y),this.parent instanceof _&&_.compare(this.statics.blotName,this.parent.statics.blotName)>0){var g=this.parent.isolate(this.offset(),this.length());this.moveChildren(g),g.wrap(this)}}}],[{key:"compare",value:function(y,g){var T=_.order.indexOf(y),x=_.order.indexOf(g);return T>=0||x>=0?T-x:y===g?0:y<g?-1:1}}]),_})(f.default.Inline);b.allowedChildren=[b,f.default.Embed,l.default],b.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],r.default=b}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(0),o=a(s);function a(d){return d&&d.__esModule?d:{default:d}}function l(d,p){if(!(d instanceof p))throw new TypeError("Cannot call a class as a function")}function c(d,p){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:d}function f(d,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);d.prototype=Object.create(p&&p.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(d,p):d.__proto__=p)}var h=(function(d){f(p,d);function p(){return l(this,p),c(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p})(o.default.Text);r.default=h}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=(function(){function v(y,g){for(var T=0;T<g.length;T++){var x=g[T];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(y,x.key,x)}}return function(y,g,T){return g&&v(y.prototype,g),T&&v(y,T),y}})(),o=function v(y,g,T){y===null&&(y=Function.prototype);var x=Object.getOwnPropertyDescriptor(y,g);if(x===void 0){var S=Object.getPrototypeOf(y);return S===null?void 0:v(S,g,T)}else{if("value"in x)return x.value;var A=x.get;return A===void 0?void 0:A.call(T)}},a=i(54),l=h(a),c=i(10),f=h(c);function h(v){return v&&v.__esModule?v:{default:v}}function d(v,y){if(!(v instanceof y))throw new TypeError("Cannot call a class as a function")}function p(v,y){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:v}function w(v,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);v.prototype=Object.create(y&&y.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(v,y):v.__proto__=y)}var b=(0,f.default)("quill:events"),E=["selectionchange","mousedown","mouseup","click"];E.forEach(function(v){document.addEventListener(v,function(){for(var y=arguments.length,g=Array(y),T=0;T<y;T++)g[T]=arguments[T];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(x){if(x.__quill&&x.__quill.emitter){var S;(S=x.__quill.emitter).handleDOM.apply(S,g)}})})});var _=(function(v){w(y,v);function y(){d(this,y);var g=p(this,(y.__proto__||Object.getPrototypeOf(y)).call(this));return g.listeners={},g.on("error",b.error),g}return s(y,[{key:"emit",value:function(){b.log.apply(b,arguments),o(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(T){for(var x=arguments.length,S=Array(x>1?x-1:0),A=1;A<x;A++)S[A-1]=arguments[A];(this.listeners[T.type]||[]).forEach(function(C){var R=C.node,m=C.handler;(T.target===R||R.contains(T.target))&&m.apply(void 0,[T].concat(S))})}},{key:"listenDOM",value:function(T,x,S){this.listeners[T]||(this.listeners[T]=[]),this.listeners[T].push({node:x,handler:S})}}]),y})(l.default);_.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},_.sources={API:"api",SILENT:"silent",USER:"user"},r.default=_}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});function s(a,l){if(!(a instanceof l))throw new TypeError("Cannot call a class as a function")}var o=function a(l){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};s(this,a),this.quill=l,this.options=c};o.DEFAULTS={},r.default=o}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=["error","warn","log","info"],o="warn";function a(c){if(s.indexOf(c)<=s.indexOf(o)){for(var f,h=arguments.length,d=Array(h>1?h-1:0),p=1;p<h;p++)d[p-1]=arguments[p];(f=console)[c].apply(f,d)}}function l(c){return s.reduce(function(f,h){return f[h]=a.bind(console,h,c),f},{})}a.level=l.level=function(c){o=c},r.default=l}),(function(n,r,i){var s=Array.prototype.slice,o=i(52),a=i(53),l=n.exports=function(d,p,w){return w||(w={}),d===p?!0:d instanceof Date&&p instanceof Date?d.getTime()===p.getTime():!d||!p||typeof d!="object"&&typeof p!="object"?w.strict?d===p:d==p:h(d,p,w)};function c(d){return d==null}function f(d){return!(!d||typeof d!="object"||typeof d.length!="number"||typeof d.copy!="function"||typeof d.slice!="function"||d.length>0&&typeof d[0]!="number")}function h(d,p,w){var b,E;if(c(d)||c(p)||d.prototype!==p.prototype)return!1;if(a(d))return a(p)?(d=s.call(d),p=s.call(p),l(d,p,w)):!1;if(f(d)){if(!f(p)||d.length!==p.length)return!1;for(b=0;b<d.length;b++)if(d[b]!==p[b])return!1;return!0}try{var _=o(d),v=o(p)}catch{return!1}if(_.length!=v.length)return!1;for(_.sort(),v.sort(),b=_.length-1;b>=0;b--)if(_[b]!=v[b])return!1;for(b=_.length-1;b>=0;b--)if(E=_[b],!l(d[E],p[E],w))return!1;return typeof d==typeof p}}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(1),o=(function(){function a(l,c,f){f===void 0&&(f={}),this.attrName=l,this.keyName=c;var h=s.Scope.TYPE&s.Scope.ATTRIBUTE;f.scope!=null?this.scope=f.scope&s.Scope.LEVEL|h:this.scope=s.Scope.ATTRIBUTE,f.whitelist!=null&&(this.whitelist=f.whitelist)}return a.keys=function(l){return[].map.call(l.attributes,function(c){return c.name})},a.prototype.add=function(l,c){return this.canAdd(l,c)?(l.setAttribute(this.keyName,c),!0):!1},a.prototype.canAdd=function(l,c){var f=s.query(l,s.Scope.BLOT&(this.scope|s.Scope.TYPE));return f==null?!1:this.whitelist==null?!0:typeof c=="string"?this.whitelist.indexOf(c.replace(/["']/g,""))>-1:this.whitelist.indexOf(c)>-1},a.prototype.remove=function(l){l.removeAttribute(this.keyName)},a.prototype.value=function(l){var c=l.getAttribute(this.keyName);return this.canAdd(l,c)&&c?c:""},a})();r.default=o}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.Code=void 0;var s=(function(){function A(C,R){var m=[],I=!0,O=!1,L=void 0;try{for(var H=C[Symbol.iterator](),X;!(I=(X=H.next()).done)&&(m.push(X.value),!(R&&m.length===R));I=!0);}catch(Y){O=!0,L=Y}finally{try{!I&&H.return&&H.return()}finally{if(O)throw L}}return m}return function(C,R){if(Array.isArray(C))return C;if(Symbol.iterator in Object(C))return A(C,R);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),o=(function(){function A(C,R){for(var m=0;m<R.length;m++){var I=R[m];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(C,I.key,I)}}return function(C,R,m){return R&&A(C.prototype,R),m&&A(C,m),C}})(),a=function A(C,R,m){C===null&&(C=Function.prototype);var I=Object.getOwnPropertyDescriptor(C,R);if(I===void 0){var O=Object.getPrototypeOf(C);return O===null?void 0:A(O,R,m)}else{if("value"in I)return I.value;var L=I.get;return L===void 0?void 0:L.call(m)}},l=i(2),c=v(l),f=i(0),h=v(f),d=i(4),p=v(d),w=i(6),b=v(w),E=i(7),_=v(E);function v(A){return A&&A.__esModule?A:{default:A}}function y(A,C){if(!(A instanceof C))throw new TypeError("Cannot call a class as a function")}function g(A,C){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C&&(typeof C=="object"||typeof C=="function")?C:A}function T(A,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof C);A.prototype=Object.create(C&&C.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(A,C):A.__proto__=C)}var x=(function(A){T(C,A);function C(){return y(this,C),g(this,(C.__proto__||Object.getPrototypeOf(C)).apply(this,arguments))}return C})(b.default);x.blotName="code",x.tagName="CODE";var S=(function(A){T(C,A);function C(){return y(this,C),g(this,(C.__proto__||Object.getPrototypeOf(C)).apply(this,arguments))}return o(C,[{key:"delta",value:function(){var m=this,I=this.domNode.textContent;return I.endsWith(`
`)&&(I=I.slice(0,-1)),I.split(`
`).reduce(function(O,L){return O.insert(L).insert(`
`,m.formats())},new c.default)}},{key:"format",value:function(m,I){if(!(m===this.statics.blotName&&I)){var O=this.descendant(_.default,this.length()-1),L=s(O,1),H=L[0];H?.deleteAt(H.length()-1,1),a(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"format",this).call(this,m,I)}}},{key:"formatAt",value:function(m,I,O,L){if(I!==0&&!(h.default.query(O,h.default.Scope.BLOCK)==null||O===this.statics.blotName&&L===this.statics.formats(this.domNode))){var H=this.newlineIndex(m);if(!(H<0||H>=m+I)){var X=this.newlineIndex(m,!0)+1,Y=H-X+1,le=this.isolate(X,Y),Z=le.next;le.format(O,L),Z instanceof C&&Z.formatAt(0,m-X+I-Y,O,L)}}}},{key:"insertAt",value:function(m,I,O){if(O==null){var L=this.descendant(_.default,m),H=s(L,2),X=H[0],Y=H[1];X.insertAt(Y,I)}}},{key:"length",value:function(){var m=this.domNode.textContent.length;return this.domNode.textContent.endsWith(`
`)?m:m+1}},{key:"newlineIndex",value:function(m){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(I)return this.domNode.textContent.slice(0,m).lastIndexOf(`
`);var O=this.domNode.textContent.slice(m).indexOf(`
`);return O>-1?m+O:-1}},{key:"optimize",value:function(m){this.domNode.textContent.endsWith(`
`)||this.appendChild(h.default.create("text",`
`)),a(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"optimize",this).call(this,m);var I=this.next;I!=null&&I.prev===this&&I.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===I.statics.formats(I.domNode)&&(I.optimize(m),I.moveChildren(this),I.remove())}},{key:"replace",value:function(m){a(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"replace",this).call(this,m),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(I){var O=h.default.find(I);O==null?I.parentNode.removeChild(I):O instanceof h.default.Embed?O.remove():O.unwrap()})}}],[{key:"create",value:function(m){var I=a(C.__proto__||Object.getPrototypeOf(C),"create",this).call(this,m);return I.setAttribute("spellcheck",!1),I}},{key:"formats",value:function(){return!0}}]),C})(p.default);S.blotName="code-block",S.tagName="PRE",S.TAB="  ",r.Code=x,r.default=S}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Z){return typeof Z}:function(Z){return Z&&typeof Symbol=="function"&&Z.constructor===Symbol&&Z!==Symbol.prototype?"symbol":typeof Z},o=(function(){function Z(q,D){var j=[],z=!0,ne=!1,G=void 0;try{for(var F=q[Symbol.iterator](),V;!(z=(V=F.next()).done)&&(j.push(V.value),!(D&&j.length===D));z=!0);}catch($){ne=!0,G=$}finally{try{!z&&F.return&&F.return()}finally{if(ne)throw G}}return j}return function(q,D){if(Array.isArray(q))return q;if(Symbol.iterator in Object(q))return Z(q,D);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),a=(function(){function Z(q,D){for(var j=0;j<D.length;j++){var z=D[j];z.enumerable=z.enumerable||!1,z.configurable=!0,"value"in z&&(z.writable=!0),Object.defineProperty(q,z.key,z)}}return function(q,D,j){return D&&Z(q.prototype,D),j&&Z(q,j),q}})(),l=i(2),c=I(l),f=i(20),h=I(f),d=i(0),p=I(d),w=i(13),b=I(w),E=i(24),_=I(E),v=i(4),y=I(v),g=i(16),T=I(g),x=i(21),S=I(x),A=i(11),C=I(A),R=i(3),m=I(R);function I(Z){return Z&&Z.__esModule?Z:{default:Z}}function O(Z,q,D){return q in Z?Object.defineProperty(Z,q,{value:D,enumerable:!0,configurable:!0,writable:!0}):Z[q]=D,Z}function L(Z,q){if(!(Z instanceof q))throw new TypeError("Cannot call a class as a function")}var H=/^[ -~]*$/,X=(function(){function Z(q){L(this,Z),this.scroll=q,this.delta=this.getDelta()}return a(Z,[{key:"applyDelta",value:function(D){var j=this,z=!1;this.scroll.update();var ne=this.scroll.length();return this.scroll.batchStart(),D=le(D),D.reduce(function(G,F){var V=F.retain||F.delete||F.insert.length||1,$=F.attributes||{};if(F.insert!=null){if(typeof F.insert=="string"){var Q=F.insert;Q.endsWith(`
`)&&z&&(z=!1,Q=Q.slice(0,-1)),G>=ne&&!Q.endsWith(`
`)&&(z=!0),j.scroll.insertAt(G,Q);var se=j.scroll.line(G),me=o(se,2),B=me[0],K=me[1],ee=(0,m.default)({},(0,v.bubbleFormats)(B));if(B instanceof y.default){var ue=B.descendant(p.default.Leaf,K),he=o(ue,1),ce=he[0];ee=(0,m.default)(ee,(0,v.bubbleFormats)(ce))}$=h.default.attributes.diff(ee,$)||{}}else if(s(F.insert)==="object"){var te=Object.keys(F.insert)[0];if(te==null)return G;j.scroll.insertAt(G,te,F.insert[te])}ne+=V}return Object.keys($).forEach(function(J){j.scroll.formatAt(G,V,J,$[J])}),G+V},0),D.reduce(function(G,F){return typeof F.delete=="number"?(j.scroll.deleteAt(G,F.delete),G):G+(F.retain||F.insert.length||1)},0),this.scroll.batchEnd(),this.update(D)}},{key:"deleteText",value:function(D,j){return this.scroll.deleteAt(D,j),this.update(new c.default().retain(D).delete(j))}},{key:"formatLine",value:function(D,j){var z=this,ne=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.scroll.update(),Object.keys(ne).forEach(function(G){if(!(z.scroll.whitelist!=null&&!z.scroll.whitelist[G])){var F=z.scroll.lines(D,Math.max(j,1)),V=j;F.forEach(function($){var Q=$.length();if(!($ instanceof b.default))$.format(G,ne[G]);else{var se=D-$.offset(z.scroll),me=$.newlineIndex(se+V)-se+1;$.formatAt(se,me,G,ne[G])}V-=Q})}}),this.scroll.optimize(),this.update(new c.default().retain(D).retain(j,(0,S.default)(ne)))}},{key:"formatText",value:function(D,j){var z=this,ne=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(ne).forEach(function(G){z.scroll.formatAt(D,j,G,ne[G])}),this.update(new c.default().retain(D).retain(j,(0,S.default)(ne)))}},{key:"getContents",value:function(D,j){return this.delta.slice(D,D+j)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(D,j){return D.concat(j.delta())},new c.default)}},{key:"getFormat",value:function(D){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,z=[],ne=[];j===0?this.scroll.path(D).forEach(function(F){var V=o(F,1),$=V[0];$ instanceof y.default?z.push($):$ instanceof p.default.Leaf&&ne.push($)}):(z=this.scroll.lines(D,j),ne=this.scroll.descendants(p.default.Leaf,D,j));var G=[z,ne].map(function(F){if(F.length===0)return{};for(var V=(0,v.bubbleFormats)(F.shift());Object.keys(V).length>0;){var $=F.shift();if($==null)return V;V=Y((0,v.bubbleFormats)($),V)}return V});return m.default.apply(m.default,G)}},{key:"getText",value:function(D,j){return this.getContents(D,j).filter(function(z){return typeof z.insert=="string"}).map(function(z){return z.insert}).join("")}},{key:"insertEmbed",value:function(D,j,z){return this.scroll.insertAt(D,j,z),this.update(new c.default().retain(D).insert(O({},j,z)))}},{key:"insertText",value:function(D,j){var z=this,ne=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return j=j.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(D,j),Object.keys(ne).forEach(function(G){z.scroll.formatAt(D,j.length,G,ne[G])}),this.update(new c.default().retain(D).insert(j,(0,S.default)(ne)))}},{key:"isBlank",value:function(){if(this.scroll.children.length==0)return!0;if(this.scroll.children.length>1)return!1;var D=this.scroll.children.head;return D.statics.blotName!==y.default.blotName||D.children.length>1?!1:D.children.head instanceof T.default}},{key:"removeFormat",value:function(D,j){var z=this.getText(D,j),ne=this.scroll.line(D+j),G=o(ne,2),F=G[0],V=G[1],$=0,Q=new c.default;F!=null&&(F instanceof b.default?$=F.newlineIndex(V)-V+1:$=F.length()-V,Q=F.delta().slice(V,V+$-1).insert(`
`));var se=this.getContents(D,j+$),me=se.diff(new c.default().insert(z).concat(Q)),B=new c.default().retain(D).concat(me);return this.applyDelta(B)}},{key:"update",value:function(D){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,ne=this.delta;if(j.length===1&&j[0].type==="characterData"&&j[0].target.data.match(H)&&p.default.find(j[0].target)){var G=p.default.find(j[0].target),F=(0,v.bubbleFormats)(G),V=G.offset(this.scroll),$=j[0].oldValue.replace(_.default.CONTENTS,""),Q=new c.default().insert($),se=new c.default().insert(G.value()),me=new c.default().retain(V).concat(Q.diff(se,z));D=me.reduce(function(B,K){return K.insert?B.insert(K.insert,F):B.push(K)},new c.default),this.delta=ne.compose(D)}else this.delta=this.getDelta(),(!D||!(0,C.default)(ne.compose(D),this.delta))&&(D=ne.diff(this.delta,z));return D}}]),Z})();function Y(Z,q){return Object.keys(q).reduce(function(D,j){return Z[j]==null||(q[j]===Z[j]?D[j]=q[j]:Array.isArray(q[j])?q[j].indexOf(Z[j])<0&&(D[j]=q[j].concat([Z[j]])):D[j]=[q[j],Z[j]]),D},{})}function le(Z){return Z.reduce(function(q,D){if(D.insert===1){var j=(0,S.default)(D.attributes);return delete j.image,q.insert({image:D.attributes.image},j)}if(D.attributes!=null&&(D.attributes.list===!0||D.attributes.bullet===!0)&&(D=(0,S.default)(D),D.attributes.list?D.attributes.list="ordered":(D.attributes.list="bullet",delete D.attributes.bullet)),typeof D.insert=="string"){var z=D.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return q.insert(z,D.attributes)}return q.push(D)},new c.default)}r.default=X}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.Range=void 0;var s=(function(){function A(C,R){var m=[],I=!0,O=!1,L=void 0;try{for(var H=C[Symbol.iterator](),X;!(I=(X=H.next()).done)&&(m.push(X.value),!(R&&m.length===R));I=!0);}catch(Y){O=!0,L=Y}finally{try{!I&&H.return&&H.return()}finally{if(O)throw L}}return m}return function(C,R){if(Array.isArray(C))return C;if(Symbol.iterator in Object(C))return A(C,R);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),o=(function(){function A(C,R){for(var m=0;m<R.length;m++){var I=R[m];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(C,I.key,I)}}return function(C,R,m){return R&&A(C.prototype,R),m&&A(C,m),C}})(),a=i(0),l=_(a),c=i(21),f=_(c),h=i(11),d=_(h),p=i(8),w=_(p),b=i(10),E=_(b);function _(A){return A&&A.__esModule?A:{default:A}}function v(A){if(Array.isArray(A)){for(var C=0,R=Array(A.length);C<A.length;C++)R[C]=A[C];return R}else return Array.from(A)}function y(A,C){if(!(A instanceof C))throw new TypeError("Cannot call a class as a function")}var g=(0,E.default)("quill:selection"),T=function A(C){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;y(this,A),this.index=C,this.length=R},x=(function(){function A(C,R){var m=this;y(this,A),this.emitter=R,this.scroll=C,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=l.default.create("cursor",this),this.lastRange=this.savedRange=new T(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){m.mouseDown||setTimeout(m.update.bind(m,w.default.sources.USER),1)}),this.emitter.on(w.default.events.EDITOR_CHANGE,function(I,O){I===w.default.events.TEXT_CHANGE&&O.length()>0&&m.update(w.default.sources.SILENT)}),this.emitter.on(w.default.events.SCROLL_BEFORE_UPDATE,function(){if(m.hasFocus()){var I=m.getNativeRange();I!=null&&I.start.node!==m.cursor.textNode&&m.emitter.once(w.default.events.SCROLL_UPDATE,function(){try{m.setNativeRange(I.start.node,I.start.offset,I.end.node,I.end.offset)}catch{}})}}),this.emitter.on(w.default.events.SCROLL_OPTIMIZE,function(I,O){if(O.range){var L=O.range,H=L.startNode,X=L.startOffset,Y=L.endNode,le=L.endOffset;m.setNativeRange(H,X,Y,le)}}),this.update(w.default.sources.SILENT)}return o(A,[{key:"handleComposition",value:function(){var R=this;this.root.addEventListener("compositionstart",function(){R.composing=!0}),this.root.addEventListener("compositionend",function(){if(R.composing=!1,R.cursor.parent){var m=R.cursor.restore();if(!m)return;setTimeout(function(){R.setNativeRange(m.startNode,m.startOffset,m.endNode,m.endOffset)},1)}})}},{key:"handleDragging",value:function(){var R=this;this.emitter.listenDOM("mousedown",document.body,function(){R.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){R.mouseDown=!1,R.update(w.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(R,m){if(!(this.scroll.whitelist!=null&&!this.scroll.whitelist[R])){this.scroll.update();var I=this.getNativeRange();if(!(I==null||!I.native.collapsed||l.default.query(R,l.default.Scope.BLOCK))){if(I.start.node!==this.cursor.textNode){var O=l.default.find(I.start.node,!1);if(O==null)return;if(O instanceof l.default.Leaf){var L=O.split(I.start.offset);O.parent.insertBefore(this.cursor,L)}else O.insertBefore(this.cursor,I.start.node);this.cursor.attach()}this.cursor.format(R,m),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(R){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,I=this.scroll.length();R=Math.min(R,I-1),m=Math.min(R+m,I-1)-R;var O=void 0,L=this.scroll.leaf(R),H=s(L,2),X=H[0],Y=H[1];if(X==null)return null;var le=X.position(Y,!0),Z=s(le,2);O=Z[0],Y=Z[1];var q=document.createRange();if(m>0){q.setStart(O,Y);var D=this.scroll.leaf(R+m),j=s(D,2);if(X=j[0],Y=j[1],X==null)return null;var z=X.position(Y,!0),ne=s(z,2);return O=ne[0],Y=ne[1],q.setEnd(O,Y),q.getBoundingClientRect()}else{var G="left",F=void 0;return O instanceof Text?(Y<O.data.length?(q.setStart(O,Y),q.setEnd(O,Y+1)):(q.setStart(O,Y-1),q.setEnd(O,Y),G="right"),F=q.getBoundingClientRect()):(F=X.domNode.getBoundingClientRect(),Y>0&&(G="right")),{bottom:F.top+F.height,height:F.height,left:F[G],right:F[G],top:F.top,width:0}}}},{key:"getNativeRange",value:function(){var R=document.getSelection();if(R==null||R.rangeCount<=0)return null;var m=R.getRangeAt(0);if(m==null)return null;var I=this.normalizeNative(m);return g.info("getNativeRange",I),I}},{key:"getRange",value:function(){var R=this.getNativeRange();if(R==null)return[null,null];var m=this.normalizedToRange(R);return[m,R]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(R){var m=this,I=[[R.start.node,R.start.offset]];R.native.collapsed||I.push([R.end.node,R.end.offset]);var O=I.map(function(X){var Y=s(X,2),le=Y[0],Z=Y[1],q=l.default.find(le,!0),D=q.offset(m.scroll);return Z===0?D:q instanceof l.default.Container?D+q.length():D+q.index(le,Z)}),L=Math.min(Math.max.apply(Math,v(O)),this.scroll.length()-1),H=Math.min.apply(Math,[L].concat(v(O)));return new T(H,L-H)}},{key:"normalizeNative",value:function(R){if(!S(this.root,R.startContainer)||!R.collapsed&&!S(this.root,R.endContainer))return null;var m={start:{node:R.startContainer,offset:R.startOffset},end:{node:R.endContainer,offset:R.endOffset},native:R};return[m.start,m.end].forEach(function(I){for(var O=I.node,L=I.offset;!(O instanceof Text)&&O.childNodes.length>0;)if(O.childNodes.length>L)O=O.childNodes[L],L=0;else if(O.childNodes.length===L)O=O.lastChild,L=O instanceof Text?O.data.length:O.childNodes.length+1;else break;I.node=O,I.offset=L}),m}},{key:"rangeToNative",value:function(R){var m=this,I=R.collapsed?[R.index]:[R.index,R.index+R.length],O=[],L=this.scroll.length();return I.forEach(function(H,X){H=Math.min(L-1,H);var Y=void 0,le=m.scroll.leaf(H),Z=s(le,2),q=Z[0],D=Z[1],j=q.position(D,X!==0),z=s(j,2);Y=z[0],D=z[1],O.push(Y,D)}),O.length<2&&(O=O.concat(O)),O}},{key:"scrollIntoView",value:function(R){var m=this.lastRange;if(m!=null){var I=this.getBounds(m.index,m.length);if(I!=null){var O=this.scroll.length()-1,L=this.scroll.line(Math.min(m.index,O)),H=s(L,1),X=H[0],Y=X;if(m.length>0){var le=this.scroll.line(Math.min(m.index+m.length,O)),Z=s(le,1);Y=Z[0]}if(!(X==null||Y==null)){var q=R.getBoundingClientRect();I.top<q.top?R.scrollTop-=q.top-I.top:I.bottom>q.bottom&&(R.scrollTop+=I.bottom-q.bottom)}}}}},{key:"setNativeRange",value:function(R,m){var I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:R,O=arguments.length>3&&arguments[3]!==void 0?arguments[3]:m,L=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(g.info("setNativeRange",R,m,I,O),!(R!=null&&(this.root.parentNode==null||R.parentNode==null||I.parentNode==null))){var H=document.getSelection();if(H!=null)if(R!=null){this.hasFocus()||this.root.focus();var X=(this.getNativeRange()||{}).native;if(X==null||L||R!==X.startContainer||m!==X.startOffset||I!==X.endContainer||O!==X.endOffset){R.tagName=="BR"&&(m=[].indexOf.call(R.parentNode.childNodes,R),R=R.parentNode),I.tagName=="BR"&&(O=[].indexOf.call(I.parentNode.childNodes,I),I=I.parentNode);var Y=document.createRange();Y.setStart(R,m),Y.setEnd(I,O),H.removeAllRanges(),H.addRange(Y)}}else H.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(R){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:w.default.sources.API;if(typeof m=="string"&&(I=m,m=!1),g.info("setRange",R),R!=null){var O=this.rangeToNative(R);this.setNativeRange.apply(this,v(O).concat([m]))}else this.setNativeRange(null);this.update(I)}},{key:"update",value:function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:w.default.sources.USER,m=this.lastRange,I=this.getRange(),O=s(I,2),L=O[0],H=O[1];if(this.lastRange=L,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,d.default)(m,this.lastRange)){var X;!this.composing&&H!=null&&H.native.collapsed&&H.start.node!==this.cursor.textNode&&this.cursor.restore();var Y=[w.default.events.SELECTION_CHANGE,(0,f.default)(this.lastRange),(0,f.default)(m),R];if((X=this.emitter).emit.apply(X,[w.default.events.EDITOR_CHANGE].concat(Y)),R!==w.default.sources.SILENT){var le;(le=this.emitter).emit.apply(le,Y)}}}}]),A})();function S(A,C){try{C.parentNode}catch{return!1}return C instanceof Text&&(C=C.parentNode),A.contains(C)}r.Range=T,r.default=x}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=(function(){function w(b,E){for(var _=0;_<E.length;_++){var v=E[_];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(b,v.key,v)}}return function(b,E,_){return E&&w(b.prototype,E),_&&w(b,_),b}})(),o=function w(b,E,_){b===null&&(b=Function.prototype);var v=Object.getOwnPropertyDescriptor(b,E);if(v===void 0){var y=Object.getPrototypeOf(b);return y===null?void 0:w(y,E,_)}else{if("value"in v)return v.value;var g=v.get;return g===void 0?void 0:g.call(_)}},a=i(0),l=c(a);function c(w){return w&&w.__esModule?w:{default:w}}function f(w,b){if(!(w instanceof b))throw new TypeError("Cannot call a class as a function")}function h(w,b){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:w}function d(w,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);w.prototype=Object.create(b&&b.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(w,b):w.__proto__=b)}var p=(function(w){d(b,w);function b(){return f(this,b),h(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return s(b,[{key:"insertInto",value:function(_,v){_.children.length===0?o(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"insertInto",this).call(this,_,v):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),b})(l.default.Embed);p.blotName="break",p.tagName="BR",r.default=p}),(function(n,r,i){var s=this&&this.__extends||(function(){var h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,p){d.__proto__=p}||function(d,p){for(var w in p)p.hasOwnProperty(w)&&(d[w]=p[w])};return function(d,p){h(d,p);function w(){this.constructor=d}d.prototype=p===null?Object.create(p):(w.prototype=p.prototype,new w)}})();Object.defineProperty(r,"__esModule",{value:!0});var o=i(44),a=i(30),l=i(1),c=(function(h){s(d,h);function d(p){var w=h.call(this,p)||this;return w.build(),w}return d.prototype.appendChild=function(p){this.insertBefore(p)},d.prototype.attach=function(){h.prototype.attach.call(this),this.children.forEach(function(p){p.attach()})},d.prototype.build=function(){var p=this;this.children=new o.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(w){try{var b=f(w);p.insertBefore(b,p.children.head||void 0)}catch(E){if(E instanceof l.ParchmentError)return;throw E}})},d.prototype.deleteAt=function(p,w){if(p===0&&w===this.length())return this.remove();this.children.forEachAt(p,w,function(b,E,_){b.deleteAt(E,_)})},d.prototype.descendant=function(p,w){var b=this.children.find(w),E=b[0],_=b[1];return p.blotName==null&&p(E)||p.blotName!=null&&E instanceof p?[E,_]:E instanceof d?E.descendant(p,_):[null,-1]},d.prototype.descendants=function(p,w,b){w===void 0&&(w=0),b===void 0&&(b=Number.MAX_VALUE);var E=[],_=b;return this.children.forEachAt(w,b,function(v,y,g){(p.blotName==null&&p(v)||p.blotName!=null&&v instanceof p)&&E.push(v),v instanceof d&&(E=E.concat(v.descendants(p,y,_))),_-=g}),E},d.prototype.detach=function(){this.children.forEach(function(p){p.detach()}),h.prototype.detach.call(this)},d.prototype.formatAt=function(p,w,b,E){this.children.forEachAt(p,w,function(_,v,y){_.formatAt(v,y,b,E)})},d.prototype.insertAt=function(p,w,b){var E=this.children.find(p),_=E[0],v=E[1];if(_)_.insertAt(v,w,b);else{var y=b==null?l.create("text",w):l.create(w,b);this.appendChild(y)}},d.prototype.insertBefore=function(p,w){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(b){return p instanceof b}))throw new l.ParchmentError("Cannot insert "+p.statics.blotName+" into "+this.statics.blotName);p.insertInto(this,w)},d.prototype.length=function(){return this.children.reduce(function(p,w){return p+w.length()},0)},d.prototype.moveChildren=function(p,w){this.children.forEach(function(b){p.insertBefore(b,w)})},d.prototype.optimize=function(p){if(h.prototype.optimize.call(this,p),this.children.length===0)if(this.statics.defaultChild!=null){var w=l.create(this.statics.defaultChild);this.appendChild(w),w.optimize(p)}else this.remove()},d.prototype.path=function(p,w){w===void 0&&(w=!1);var b=this.children.find(p,w),E=b[0],_=b[1],v=[[this,p]];return E instanceof d?v.concat(E.path(_,w)):(E!=null&&v.push([E,_]),v)},d.prototype.removeChild=function(p){this.children.remove(p)},d.prototype.replace=function(p){p instanceof d&&p.moveChildren(this),h.prototype.replace.call(this,p)},d.prototype.split=function(p,w){if(w===void 0&&(w=!1),!w){if(p===0)return this;if(p===this.length())return this.next}var b=this.clone();return this.parent.insertBefore(b,this.next),this.children.forEachAt(p,this.length(),function(E,_,v){E=E.split(_,w),b.appendChild(E)}),b},d.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},d.prototype.update=function(p,w){var b=this,E=[],_=[];p.forEach(function(v){v.target===b.domNode&&v.type==="childList"&&(E.push.apply(E,v.addedNodes),_.push.apply(_,v.removedNodes))}),_.forEach(function(v){if(!(v.parentNode!=null&&v.tagName!=="IFRAME"&&document.body.compareDocumentPosition(v)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var y=l.find(v);y!=null&&(y.domNode.parentNode==null||y.domNode.parentNode===b.domNode)&&y.detach()}}),E.filter(function(v){return v.parentNode==b.domNode}).sort(function(v,y){return v===y?0:v.compareDocumentPosition(y)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(v){var y=null;v.nextSibling!=null&&(y=l.find(v.nextSibling));var g=f(v);(g.next!=y||g.next==null)&&(g.parent!=null&&g.parent.removeChild(b),b.insertBefore(g,y||void 0))})},d})(a.default);function f(h){var d=l.find(h);if(d==null)try{d=l.create(h)}catch{d=l.create(l.Scope.INLINE),[].slice.call(h.childNodes).forEach(function(w){d.domNode.appendChild(w)}),h.parentNode&&h.parentNode.replaceChild(d.domNode,h),d.attach()}return d}r.default=c}),(function(n,r,i){var s=this&&this.__extends||(function(){var h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,p){d.__proto__=p}||function(d,p){for(var w in p)p.hasOwnProperty(w)&&(d[w]=p[w])};return function(d,p){h(d,p);function w(){this.constructor=d}d.prototype=p===null?Object.create(p):(w.prototype=p.prototype,new w)}})();Object.defineProperty(r,"__esModule",{value:!0});var o=i(12),a=i(31),l=i(17),c=i(1),f=(function(h){s(d,h);function d(p){var w=h.call(this,p)||this;return w.attributes=new a.default(w.domNode),w}return d.formats=function(p){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return p.tagName.toLowerCase()},d.prototype.format=function(p,w){var b=c.query(p);b instanceof o.default?this.attributes.attribute(b,w):w&&b!=null&&(p!==this.statics.blotName||this.formats()[p]!==w)&&this.replaceWith(p,w)},d.prototype.formats=function(){var p=this.attributes.values(),w=this.statics.formats(this.domNode);return w!=null&&(p[this.statics.blotName]=w),p},d.prototype.replaceWith=function(p,w){var b=h.prototype.replaceWith.call(this,p,w);return this.attributes.copy(b),b},d.prototype.update=function(p,w){var b=this;h.prototype.update.call(this,p,w),p.some(function(E){return E.target===b.domNode&&E.type==="attributes"})&&this.attributes.build()},d.prototype.wrap=function(p,w){var b=h.prototype.wrap.call(this,p,w);return b instanceof d&&b.statics.scope===this.statics.scope&&this.attributes.move(b),b},d})(l.default);r.default=f}),(function(n,r,i){var s=this&&this.__extends||(function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,h){f.__proto__=h}||function(f,h){for(var d in h)h.hasOwnProperty(d)&&(f[d]=h[d])};return function(f,h){c(f,h);function d(){this.constructor=f}f.prototype=h===null?Object.create(h):(d.prototype=h.prototype,new d)}})();Object.defineProperty(r,"__esModule",{value:!0});var o=i(30),a=i(1),l=(function(c){s(f,c);function f(){return c!==null&&c.apply(this,arguments)||this}return f.value=function(h){return!0},f.prototype.index=function(h,d){return this.domNode===h||this.domNode.compareDocumentPosition(h)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(d,1):-1},f.prototype.position=function(h,d){var p=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return h>0&&(p+=1),[this.parent.domNode,p]},f.prototype.value=function(){var h;return h={},h[this.statics.blotName]=this.statics.value(this.domNode)||!0,h},f.scope=a.Scope.INLINE_BLOT,f})(o.default);r.default=l}),(function(n,r,i){var s=i(11),o=i(3),a={attributes:{compose:function(c,f,h){typeof c!="object"&&(c={}),typeof f!="object"&&(f={});var d=o(!0,{},f);h||(d=Object.keys(d).reduce(function(w,b){return d[b]!=null&&(w[b]=d[b]),w},{}));for(var p in c)c[p]!==void 0&&f[p]===void 0&&(d[p]=c[p]);return Object.keys(d).length>0?d:void 0},diff:function(c,f){typeof c!="object"&&(c={}),typeof f!="object"&&(f={});var h=Object.keys(c).concat(Object.keys(f)).reduce(function(d,p){return s(c[p],f[p])||(d[p]=f[p]===void 0?null:f[p]),d},{});return Object.keys(h).length>0?h:void 0},transform:function(c,f,h){if(typeof c!="object")return f;if(typeof f=="object"){if(!h)return f;var d=Object.keys(f).reduce(function(p,w){return c[w]===void 0&&(p[w]=f[w]),p},{});return Object.keys(d).length>0?d:void 0}}},iterator:function(c){return new l(c)},length:function(c){return typeof c.delete=="number"?c.delete:typeof c.retain=="number"?c.retain:typeof c.insert=="string"?c.insert.length:1}};function l(c){this.ops=c,this.index=0,this.offset=0}l.prototype.hasNext=function(){return this.peekLength()<1/0},l.prototype.next=function(c){c||(c=1/0);var f=this.ops[this.index];if(f){var h=this.offset,d=a.length(f);if(c>=d-h?(c=d-h,this.index+=1,this.offset=0):this.offset+=c,typeof f.delete=="number")return{delete:c};var p={};return f.attributes&&(p.attributes=f.attributes),typeof f.retain=="number"?p.retain=c:typeof f.insert=="string"?p.insert=f.insert.substr(h,c):p.insert=f.insert,p}else return{retain:1/0}},l.prototype.peek=function(){return this.ops[this.index]},l.prototype.peekLength=function(){return this.ops[this.index]?a.length(this.ops[this.index])-this.offset:1/0},l.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},l.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var c=this.offset,f=this.index,h=this.next(),d=this.ops.slice(this.index);return this.offset=c,this.index=f,[h].concat(d)}else return[]},n.exports=a}),(function(n,r){var i=(function(){function s(b,E){return E!=null&&b instanceof E}var o;try{o=Map}catch{o=function(){}}var a;try{a=Set}catch{a=function(){}}var l;try{l=Promise}catch{l=function(){}}function c(b,E,_,v,y){typeof E=="object"&&(_=E.depth,v=E.prototype,y=E.includeNonEnumerable,E=E.circular);var g=[],T=[],x=typeof Buffer<"u";typeof E>"u"&&(E=!0),typeof _>"u"&&(_=1/0);function S(A,C){if(A===null)return null;if(C===0)return A;var R,m;if(typeof A!="object")return A;if(s(A,o))R=new o;else if(s(A,a))R=new a;else if(s(A,l))R=new l(function(q,D){A.then(function(j){q(S(j,C-1))},function(j){D(S(j,C-1))})});else if(c.__isArray(A))R=[];else if(c.__isRegExp(A))R=new RegExp(A.source,w(A)),A.lastIndex&&(R.lastIndex=A.lastIndex);else if(c.__isDate(A))R=new Date(A.getTime());else{if(x&&Buffer.isBuffer(A))return Buffer.allocUnsafe?R=Buffer.allocUnsafe(A.length):R=new Buffer(A.length),A.copy(R),R;s(A,Error)?R=Object.create(A):typeof v>"u"?(m=Object.getPrototypeOf(A),R=Object.create(m)):(R=Object.create(v),m=v)}if(E){var I=g.indexOf(A);if(I!=-1)return T[I];g.push(A),T.push(R)}s(A,o)&&A.forEach(function(q,D){var j=S(D,C-1),z=S(q,C-1);R.set(j,z)}),s(A,a)&&A.forEach(function(q){var D=S(q,C-1);R.add(D)});for(var O in A){var L;m&&(L=Object.getOwnPropertyDescriptor(m,O)),!(L&&L.set==null)&&(R[O]=S(A[O],C-1))}if(Object.getOwnPropertySymbols)for(var H=Object.getOwnPropertySymbols(A),O=0;O<H.length;O++){var X=H[O],Y=Object.getOwnPropertyDescriptor(A,X);Y&&!Y.enumerable&&!y||(R[X]=S(A[X],C-1),Y.enumerable||Object.defineProperty(R,X,{enumerable:!1}))}if(y)for(var le=Object.getOwnPropertyNames(A),O=0;O<le.length;O++){var Z=le[O],Y=Object.getOwnPropertyDescriptor(A,Z);Y&&Y.enumerable||(R[Z]=S(A[Z],C-1),Object.defineProperty(R,Z,{enumerable:!1}))}return R}return S(b,_)}c.clonePrototype=function(E){if(E===null)return null;var _=function(){};return _.prototype=E,new _};function f(b){return Object.prototype.toString.call(b)}c.__objToStr=f;function h(b){return typeof b=="object"&&f(b)==="[object Date]"}c.__isDate=h;function d(b){return typeof b=="object"&&f(b)==="[object Array]"}c.__isArray=d;function p(b){return typeof b=="object"&&f(b)==="[object RegExp]"}c.__isRegExp=p;function w(b){var E="";return b.global&&(E+="g"),b.ignoreCase&&(E+="i"),b.multiline&&(E+="m"),E}return c.__getRegExpFlags=w,c})();typeof n=="object"&&n.exports&&(n.exports=i)}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=(function(){function R(m,I){var O=[],L=!0,H=!1,X=void 0;try{for(var Y=m[Symbol.iterator](),le;!(L=(le=Y.next()).done)&&(O.push(le.value),!(I&&O.length===I));L=!0);}catch(Z){H=!0,X=Z}finally{try{!L&&Y.return&&Y.return()}finally{if(H)throw X}}return O}return function(m,I){if(Array.isArray(m))return m;if(Symbol.iterator in Object(m))return R(m,I);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),o=(function(){function R(m,I){for(var O=0;O<I.length;O++){var L=I[O];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(m,L.key,L)}}return function(m,I,O){return I&&R(m.prototype,I),O&&R(m,O),m}})(),a=function R(m,I,O){m===null&&(m=Function.prototype);var L=Object.getOwnPropertyDescriptor(m,I);if(L===void 0){var H=Object.getPrototypeOf(m);return H===null?void 0:R(H,I,O)}else{if("value"in L)return L.value;var X=L.get;return X===void 0?void 0:X.call(O)}},l=i(0),c=g(l),f=i(8),h=g(f),d=i(4),p=g(d),w=i(16),b=g(w),E=i(13),_=g(E),v=i(25),y=g(v);function g(R){return R&&R.__esModule?R:{default:R}}function T(R,m){if(!(R instanceof m))throw new TypeError("Cannot call a class as a function")}function x(R,m){if(!R)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:R}function S(R,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);R.prototype=Object.create(m&&m.prototype,{constructor:{value:R,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(R,m):R.__proto__=m)}function A(R){return R instanceof p.default||R instanceof d.BlockEmbed}var C=(function(R){S(m,R);function m(I,O){T(this,m);var L=x(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,I));return L.emitter=O.emitter,Array.isArray(O.whitelist)&&(L.whitelist=O.whitelist.reduce(function(H,X){return H[X]=!0,H},{})),L.domNode.addEventListener("DOMNodeInserted",function(){}),L.optimize(),L.enable(),L}return o(m,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(O,L){var H=this.line(O),X=s(H,2),Y=X[0],le=X[1],Z=this.line(O+L),q=s(Z,1),D=q[0];if(a(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"deleteAt",this).call(this,O,L),D!=null&&Y!==D&&le>0){if(Y instanceof d.BlockEmbed||D instanceof d.BlockEmbed){this.optimize();return}if(Y instanceof _.default){var j=Y.newlineIndex(Y.length(),!0);if(j>-1&&(Y=Y.split(j+1),Y===D)){this.optimize();return}}else if(D instanceof _.default){var z=D.newlineIndex(0);z>-1&&D.split(z+1)}var ne=D.children.head instanceof b.default?null:D.children.head;Y.moveChildren(D,ne),Y.remove()}this.optimize()}},{key:"enable",value:function(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",O)}},{key:"formatAt",value:function(O,L,H,X){this.whitelist!=null&&!this.whitelist[H]||(a(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"formatAt",this).call(this,O,L,H,X),this.optimize())}},{key:"insertAt",value:function(O,L,H){if(!(H!=null&&this.whitelist!=null&&!this.whitelist[L])){if(O>=this.length())if(H==null||c.default.query(L,c.default.Scope.BLOCK)==null){var X=c.default.create(this.statics.defaultChild);this.appendChild(X),H==null&&L.endsWith(`
`)&&(L=L.slice(0,-1)),X.insertAt(0,L,H)}else{var Y=c.default.create(L,H);this.appendChild(Y)}else a(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"insertAt",this).call(this,O,L,H);this.optimize()}}},{key:"insertBefore",value:function(O,L){if(O.statics.scope===c.default.Scope.INLINE_BLOT){var H=c.default.create(this.statics.defaultChild);H.appendChild(O),O=H}a(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"insertBefore",this).call(this,O,L)}},{key:"leaf",value:function(O){return this.path(O).pop()||[null,-1]}},{key:"line",value:function(O){return O===this.length()?this.line(O-1):this.descendant(A,O)}},{key:"lines",value:function(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,H=function X(Y,le,Z){var q=[],D=Z;return Y.children.forEachAt(le,Z,function(j,z,ne){A(j)?q.push(j):j instanceof c.default.Container&&(q=q.concat(X(j,z,D))),D-=ne}),q};return H(this,O,L)}},{key:"optimize",value:function(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch!==!0&&(a(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"optimize",this).call(this,O,L),O.length>0&&this.emitter.emit(h.default.events.SCROLL_OPTIMIZE,O,L))}},{key:"path",value:function(O){return a(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"path",this).call(this,O).slice(1)}},{key:"update",value:function(O){if(this.batch!==!0){var L=h.default.sources.USER;typeof O=="string"&&(L=O),Array.isArray(O)||(O=this.observer.takeRecords()),O.length>0&&this.emitter.emit(h.default.events.SCROLL_BEFORE_UPDATE,L,O),a(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"update",this).call(this,O.concat([])),O.length>0&&this.emitter.emit(h.default.events.SCROLL_UPDATE,L,O)}}}]),m})(c.default.Scroll);C.blotName="scroll",C.className="ql-editor",C.tagName="DIV",C.defaultChild="block",C.allowedChildren=[p.default,d.BlockEmbed,y.default],r.default=C}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SHORTKEY=r.default=void 0;var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(F){return typeof F}:function(F){return F&&typeof Symbol=="function"&&F.constructor===Symbol&&F!==Symbol.prototype?"symbol":typeof F},o=(function(){function F(V,$){var Q=[],se=!0,me=!1,B=void 0;try{for(var K=V[Symbol.iterator](),ee;!(se=(ee=K.next()).done)&&(Q.push(ee.value),!($&&Q.length===$));se=!0);}catch(ue){me=!0,B=ue}finally{try{!se&&K.return&&K.return()}finally{if(me)throw B}}return Q}return function(V,$){if(Array.isArray(V))return V;if(Symbol.iterator in Object(V))return F(V,$);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),a=(function(){function F(V,$){for(var Q=0;Q<$.length;Q++){var se=$[Q];se.enumerable=se.enumerable||!1,se.configurable=!0,"value"in se&&(se.writable=!0),Object.defineProperty(V,se.key,se)}}return function(V,$,Q){return $&&F(V.prototype,$),Q&&F(V,Q),V}})(),l=i(21),c=R(l),f=i(11),h=R(f),d=i(3),p=R(d),w=i(2),b=R(w),E=i(20),_=R(E),v=i(0),y=R(v),g=i(5),T=R(g),x=i(10),S=R(x),A=i(9),C=R(A);function R(F){return F&&F.__esModule?F:{default:F}}function m(F,V,$){return V in F?Object.defineProperty(F,V,{value:$,enumerable:!0,configurable:!0,writable:!0}):F[V]=$,F}function I(F,V){if(!(F instanceof V))throw new TypeError("Cannot call a class as a function")}function O(F,V){if(!F)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return V&&(typeof V=="object"||typeof V=="function")?V:F}function L(F,V){if(typeof V!="function"&&V!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof V);F.prototype=Object.create(V&&V.prototype,{constructor:{value:F,enumerable:!1,writable:!0,configurable:!0}}),V&&(Object.setPrototypeOf?Object.setPrototypeOf(F,V):F.__proto__=V)}var H=(0,S.default)("quill:keyboard"),X=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",Y=(function(F){L(V,F),a(V,null,[{key:"match",value:function(Q,se){return se=G(se),["altKey","ctrlKey","metaKey","shiftKey"].some(function(me){return!!se[me]!==Q[me]&&se[me]!==null})?!1:se.key===(Q.which||Q.keyCode)}}]);function V($,Q){I(this,V);var se=O(this,(V.__proto__||Object.getPrototypeOf(V)).call(this,$,Q));return se.bindings={},Object.keys(se.options.bindings).forEach(function(me){me==="list autofill"&&$.scroll.whitelist!=null&&!$.scroll.whitelist.list||se.options.bindings[me]&&se.addBinding(se.options.bindings[me])}),se.addBinding({key:V.keys.ENTER,shiftKey:null},j),se.addBinding({key:V.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(se.addBinding({key:V.keys.BACKSPACE},{collapsed:!0},Z),se.addBinding({key:V.keys.DELETE},{collapsed:!0},q)):(se.addBinding({key:V.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},Z),se.addBinding({key:V.keys.DELETE},{collapsed:!0,suffix:/^.?$/},q)),se.addBinding({key:V.keys.BACKSPACE},{collapsed:!1},D),se.addBinding({key:V.keys.DELETE},{collapsed:!1},D),se.addBinding({key:V.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},Z),se.listen(),se}return a(V,[{key:"addBinding",value:function(Q){var se=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},me=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},B=G(Q);if(B==null||B.key==null)return H.warn("Attempted to add invalid keyboard binding",B);typeof se=="function"&&(se={handler:se}),typeof me=="function"&&(me={handler:me}),B=(0,p.default)(B,se,me),this.bindings[B.key]=this.bindings[B.key]||[],this.bindings[B.key].push(B)}},{key:"listen",value:function(){var Q=this;this.quill.root.addEventListener("keydown",function(se){if(!se.defaultPrevented){var me=se.which||se.keyCode,B=(Q.bindings[me]||[]).filter(function(Oe){return V.match(se,Oe)});if(B.length!==0){var K=Q.quill.getSelection();if(!(K==null||!Q.quill.hasFocus())){var ee=Q.quill.getLine(K.index),ue=o(ee,2),he=ue[0],ce=ue[1],te=Q.quill.getLeaf(K.index),J=o(te,2),re=J[0],ie=J[1],ae=K.length===0?[re,ie]:Q.quill.getLeaf(K.index+K.length),pe=o(ae,2),ve=pe[0],_e=pe[1],Se=re instanceof y.default.Text?re.value().slice(0,ie):"",Ne=ve instanceof y.default.Text?ve.value().slice(_e):"",we={collapsed:K.length===0,empty:K.length===0&&he.length()<=1,format:Q.quill.getFormat(K),offset:ce,prefix:Se,suffix:Ne},lt=B.some(function(Oe){if(Oe.collapsed!=null&&Oe.collapsed!==we.collapsed||Oe.empty!=null&&Oe.empty!==we.empty||Oe.offset!=null&&Oe.offset!==we.offset)return!1;if(Array.isArray(Oe.format)){if(Oe.format.every(function(et){return we.format[et]==null}))return!1}else if(s(Oe.format)==="object"&&!Object.keys(Oe.format).every(function(et){return Oe.format[et]===!0?we.format[et]!=null:Oe.format[et]===!1?we.format[et]==null:(0,h.default)(Oe.format[et],we.format[et])}))return!1;return Oe.prefix!=null&&!Oe.prefix.test(we.prefix)||Oe.suffix!=null&&!Oe.suffix.test(we.suffix)?!1:Oe.handler.call(Q,K,we)!==!0});lt&&se.preventDefault()}}}})}}]),V})(C.default);Y.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},Y.DEFAULTS={bindings:{bold:ne("bold"),italic:ne("italic"),underline:ne("underline"),indent:{key:Y.keys.TAB,format:["blockquote","indent","list"],handler:function(V,$){if($.collapsed&&$.offset!==0)return!0;this.quill.format("indent","+1",T.default.sources.USER)}},outdent:{key:Y.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(V,$){if($.collapsed&&$.offset!==0)return!0;this.quill.format("indent","-1",T.default.sources.USER)}},"outdent backspace":{key:Y.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(V,$){$.format.indent!=null?this.quill.format("indent","-1",T.default.sources.USER):$.format.list!=null&&this.quill.format("list",!1,T.default.sources.USER)}},"indent code-block":z(!0),"outdent code-block":z(!1),"remove tab":{key:Y.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(V){this.quill.deleteText(V.index-1,1,T.default.sources.USER)}},tab:{key:Y.keys.TAB,handler:function(V){this.quill.history.cutoff();var $=new b.default().retain(V.index).delete(V.length).insert("	");this.quill.updateContents($,T.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(V.index+1,T.default.sources.SILENT)}},"list empty enter":{key:Y.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(V,$){this.quill.format("list",!1,T.default.sources.USER),$.format.indent&&this.quill.format("indent",!1,T.default.sources.USER)}},"checklist enter":{key:Y.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(V){var $=this.quill.getLine(V.index),Q=o($,2),se=Q[0],me=Q[1],B=(0,p.default)({},se.formats(),{list:"checked"}),K=new b.default().retain(V.index).insert(`
`,B).retain(se.length()-me-1).retain(1,{list:"unchecked"});this.quill.updateContents(K,T.default.sources.USER),this.quill.setSelection(V.index+1,T.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:Y.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(V,$){var Q=this.quill.getLine(V.index),se=o(Q,2),me=se[0],B=se[1],K=new b.default().retain(V.index).insert(`
`,$.format).retain(me.length()-B-1).retain(1,{header:null});this.quill.updateContents(K,T.default.sources.USER),this.quill.setSelection(V.index+1,T.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(V,$){var Q=$.prefix.length,se=this.quill.getLine(V.index),me=o(se,2),B=me[0],K=me[1];if(K>Q)return!0;var ee=void 0;switch($.prefix.trim()){case"[]":case"[ ]":ee="unchecked";break;case"[x]":ee="checked";break;case"-":case"*":ee="bullet";break;default:ee="ordered"}this.quill.insertText(V.index," ",T.default.sources.USER),this.quill.history.cutoff();var ue=new b.default().retain(V.index-K).delete(Q+1).retain(B.length()-2-K).retain(1,{list:ee});this.quill.updateContents(ue,T.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(V.index-Q,T.default.sources.SILENT)}},"code exit":{key:Y.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(V){var $=this.quill.getLine(V.index),Q=o($,2),se=Q[0],me=Q[1],B=new b.default().retain(V.index+se.length()-me-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(B,T.default.sources.USER)}},"embed left":le(Y.keys.LEFT,!1),"embed left shift":le(Y.keys.LEFT,!0),"embed right":le(Y.keys.RIGHT,!1),"embed right shift":le(Y.keys.RIGHT,!0)}};function le(F,V){var $,Q=F===Y.keys.LEFT?"prefix":"suffix";return $={key:F,shiftKey:V,altKey:null},m($,Q,/^$/),m($,"handler",function(me){var B=me.index;F===Y.keys.RIGHT&&(B+=me.length+1);var K=this.quill.getLeaf(B),ee=o(K,1),ue=ee[0];return ue instanceof y.default.Embed?(F===Y.keys.LEFT?V?this.quill.setSelection(me.index-1,me.length+1,T.default.sources.USER):this.quill.setSelection(me.index-1,T.default.sources.USER):V?this.quill.setSelection(me.index,me.length+1,T.default.sources.USER):this.quill.setSelection(me.index+me.length+1,T.default.sources.USER),!1):!0}),$}function Z(F,V){if(!(F.index===0||this.quill.getLength()<=1)){var $=this.quill.getLine(F.index),Q=o($,1),se=Q[0],me={};if(V.offset===0){var B=this.quill.getLine(F.index-1),K=o(B,1),ee=K[0];if(ee!=null&&ee.length()>1){var ue=se.formats(),he=this.quill.getFormat(F.index-1,1);me=_.default.attributes.diff(ue,he)||{}}}var ce=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(V.prefix)?2:1;this.quill.deleteText(F.index-ce,ce,T.default.sources.USER),Object.keys(me).length>0&&this.quill.formatLine(F.index-ce,ce,me,T.default.sources.USER),this.quill.focus()}}function q(F,V){var $=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(V.suffix)?2:1;if(!(F.index>=this.quill.getLength()-$)){var Q={},se=0,me=this.quill.getLine(F.index),B=o(me,1),K=B[0];if(V.offset>=K.length()-1){var ee=this.quill.getLine(F.index+1),ue=o(ee,1),he=ue[0];if(he){var ce=K.formats(),te=this.quill.getFormat(F.index,1);Q=_.default.attributes.diff(ce,te)||{},se=he.length()}}this.quill.deleteText(F.index,$,T.default.sources.USER),Object.keys(Q).length>0&&this.quill.formatLine(F.index+se-1,$,Q,T.default.sources.USER)}}function D(F){var V=this.quill.getLines(F),$={};if(V.length>1){var Q=V[0].formats(),se=V[V.length-1].formats();$=_.default.attributes.diff(se,Q)||{}}this.quill.deleteText(F,T.default.sources.USER),Object.keys($).length>0&&this.quill.formatLine(F.index,1,$,T.default.sources.USER),this.quill.setSelection(F.index,T.default.sources.SILENT),this.quill.focus()}function j(F,V){var $=this;F.length>0&&this.quill.scroll.deleteAt(F.index,F.length);var Q=Object.keys(V.format).reduce(function(se,me){return y.default.query(me,y.default.Scope.BLOCK)&&!Array.isArray(V.format[me])&&(se[me]=V.format[me]),se},{});this.quill.insertText(F.index,`
`,Q,T.default.sources.USER),this.quill.setSelection(F.index+1,T.default.sources.SILENT),this.quill.focus(),Object.keys(V.format).forEach(function(se){Q[se]==null&&(Array.isArray(V.format[se])||se!=="link"&&$.quill.format(se,V.format[se],T.default.sources.USER))})}function z(F){return{key:Y.keys.TAB,shiftKey:!F,format:{"code-block":!0},handler:function($){var Q=y.default.query("code-block"),se=$.index,me=$.length,B=this.quill.scroll.descendant(Q,se),K=o(B,2),ee=K[0],ue=K[1];if(ee!=null){var he=this.quill.getIndex(ee),ce=ee.newlineIndex(ue,!0)+1,te=ee.newlineIndex(he+ue+me),J=ee.domNode.textContent.slice(ce,te).split(`
`);ue=0,J.forEach(function(re,ie){F?(ee.insertAt(ce+ue,Q.TAB),ue+=Q.TAB.length,ie===0?se+=Q.TAB.length:me+=Q.TAB.length):re.startsWith(Q.TAB)&&(ee.deleteAt(ce+ue,Q.TAB.length),ue-=Q.TAB.length,ie===0?se-=Q.TAB.length:me-=Q.TAB.length),ue+=re.length+1}),this.quill.update(T.default.sources.USER),this.quill.setSelection(se,me,T.default.sources.SILENT)}}}}function ne(F){return{key:F[0].toUpperCase(),shortKey:!0,handler:function($,Q){this.quill.format(F,!Q.format[F],T.default.sources.USER)}}}function G(F){if(typeof F=="string"||typeof F=="number")return G({key:F});if((typeof F>"u"?"undefined":s(F))==="object"&&(F=(0,c.default)(F,!1)),typeof F.key=="string")if(Y.keys[F.key.toUpperCase()]!=null)F.key=Y.keys[F.key.toUpperCase()];else if(F.key.length===1)F.key=F.key.toUpperCase().charCodeAt(0);else return null;return F.shortKey&&(F[X]=F.shortKey,delete F.shortKey),F}r.default=Y,r.SHORTKEY=X}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=(function(){function _(v,y){var g=[],T=!0,x=!1,S=void 0;try{for(var A=v[Symbol.iterator](),C;!(T=(C=A.next()).done)&&(g.push(C.value),!(y&&g.length===y));T=!0);}catch(R){x=!0,S=R}finally{try{!T&&A.return&&A.return()}finally{if(x)throw S}}return g}return function(v,y){if(Array.isArray(v))return v;if(Symbol.iterator in Object(v))return _(v,y);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),o=function _(v,y,g){v===null&&(v=Function.prototype);var T=Object.getOwnPropertyDescriptor(v,y);if(T===void 0){var x=Object.getPrototypeOf(v);return x===null?void 0:_(x,y,g)}else{if("value"in T)return T.value;var S=T.get;return S===void 0?void 0:S.call(g)}},a=(function(){function _(v,y){for(var g=0;g<y.length;g++){var T=y[g];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(v,T.key,T)}}return function(v,y,g){return y&&_(v.prototype,y),g&&_(v,g),v}})(),l=i(0),c=d(l),f=i(7),h=d(f);function d(_){return _&&_.__esModule?_:{default:_}}function p(_,v){if(!(_ instanceof v))throw new TypeError("Cannot call a class as a function")}function w(_,v){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:_}function b(_,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);_.prototype=Object.create(v&&v.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(_,v):_.__proto__=v)}var E=(function(_){b(v,_),a(v,null,[{key:"value",value:function(){}}]);function v(y,g){p(this,v);var T=w(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,y));return T.selection=g,T.textNode=document.createTextNode(v.CONTENTS),T.domNode.appendChild(T.textNode),T._length=0,T}return a(v,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(g,T){if(this._length!==0)return o(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"format",this).call(this,g,T);for(var x=this,S=0;x!=null&&x.statics.scope!==c.default.Scope.BLOCK_BLOT;)S+=x.offset(x.parent),x=x.parent;x!=null&&(this._length=v.CONTENTS.length,x.optimize(),x.formatAt(S,v.CONTENTS.length,g,T),this._length=0)}},{key:"index",value:function(g,T){return g===this.textNode?0:o(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"index",this).call(this,g,T)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){o(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!(this.selection.composing||this.parent==null)){var g=this.textNode,T=this.selection.getNativeRange(),x=void 0,S=void 0,A=void 0;if(T!=null&&T.start.node===g&&T.end.node===g){var C=[g,T.start.offset,T.end.offset];x=C[0],S=C[1],A=C[2]}for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==v.CONTENTS){var R=this.textNode.data.split(v.CONTENTS).join("");this.next instanceof h.default?(x=this.next.domNode,this.next.insertAt(0,R),this.textNode.data=v.CONTENTS):(this.textNode.data=R,this.parent.insertBefore(c.default.create(this.textNode),this),this.textNode=document.createTextNode(v.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),S!=null){var m=[S,A].map(function(O){return Math.max(0,Math.min(x.data.length,O-1))}),I=s(m,2);return S=I[0],A=I[1],{startNode:x,startOffset:S,endNode:x,endOffset:A}}}}},{key:"update",value:function(g,T){var x=this;if(g.some(function(A){return A.type==="characterData"&&A.target===x.textNode})){var S=this.restore();S&&(T.range=S)}}},{key:"value",value:function(){return""}}]),v})(c.default.Embed);E.blotName="cursor",E.className="ql-cursor",E.tagName="span",E.CONTENTS="\uFEFF",r.default=E}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(0),o=c(s),a=i(4),l=c(a);function c(w){return w&&w.__esModule?w:{default:w}}function f(w,b){if(!(w instanceof b))throw new TypeError("Cannot call a class as a function")}function h(w,b){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:w}function d(w,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);w.prototype=Object.create(b&&b.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(w,b):w.__proto__=b)}var p=(function(w){d(b,w);function b(){return f(this,b),h(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return b})(o.default.Container);p.allowedChildren=[l.default,a.BlockEmbed,p],r.default=p}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.ColorStyle=r.ColorClass=r.ColorAttributor=void 0;var s=(function(){function E(_,v){for(var y=0;y<v.length;y++){var g=v[y];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(_,g.key,g)}}return function(_,v,y){return v&&E(_.prototype,v),y&&E(_,y),_}})(),o=function E(_,v,y){_===null&&(_=Function.prototype);var g=Object.getOwnPropertyDescriptor(_,v);if(g===void 0){var T=Object.getPrototypeOf(_);return T===null?void 0:E(T,v,y)}else{if("value"in g)return g.value;var x=g.get;return x===void 0?void 0:x.call(y)}},a=i(0),l=c(a);function c(E){return E&&E.__esModule?E:{default:E}}function f(E,_){if(!(E instanceof _))throw new TypeError("Cannot call a class as a function")}function h(E,_){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:E}function d(E,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);E.prototype=Object.create(_&&_.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(E,_):E.__proto__=_)}var p=(function(E){d(_,E);function _(){return f(this,_),h(this,(_.__proto__||Object.getPrototypeOf(_)).apply(this,arguments))}return s(_,[{key:"value",value:function(y){var g=o(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"value",this).call(this,y);return g.startsWith("rgb(")?(g=g.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+g.split(",").map(function(T){return("00"+parseInt(T).toString(16)).slice(-2)}).join("")):g}}]),_})(l.default.Attributor.Style),w=new l.default.Attributor.Class("color","ql-color",{scope:l.default.Scope.INLINE}),b=new p("color","color",{scope:l.default.Scope.INLINE});r.ColorAttributor=p,r.ColorClass=w,r.ColorStyle=b}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.sanitize=r.default=void 0;var s=(function(){function b(E,_){for(var v=0;v<_.length;v++){var y=_[v];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(E,y.key,y)}}return function(E,_,v){return _&&b(E.prototype,_),v&&b(E,v),E}})(),o=function b(E,_,v){E===null&&(E=Function.prototype);var y=Object.getOwnPropertyDescriptor(E,_);if(y===void 0){var g=Object.getPrototypeOf(E);return g===null?void 0:b(g,_,v)}else{if("value"in y)return y.value;var T=y.get;return T===void 0?void 0:T.call(v)}},a=i(6),l=c(a);function c(b){return b&&b.__esModule?b:{default:b}}function f(b,E){if(!(b instanceof E))throw new TypeError("Cannot call a class as a function")}function h(b,E){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:b}function d(b,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);b.prototype=Object.create(E&&E.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(b,E):b.__proto__=E)}var p=(function(b){d(E,b);function E(){return f(this,E),h(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments))}return s(E,[{key:"format",value:function(v,y){if(v!==this.statics.blotName||!y)return o(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"format",this).call(this,v,y);y=this.constructor.sanitize(y),this.domNode.setAttribute("href",y)}}],[{key:"create",value:function(v){var y=o(E.__proto__||Object.getPrototypeOf(E),"create",this).call(this,v);return v=this.sanitize(v),y.setAttribute("href",v),y.setAttribute("rel","noopener noreferrer"),y.setAttribute("target","_blank"),y}},{key:"formats",value:function(v){return v.getAttribute("href")}},{key:"sanitize",value:function(v){return w(v,this.PROTOCOL_WHITELIST)?v:this.SANITIZED_URL}}]),E})(l.default);p.blotName="link",p.tagName="A",p.SANITIZED_URL="about:blank",p.PROTOCOL_WHITELIST=["http","https","mailto","tel"];function w(b,E){var _=document.createElement("a");_.href=b;var v=_.href.slice(0,_.href.indexOf(":"));return E.indexOf(v)>-1}r.default=p,r.sanitize=w}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(E){return typeof E}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E},o=(function(){function E(_,v){for(var y=0;y<v.length;y++){var g=v[y];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(_,g.key,g)}}return function(_,v,y){return v&&E(_.prototype,v),y&&E(_,y),_}})(),a=i(23),l=h(a),c=i(107),f=h(c);function h(E){return E&&E.__esModule?E:{default:E}}function d(E,_){if(!(E instanceof _))throw new TypeError("Cannot call a class as a function")}var p=0;function w(E,_){E.setAttribute(_,E.getAttribute(_)!=="true")}var b=(function(){function E(_){var v=this;d(this,E),this.select=_,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){v.togglePicker()}),this.label.addEventListener("keydown",function(y){switch(y.keyCode){case l.default.keys.ENTER:v.togglePicker();break;case l.default.keys.ESCAPE:v.escape(),y.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}return o(E,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),w(this.label,"aria-expanded"),w(this.options,"aria-hidden")}},{key:"buildItem",value:function(v){var y=this,g=document.createElement("span");return g.tabIndex="0",g.setAttribute("role","button"),g.classList.add("ql-picker-item"),v.hasAttribute("value")&&g.setAttribute("data-value",v.getAttribute("value")),v.textContent&&g.setAttribute("data-label",v.textContent),g.addEventListener("click",function(){y.selectItem(g,!0)}),g.addEventListener("keydown",function(T){switch(T.keyCode){case l.default.keys.ENTER:y.selectItem(g,!0),T.preventDefault();break;case l.default.keys.ESCAPE:y.escape(),T.preventDefault();break}}),g}},{key:"buildLabel",value:function(){var v=document.createElement("span");return v.classList.add("ql-picker-label"),v.innerHTML=f.default,v.tabIndex="0",v.setAttribute("role","button"),v.setAttribute("aria-expanded","false"),this.container.appendChild(v),v}},{key:"buildOptions",value:function(){var v=this,y=document.createElement("span");y.classList.add("ql-picker-options"),y.setAttribute("aria-hidden","true"),y.tabIndex="-1",y.id="ql-picker-options-"+p,p+=1,this.label.setAttribute("aria-controls",y.id),this.options=y,[].slice.call(this.select.options).forEach(function(g){var T=v.buildItem(g);y.appendChild(T),g.selected===!0&&v.selectItem(T)}),this.container.appendChild(y)}},{key:"buildPicker",value:function(){var v=this;[].slice.call(this.select.attributes).forEach(function(y){v.container.setAttribute(y.name,y.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var v=this;this.close(),setTimeout(function(){return v.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(v){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,g=this.container.querySelector(".ql-selected");if(v!==g&&(g?.classList.remove("ql-selected"),v!=null&&(v.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(v.parentNode.children,v),v.hasAttribute("data-value")?this.label.setAttribute("data-value",v.getAttribute("data-value")):this.label.removeAttribute("data-value"),v.hasAttribute("data-label")?this.label.setAttribute("data-label",v.getAttribute("data-label")):this.label.removeAttribute("data-label"),y))){if(typeof Event=="function")this.select.dispatchEvent(new Event("change"));else if((typeof Event>"u"?"undefined":s(Event))==="object"){var T=document.createEvent("Event");T.initEvent("change",!0,!0),this.select.dispatchEvent(T)}this.close()}}},{key:"update",value:function(){var v=void 0;if(this.select.selectedIndex>-1){var y=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];v=this.select.options[this.select.selectedIndex],this.selectItem(y)}else this.selectItem(null);var g=v!=null&&v!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",g)}}]),E})();r.default=b}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(0),o=H(s),a=i(5),l=H(a),c=i(4),f=H(c),h=i(16),d=H(h),p=i(25),w=H(p),b=i(24),E=H(b),_=i(35),v=H(_),y=i(6),g=H(y),T=i(22),x=H(T),S=i(7),A=H(S),C=i(55),R=H(C),m=i(42),I=H(m),O=i(23),L=H(O);function H(X){return X&&X.__esModule?X:{default:X}}l.default.register({"blots/block":f.default,"blots/block/embed":c.BlockEmbed,"blots/break":d.default,"blots/container":w.default,"blots/cursor":E.default,"blots/embed":v.default,"blots/inline":g.default,"blots/scroll":x.default,"blots/text":A.default,"modules/clipboard":R.default,"modules/history":I.default,"modules/keyboard":L.default}),o.default.register(f.default,d.default,E.default,g.default,x.default,A.default),r.default=l.default}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(1),o=(function(){function a(l){this.domNode=l,this.domNode[s.DATA_KEY]={blot:this}}return Object.defineProperty(a.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),a.create=function(l){if(this.tagName==null)throw new s.ParchmentError("Blot definition missing tagName");var c;return Array.isArray(this.tagName)?(typeof l=="string"&&(l=l.toUpperCase(),parseInt(l).toString()===l&&(l=parseInt(l))),typeof l=="number"?c=document.createElement(this.tagName[l-1]):this.tagName.indexOf(l)>-1?c=document.createElement(l):c=document.createElement(this.tagName[0])):c=document.createElement(this.tagName),this.className&&c.classList.add(this.className),c},a.prototype.attach=function(){this.parent!=null&&(this.scroll=this.parent.scroll)},a.prototype.clone=function(){var l=this.domNode.cloneNode(!1);return s.create(l)},a.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),delete this.domNode[s.DATA_KEY]},a.prototype.deleteAt=function(l,c){var f=this.isolate(l,c);f.remove()},a.prototype.formatAt=function(l,c,f,h){var d=this.isolate(l,c);if(s.query(f,s.Scope.BLOT)!=null&&h)d.wrap(f,h);else if(s.query(f,s.Scope.ATTRIBUTE)!=null){var p=s.create(this.statics.scope);d.wrap(p),p.format(f,h)}},a.prototype.insertAt=function(l,c,f){var h=f==null?s.create("text",c):s.create(c,f),d=this.split(l);this.parent.insertBefore(h,d)},a.prototype.insertInto=function(l,c){c===void 0&&(c=null),this.parent!=null&&this.parent.children.remove(this);var f=null;l.children.insertBefore(this,c),c!=null&&(f=c.domNode),(this.domNode.parentNode!=l.domNode||this.domNode.nextSibling!=f)&&l.domNode.insertBefore(this.domNode,f),this.parent=l,this.attach()},a.prototype.isolate=function(l,c){var f=this.split(l);return f.split(c),f},a.prototype.length=function(){return 1},a.prototype.offset=function(l){return l===void 0&&(l=this.parent),this.parent==null||this==l?0:this.parent.children.offset(this)+this.parent.offset(l)},a.prototype.optimize=function(l){this.domNode[s.DATA_KEY]!=null&&delete this.domNode[s.DATA_KEY].mutations},a.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},a.prototype.replace=function(l){l.parent!=null&&(l.parent.insertBefore(this,l.next),l.remove())},a.prototype.replaceWith=function(l,c){var f=typeof l=="string"?s.create(l,c):l;return f.replace(this),f},a.prototype.split=function(l,c){return l===0?this:this.next},a.prototype.update=function(l,c){},a.prototype.wrap=function(l,c){var f=typeof l=="string"?s.create(l,c):l;return this.parent!=null&&this.parent.insertBefore(f,this.next),f.appendChild(this),f},a.blotName="abstract",a})();r.default=o}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(12),o=i(32),a=i(33),l=i(1),c=(function(){function f(h){this.attributes={},this.domNode=h,this.build()}return f.prototype.attribute=function(h,d){d?h.add(this.domNode,d)&&(h.value(this.domNode)!=null?this.attributes[h.attrName]=h:delete this.attributes[h.attrName]):(h.remove(this.domNode),delete this.attributes[h.attrName])},f.prototype.build=function(){var h=this;this.attributes={};var d=s.default.keys(this.domNode),p=o.default.keys(this.domNode),w=a.default.keys(this.domNode);d.concat(p).concat(w).forEach(function(b){var E=l.query(b,l.Scope.ATTRIBUTE);E instanceof s.default&&(h.attributes[E.attrName]=E)})},f.prototype.copy=function(h){var d=this;Object.keys(this.attributes).forEach(function(p){var w=d.attributes[p].value(d.domNode);h.format(p,w)})},f.prototype.move=function(h){var d=this;this.copy(h),Object.keys(this.attributes).forEach(function(p){d.attributes[p].remove(d.domNode)}),this.attributes={}},f.prototype.values=function(){var h=this;return Object.keys(this.attributes).reduce(function(d,p){return d[p]=h.attributes[p].value(h.domNode),d},{})},f})();r.default=c}),(function(n,r,i){var s=this&&this.__extends||(function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,h){f.__proto__=h}||function(f,h){for(var d in h)h.hasOwnProperty(d)&&(f[d]=h[d])};return function(f,h){c(f,h);function d(){this.constructor=f}f.prototype=h===null?Object.create(h):(d.prototype=h.prototype,new d)}})();Object.defineProperty(r,"__esModule",{value:!0});var o=i(12);function a(c,f){var h=c.getAttribute("class")||"";return h.split(/\s+/).filter(function(d){return d.indexOf(f+"-")===0})}var l=(function(c){s(f,c);function f(){return c!==null&&c.apply(this,arguments)||this}return f.keys=function(h){return(h.getAttribute("class")||"").split(/\s+/).map(function(d){return d.split("-").slice(0,-1).join("-")})},f.prototype.add=function(h,d){return this.canAdd(h,d)?(this.remove(h),h.classList.add(this.keyName+"-"+d),!0):!1},f.prototype.remove=function(h){var d=a(h,this.keyName);d.forEach(function(p){h.classList.remove(p)}),h.classList.length===0&&h.removeAttribute("class")},f.prototype.value=function(h){var d=a(h,this.keyName)[0]||"",p=d.slice(this.keyName.length+1);return this.canAdd(h,p)?p:""},f})(o.default);r.default=l}),(function(n,r,i){var s=this&&this.__extends||(function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,h){f.__proto__=h}||function(f,h){for(var d in h)h.hasOwnProperty(d)&&(f[d]=h[d])};return function(f,h){c(f,h);function d(){this.constructor=f}f.prototype=h===null?Object.create(h):(d.prototype=h.prototype,new d)}})();Object.defineProperty(r,"__esModule",{value:!0});var o=i(12);function a(c){var f=c.split("-"),h=f.slice(1).map(function(d){return d[0].toUpperCase()+d.slice(1)}).join("");return f[0]+h}var l=(function(c){s(f,c);function f(){return c!==null&&c.apply(this,arguments)||this}return f.keys=function(h){return(h.getAttribute("style")||"").split(";").map(function(d){var p=d.split(":");return p[0].trim()})},f.prototype.add=function(h,d){return this.canAdd(h,d)?(h.style[a(this.keyName)]=d,!0):!1},f.prototype.remove=function(h){h.style[a(this.keyName)]="",h.getAttribute("style")||h.removeAttribute("style")},f.prototype.value=function(h){var d=h.style[a(this.keyName)];return this.canAdd(h,d)?d:""},f})(o.default);r.default=l}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=(function(){function l(c,f){for(var h=0;h<f.length;h++){var d=f[h];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(c,d.key,d)}}return function(c,f,h){return f&&l(c.prototype,f),h&&l(c,h),c}})();function o(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}var a=(function(){function l(c,f){o(this,l),this.quill=c,this.options=f,this.modules={}}return s(l,[{key:"init",value:function(){var f=this;Object.keys(this.options.modules).forEach(function(h){f.modules[h]==null&&f.addModule(h)})}},{key:"addModule",value:function(f){var h=this.quill.constructor.import("modules/"+f);return this.modules[f]=new h(this.quill,this.options.modules[f]||{}),this.modules[f]}}]),l})();a.DEFAULTS={modules:{}},a.themes={default:a},r.default=a}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=(function(){function _(v,y){for(var g=0;g<y.length;g++){var T=y[g];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(v,T.key,T)}}return function(v,y,g){return y&&_(v.prototype,y),g&&_(v,g),v}})(),o=function _(v,y,g){v===null&&(v=Function.prototype);var T=Object.getOwnPropertyDescriptor(v,y);if(T===void 0){var x=Object.getPrototypeOf(v);return x===null?void 0:_(x,y,g)}else{if("value"in T)return T.value;var S=T.get;return S===void 0?void 0:S.call(g)}},a=i(0),l=h(a),c=i(7),f=h(c);function h(_){return _&&_.__esModule?_:{default:_}}function d(_,v){if(!(_ instanceof v))throw new TypeError("Cannot call a class as a function")}function p(_,v){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:_}function w(_,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);_.prototype=Object.create(v&&v.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(_,v):_.__proto__=v)}var b="\uFEFF",E=(function(_){w(v,_);function v(y){d(this,v);var g=p(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,y));return g.contentNode=document.createElement("span"),g.contentNode.setAttribute("contenteditable",!1),[].slice.call(g.domNode.childNodes).forEach(function(T){g.contentNode.appendChild(T)}),g.leftGuard=document.createTextNode(b),g.rightGuard=document.createTextNode(b),g.domNode.appendChild(g.leftGuard),g.domNode.appendChild(g.contentNode),g.domNode.appendChild(g.rightGuard),g}return s(v,[{key:"index",value:function(g,T){return g===this.leftGuard?0:g===this.rightGuard?1:o(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"index",this).call(this,g,T)}},{key:"restore",value:function(g){var T=void 0,x=void 0,S=g.data.split(b).join("");if(g===this.leftGuard)if(this.prev instanceof f.default){var A=this.prev.length();this.prev.insertAt(A,S),T={startNode:this.prev.domNode,startOffset:A+S.length}}else x=document.createTextNode(S),this.parent.insertBefore(l.default.create(x),this),T={startNode:x,startOffset:S.length};else g===this.rightGuard&&(this.next instanceof f.default?(this.next.insertAt(0,S),T={startNode:this.next.domNode,startOffset:S.length}):(x=document.createTextNode(S),this.parent.insertBefore(l.default.create(x),this.next),T={startNode:x,startOffset:S.length}));return g.data=b,T}},{key:"update",value:function(g,T){var x=this;g.forEach(function(S){if(S.type==="characterData"&&(S.target===x.leftGuard||S.target===x.rightGuard)){var A=x.restore(S.target);A&&(T.range=A)}})}}]),v})(l.default.Embed);r.default=E}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.AlignStyle=r.AlignClass=r.AlignAttribute=void 0;var s=i(0),o=a(s);function a(d){return d&&d.__esModule?d:{default:d}}var l={scope:o.default.Scope.BLOCK,whitelist:["right","center","justify"]},c=new o.default.Attributor.Attribute("align","align",l),f=new o.default.Attributor.Class("align","ql-align",l),h=new o.default.Attributor.Style("align","text-align",l);r.AlignAttribute=c,r.AlignClass=f,r.AlignStyle=h}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.BackgroundStyle=r.BackgroundClass=void 0;var s=i(0),o=l(s),a=i(26);function l(h){return h&&h.__esModule?h:{default:h}}var c=new o.default.Attributor.Class("background","ql-bg",{scope:o.default.Scope.INLINE}),f=new a.ColorAttributor("background","background-color",{scope:o.default.Scope.INLINE});r.BackgroundClass=c,r.BackgroundStyle=f}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.DirectionStyle=r.DirectionClass=r.DirectionAttribute=void 0;var s=i(0),o=a(s);function a(d){return d&&d.__esModule?d:{default:d}}var l={scope:o.default.Scope.BLOCK,whitelist:["rtl"]},c=new o.default.Attributor.Attribute("direction","dir",l),f=new o.default.Attributor.Class("direction","ql-direction",l),h=new o.default.Attributor.Style("direction","direction",l);r.DirectionAttribute=c,r.DirectionClass=f,r.DirectionStyle=h}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.FontClass=r.FontStyle=void 0;var s=(function(){function _(v,y){for(var g=0;g<y.length;g++){var T=y[g];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(v,T.key,T)}}return function(v,y,g){return y&&_(v.prototype,y),g&&_(v,g),v}})(),o=function _(v,y,g){v===null&&(v=Function.prototype);var T=Object.getOwnPropertyDescriptor(v,y);if(T===void 0){var x=Object.getPrototypeOf(v);return x===null?void 0:_(x,y,g)}else{if("value"in T)return T.value;var S=T.get;return S===void 0?void 0:S.call(g)}},a=i(0),l=c(a);function c(_){return _&&_.__esModule?_:{default:_}}function f(_,v){if(!(_ instanceof v))throw new TypeError("Cannot call a class as a function")}function h(_,v){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:_}function d(_,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);_.prototype=Object.create(v&&v.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(_,v):_.__proto__=v)}var p={scope:l.default.Scope.INLINE,whitelist:["serif","monospace"]},w=new l.default.Attributor.Class("font","ql-font",p),b=(function(_){d(v,_);function v(){return f(this,v),h(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return s(v,[{key:"value",value:function(g){return o(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"value",this).call(this,g).replace(/["']/g,"")}}]),v})(l.default.Attributor.Style),E=new b("font","font-family",p);r.FontStyle=E,r.FontClass=w}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SizeStyle=r.SizeClass=void 0;var s=i(0),o=a(s);function a(f){return f&&f.__esModule?f:{default:f}}var l=new o.default.Attributor.Class("size","ql-size",{scope:o.default.Scope.INLINE,whitelist:["small","large","huge"]}),c=new o.default.Attributor.Style("size","font-size",{scope:o.default.Scope.INLINE,whitelist:["10px","18px","32px"]});r.SizeClass=l,r.SizeStyle=c}),(function(n,r,i){n.exports={align:{"":i(76),center:i(77),right:i(78),justify:i(79)},background:i(80),blockquote:i(81),bold:i(82),clean:i(83),code:i(58),"code-block":i(58),color:i(84),direction:{"":i(85),rtl:i(86)},float:{center:i(87),full:i(88),left:i(89),right:i(90)},formula:i(91),header:{1:i(92),2:i(93)},italic:i(94),image:i(95),indent:{"+1":i(96),"-1":i(97)},link:i(98),list:{ordered:i(99),bullet:i(100),check:i(101)},script:{sub:i(102),super:i(103)},strike:i(104),underline:i(105),video:i(106)}}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.getLastChangeIndex=r.default=void 0;var s=(function(){function y(g,T){for(var x=0;x<T.length;x++){var S=T[x];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(g,S.key,S)}}return function(g,T,x){return T&&y(g.prototype,T),x&&y(g,x),g}})(),o=i(0),a=d(o),l=i(5),c=d(l),f=i(9),h=d(f);function d(y){return y&&y.__esModule?y:{default:y}}function p(y,g){if(!(y instanceof g))throw new TypeError("Cannot call a class as a function")}function w(y,g){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:y}function b(y,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);y.prototype=Object.create(g&&g.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(y,g):y.__proto__=g)}var E=(function(y){b(g,y);function g(T,x){p(this,g);var S=w(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,T,x));return S.lastRecorded=0,S.ignoreChange=!1,S.clear(),S.quill.on(c.default.events.EDITOR_CHANGE,function(A,C,R,m){A!==c.default.events.TEXT_CHANGE||S.ignoreChange||(!S.options.userOnly||m===c.default.sources.USER?S.record(C,R):S.transform(C))}),S.quill.keyboard.addBinding({key:"Z",shortKey:!0},S.undo.bind(S)),S.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},S.redo.bind(S)),/Win/i.test(navigator.platform)&&S.quill.keyboard.addBinding({key:"Y",shortKey:!0},S.redo.bind(S)),S}return s(g,[{key:"change",value:function(x,S){if(this.stack[x].length!==0){var A=this.stack[x].pop();this.stack[S].push(A),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(A[x],c.default.sources.USER),this.ignoreChange=!1;var C=v(A[x]);this.quill.setSelection(C)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(x,S){if(x.ops.length!==0){this.stack.redo=[];var A=this.quill.getContents().diff(S),C=Date.now();if(this.lastRecorded+this.options.delay>C&&this.stack.undo.length>0){var R=this.stack.undo.pop();A=A.compose(R.undo),x=R.redo.compose(x)}else this.lastRecorded=C;this.stack.undo.push({redo:x,undo:A}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(x){this.stack.undo.forEach(function(S){S.undo=x.transform(S.undo,!0),S.redo=x.transform(S.redo,!0)}),this.stack.redo.forEach(function(S){S.undo=x.transform(S.undo,!0),S.redo=x.transform(S.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),g})(h.default);E.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};function _(y){var g=y.ops[y.ops.length-1];return g==null?!1:g.insert!=null?typeof g.insert=="string"&&g.insert.endsWith(`
`):g.attributes!=null?Object.keys(g.attributes).some(function(T){return a.default.query(T,a.default.Scope.BLOCK)!=null}):!1}function v(y){var g=y.reduce(function(x,S){return x+=S.delete||0,x},0),T=y.length()-g;return _(y)&&(T-=1),T}r.default=E,r.getLastChangeIndex=v}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BaseTooltip=void 0;var s=(function(){function j(z,ne){for(var G=0;G<ne.length;G++){var F=ne[G];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(z,F.key,F)}}return function(z,ne,G){return ne&&j(z.prototype,ne),G&&j(z,G),z}})(),o=function j(z,ne,G){z===null&&(z=Function.prototype);var F=Object.getOwnPropertyDescriptor(z,ne);if(F===void 0){var V=Object.getPrototypeOf(z);return V===null?void 0:j(V,ne,G)}else{if("value"in F)return F.value;var $=F.get;return $===void 0?void 0:$.call(G)}},a=i(3),l=C(a),c=i(2),f=C(c),h=i(8),d=C(h),p=i(23),w=C(p),b=i(34),E=C(b),_=i(59),v=C(_),y=i(60),g=C(y),T=i(28),x=C(T),S=i(61),A=C(S);function C(j){return j&&j.__esModule?j:{default:j}}function R(j,z){if(!(j instanceof z))throw new TypeError("Cannot call a class as a function")}function m(j,z){if(!j)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return z&&(typeof z=="object"||typeof z=="function")?z:j}function I(j,z){if(typeof z!="function"&&z!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof z);j.prototype=Object.create(z&&z.prototype,{constructor:{value:j,enumerable:!1,writable:!0,configurable:!0}}),z&&(Object.setPrototypeOf?Object.setPrototypeOf(j,z):j.__proto__=z)}var O=[!1,"center","right","justify"],L=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],H=[!1,"serif","monospace"],X=["1","2","3",!1],Y=["small",!1,"large","huge"],le=(function(j){I(z,j);function z(ne,G){R(this,z);var F=m(this,(z.__proto__||Object.getPrototypeOf(z)).call(this,ne,G)),V=function $(Q){if(!document.body.contains(ne.root))return document.body.removeEventListener("click",$);F.tooltip!=null&&!F.tooltip.root.contains(Q.target)&&document.activeElement!==F.tooltip.textbox&&!F.quill.hasFocus()&&F.tooltip.hide(),F.pickers!=null&&F.pickers.forEach(function(se){se.container.contains(Q.target)||se.close()})};return ne.emitter.listenDOM("click",document.body,V),F}return s(z,[{key:"addModule",value:function(G){var F=o(z.prototype.__proto__||Object.getPrototypeOf(z.prototype),"addModule",this).call(this,G);return G==="toolbar"&&this.extendToolbar(F),F}},{key:"buildButtons",value:function(G,F){G.forEach(function(V){var $=V.getAttribute("class")||"";$.split(/\s+/).forEach(function(Q){if(Q.startsWith("ql-")&&(Q=Q.slice(3),F[Q]!=null))if(Q==="direction")V.innerHTML=F[Q][""]+F[Q].rtl;else if(typeof F[Q]=="string")V.innerHTML=F[Q];else{var se=V.value||"";se!=null&&F[Q][se]&&(V.innerHTML=F[Q][se])}})})}},{key:"buildPickers",value:function(G,F){var V=this;this.pickers=G.map(function(Q){if(Q.classList.contains("ql-align"))return Q.querySelector("option")==null&&D(Q,O),new g.default(Q,F.align);if(Q.classList.contains("ql-background")||Q.classList.contains("ql-color")){var se=Q.classList.contains("ql-background")?"background":"color";return Q.querySelector("option")==null&&D(Q,L,se==="background"?"#ffffff":"#000000"),new v.default(Q,F[se])}else return Q.querySelector("option")==null&&(Q.classList.contains("ql-font")?D(Q,H):Q.classList.contains("ql-header")?D(Q,X):Q.classList.contains("ql-size")&&D(Q,Y)),new x.default(Q)});var $=function(){V.pickers.forEach(function(se){se.update()})};this.quill.on(d.default.events.EDITOR_CHANGE,$)}}]),z})(E.default);le.DEFAULTS=(0,l.default)(!0,{},E.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var z=this,ne=this.container.querySelector("input.ql-image[type=file]");ne==null&&(ne=document.createElement("input"),ne.setAttribute("type","file"),ne.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),ne.classList.add("ql-image"),ne.addEventListener("change",function(){if(ne.files!=null&&ne.files[0]!=null){var G=new FileReader;G.onload=function(F){var V=z.quill.getSelection(!0);z.quill.updateContents(new f.default().retain(V.index).delete(V.length).insert({image:F.target.result}),d.default.sources.USER),z.quill.setSelection(V.index+1,d.default.sources.SILENT),ne.value=""},G.readAsDataURL(ne.files[0])}}),this.container.appendChild(ne)),ne.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var Z=(function(j){I(z,j);function z(ne,G){R(this,z);var F=m(this,(z.__proto__||Object.getPrototypeOf(z)).call(this,ne,G));return F.textbox=F.root.querySelector('input[type="text"]'),F.listen(),F}return s(z,[{key:"listen",value:function(){var G=this;this.textbox.addEventListener("keydown",function(F){w.default.match(F,"enter")?(G.save(),F.preventDefault()):w.default.match(F,"escape")&&(G.cancel(),F.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var G=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),F!=null?this.textbox.value=F:G!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+G)||""),this.root.setAttribute("data-mode",G)}},{key:"restoreFocus",value:function(){var G=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=G}},{key:"save",value:function(){var G=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":{var F=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",G,d.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",G,d.default.sources.USER)),this.quill.root.scrollTop=F;break}case"video":G=q(G);case"formula":{if(!G)break;var V=this.quill.getSelection(!0);if(V!=null){var $=V.index+V.length;this.quill.insertEmbed($,this.root.getAttribute("data-mode"),G,d.default.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText($+1," ",d.default.sources.USER),this.quill.setSelection($+2,d.default.sources.USER)}break}}this.textbox.value="",this.hide()}}]),z})(A.default);function q(j){var z=j.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||j.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return z?(z[1]||"https")+"://www.youtube.com/embed/"+z[2]+"?showinfo=0":(z=j.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(z[1]||"https")+"://player.vimeo.com/video/"+z[2]+"/":j}function D(j,z){var ne=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;z.forEach(function(G){var F=document.createElement("option");G===ne?F.setAttribute("selected","selected"):F.setAttribute("value",G),j.appendChild(F)})}r.BaseTooltip=Z,r.default=le}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=(function(){function o(){this.head=this.tail=null,this.length=0}return o.prototype.append=function(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];this.insertBefore(a[0],null),a.length>1&&this.append.apply(this,a.slice(1))},o.prototype.contains=function(a){for(var l,c=this.iterator();l=c();)if(l===a)return!0;return!1},o.prototype.insertBefore=function(a,l){a&&(a.next=l,l!=null?(a.prev=l.prev,l.prev!=null&&(l.prev.next=a),l.prev=a,l===this.head&&(this.head=a)):this.tail!=null?(this.tail.next=a,a.prev=this.tail,this.tail=a):(a.prev=null,this.head=this.tail=a),this.length+=1)},o.prototype.offset=function(a){for(var l=0,c=this.head;c!=null;){if(c===a)return l;l+=c.length(),c=c.next}return-1},o.prototype.remove=function(a){this.contains(a)&&(a.prev!=null&&(a.prev.next=a.next),a.next!=null&&(a.next.prev=a.prev),a===this.head&&(this.head=a.next),a===this.tail&&(this.tail=a.prev),this.length-=1)},o.prototype.iterator=function(a){return a===void 0&&(a=this.head),function(){var l=a;return a!=null&&(a=a.next),l}},o.prototype.find=function(a,l){l===void 0&&(l=!1);for(var c,f=this.iterator();c=f();){var h=c.length();if(a<h||l&&a===h&&(c.next==null||c.next.length()!==0))return[c,a];a-=h}return[null,0]},o.prototype.forEach=function(a){for(var l,c=this.iterator();l=c();)a(l)},o.prototype.forEachAt=function(a,l,c){if(!(l<=0))for(var f=this.find(a),h=f[0],d=f[1],p,w=a-d,b=this.iterator(h);(p=b())&&w<a+l;){var E=p.length();a>w?c(p,a-w,Math.min(l,w+E-a)):c(p,0,Math.min(E,a+l-w)),w+=E}},o.prototype.map=function(a){return this.reduce(function(l,c){return l.push(a(c)),l},[])},o.prototype.reduce=function(a,l){for(var c,f=this.iterator();c=f();)l=a(l,c);return l},o})();r.default=s}),(function(n,r,i){var s=this&&this.__extends||(function(){var h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,p){d.__proto__=p}||function(d,p){for(var w in p)p.hasOwnProperty(w)&&(d[w]=p[w])};return function(d,p){h(d,p);function w(){this.constructor=d}d.prototype=p===null?Object.create(p):(w.prototype=p.prototype,new w)}})();Object.defineProperty(r,"__esModule",{value:!0});var o=i(17),a=i(1),l={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},c=100,f=(function(h){s(d,h);function d(p){var w=h.call(this,p)||this;return w.scroll=w,w.observer=new MutationObserver(function(b){w.update(b)}),w.observer.observe(w.domNode,l),w.attach(),w}return d.prototype.detach=function(){h.prototype.detach.call(this),this.observer.disconnect()},d.prototype.deleteAt=function(p,w){this.update(),p===0&&w===this.length()?this.children.forEach(function(b){b.remove()}):h.prototype.deleteAt.call(this,p,w)},d.prototype.formatAt=function(p,w,b,E){this.update(),h.prototype.formatAt.call(this,p,w,b,E)},d.prototype.insertAt=function(p,w,b){this.update(),h.prototype.insertAt.call(this,p,w,b)},d.prototype.optimize=function(p,w){var b=this;p===void 0&&(p=[]),w===void 0&&(w={}),h.prototype.optimize.call(this,w);for(var E=[].slice.call(this.observer.takeRecords());E.length>0;)p.push(E.pop());for(var _=function(T,x){x===void 0&&(x=!0),!(T==null||T===b)&&T.domNode.parentNode!=null&&(T.domNode[a.DATA_KEY].mutations==null&&(T.domNode[a.DATA_KEY].mutations=[]),x&&_(T.parent))},v=function(T){T.domNode[a.DATA_KEY]==null||T.domNode[a.DATA_KEY].mutations==null||(T instanceof o.default&&T.children.forEach(v),T.optimize(w))},y=p,g=0;y.length>0;g+=1){if(g>=c)throw new Error("[Parchment] Maximum optimize iterations reached");for(y.forEach(function(T){var x=a.find(T.target,!0);x!=null&&(x.domNode===T.target&&(T.type==="childList"?(_(a.find(T.previousSibling,!1)),[].forEach.call(T.addedNodes,function(S){var A=a.find(S,!1);_(A,!1),A instanceof o.default&&A.children.forEach(function(C){_(C,!1)})})):T.type==="attributes"&&_(x.prev)),_(x))}),this.children.forEach(v),y=[].slice.call(this.observer.takeRecords()),E=y.slice();E.length>0;)p.push(E.pop())}},d.prototype.update=function(p,w){var b=this;w===void 0&&(w={}),p=p||this.observer.takeRecords(),p.map(function(E){var _=a.find(E.target,!0);return _==null?null:_.domNode[a.DATA_KEY].mutations==null?(_.domNode[a.DATA_KEY].mutations=[E],_):(_.domNode[a.DATA_KEY].mutations.push(E),null)}).forEach(function(E){E==null||E===b||E.domNode[a.DATA_KEY]==null||E.update(E.domNode[a.DATA_KEY].mutations||[],w)}),this.domNode[a.DATA_KEY].mutations!=null&&h.prototype.update.call(this,this.domNode[a.DATA_KEY].mutations,w),this.optimize(p,w)},d.blotName="scroll",d.defaultChild="block",d.scope=a.Scope.BLOCK_BLOT,d.tagName="DIV",d})(o.default);r.default=f}),(function(n,r,i){var s=this&&this.__extends||(function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,d){h.__proto__=d}||function(h,d){for(var p in d)d.hasOwnProperty(p)&&(h[p]=d[p])};return function(h,d){f(h,d);function p(){this.constructor=h}h.prototype=d===null?Object.create(d):(p.prototype=d.prototype,new p)}})();Object.defineProperty(r,"__esModule",{value:!0});var o=i(18),a=i(1);function l(f,h){if(Object.keys(f).length!==Object.keys(h).length)return!1;for(var d in f)if(f[d]!==h[d])return!1;return!0}var c=(function(f){s(h,f);function h(){return f!==null&&f.apply(this,arguments)||this}return h.formats=function(d){if(d.tagName!==h.tagName)return f.formats.call(this,d)},h.prototype.format=function(d,p){var w=this;d===this.statics.blotName&&!p?(this.children.forEach(function(b){b instanceof o.default||(b=b.wrap(h.blotName,!0)),w.attributes.copy(b)}),this.unwrap()):f.prototype.format.call(this,d,p)},h.prototype.formatAt=function(d,p,w,b){if(this.formats()[w]!=null||a.query(w,a.Scope.ATTRIBUTE)){var E=this.isolate(d,p);E.format(w,b)}else f.prototype.formatAt.call(this,d,p,w,b)},h.prototype.optimize=function(d){f.prototype.optimize.call(this,d);var p=this.formats();if(Object.keys(p).length===0)return this.unwrap();var w=this.next;w instanceof h&&w.prev===this&&l(p,w.formats())&&(w.moveChildren(this),w.remove())},h.blotName="inline",h.scope=a.Scope.INLINE_BLOT,h.tagName="SPAN",h})(o.default);r.default=c}),(function(n,r,i){var s=this&&this.__extends||(function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,h){f.__proto__=h}||function(f,h){for(var d in h)h.hasOwnProperty(d)&&(f[d]=h[d])};return function(f,h){c(f,h);function d(){this.constructor=f}f.prototype=h===null?Object.create(h):(d.prototype=h.prototype,new d)}})();Object.defineProperty(r,"__esModule",{value:!0});var o=i(18),a=i(1),l=(function(c){s(f,c);function f(){return c!==null&&c.apply(this,arguments)||this}return f.formats=function(h){var d=a.query(f.blotName).tagName;if(h.tagName!==d)return c.formats.call(this,h)},f.prototype.format=function(h,d){a.query(h,a.Scope.BLOCK)!=null&&(h===this.statics.blotName&&!d?this.replaceWith(f.blotName):c.prototype.format.call(this,h,d))},f.prototype.formatAt=function(h,d,p,w){a.query(p,a.Scope.BLOCK)!=null?this.format(p,w):c.prototype.formatAt.call(this,h,d,p,w)},f.prototype.insertAt=function(h,d,p){if(p==null||a.query(d,a.Scope.INLINE)!=null)c.prototype.insertAt.call(this,h,d,p);else{var w=this.split(h),b=a.create(d,p);w.parent.insertBefore(b,w)}},f.prototype.update=function(h,d){navigator.userAgent.match(/Trident/)?this.build():c.prototype.update.call(this,h,d)},f.blotName="block",f.scope=a.Scope.BLOCK_BLOT,f.tagName="P",f})(o.default);r.default=l}),(function(n,r,i){var s=this&&this.__extends||(function(){var l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,f){c.__proto__=f}||function(c,f){for(var h in f)f.hasOwnProperty(h)&&(c[h]=f[h])};return function(c,f){l(c,f);function h(){this.constructor=c}c.prototype=f===null?Object.create(f):(h.prototype=f.prototype,new h)}})();Object.defineProperty(r,"__esModule",{value:!0});var o=i(19),a=(function(l){s(c,l);function c(){return l!==null&&l.apply(this,arguments)||this}return c.formats=function(f){},c.prototype.format=function(f,h){l.prototype.formatAt.call(this,0,this.length(),f,h)},c.prototype.formatAt=function(f,h,d,p){f===0&&h===this.length()?this.format(d,p):l.prototype.formatAt.call(this,f,h,d,p)},c.prototype.formats=function(){return this.statics.formats(this.domNode)},c})(o.default);r.default=a}),(function(n,r,i){var s=this&&this.__extends||(function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,h){f.__proto__=h}||function(f,h){for(var d in h)h.hasOwnProperty(d)&&(f[d]=h[d])};return function(f,h){c(f,h);function d(){this.constructor=f}f.prototype=h===null?Object.create(h):(d.prototype=h.prototype,new d)}})();Object.defineProperty(r,"__esModule",{value:!0});var o=i(19),a=i(1),l=(function(c){s(f,c);function f(h){var d=c.call(this,h)||this;return d.text=d.statics.value(d.domNode),d}return f.create=function(h){return document.createTextNode(h)},f.value=function(h){var d=h.data;return d.normalize&&(d=d.normalize()),d},f.prototype.deleteAt=function(h,d){this.domNode.data=this.text=this.text.slice(0,h)+this.text.slice(h+d)},f.prototype.index=function(h,d){return this.domNode===h?d:-1},f.prototype.insertAt=function(h,d,p){p==null?(this.text=this.text.slice(0,h)+d+this.text.slice(h),this.domNode.data=this.text):c.prototype.insertAt.call(this,h,d,p)},f.prototype.length=function(){return this.text.length},f.prototype.optimize=function(h){c.prototype.optimize.call(this,h),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof f&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},f.prototype.position=function(h,d){return[this.domNode,h]},f.prototype.split=function(h,d){if(d===void 0&&(d=!1),!d){if(h===0)return this;if(h===this.length())return this.next}var p=a.create(this.domNode.splitText(h));return this.parent.insertBefore(p,this.next),this.text=this.statics.value(this.domNode),p},f.prototype.update=function(h,d){var p=this;h.some(function(w){return w.type==="characterData"&&w.target===p.domNode})&&(this.text=this.statics.value(this.domNode))},f.prototype.value=function(){return this.text},f.blotName="text",f.scope=a.Scope.INLINE_BLOT,f})(o.default);r.default=l}),(function(n,r,i){var s=document.createElement("div");if(s.classList.toggle("test-class",!1),s.classList.contains("test-class")){var o=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(a,l){return arguments.length>1&&!this.contains(a)==!l?l:o.call(this,a)}}String.prototype.startsWith||(String.prototype.startsWith=function(a,l){return l=l||0,this.substr(l,a.length)===a}),String.prototype.endsWith||(String.prototype.endsWith=function(a,l){var c=this.toString();(typeof l!="number"||!isFinite(l)||Math.floor(l)!==l||l>c.length)&&(l=c.length),l-=a.length;var f=c.indexOf(a,l);return f!==-1&&f===l}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(l){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof l!="function")throw new TypeError("predicate must be a function");for(var c=Object(this),f=c.length>>>0,h=arguments[1],d,p=0;p<f;p++)if(d=c[p],l.call(h,d,p,c))return d}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})}),(function(n,r){var i=-1,s=1,o=0;function a(g,T,x){if(g==T)return g?[[o,g]]:[];(x<0||g.length<x)&&(x=null);var S=h(g,T),A=g.substring(0,S);g=g.substring(S),T=T.substring(S),S=d(g,T);var C=g.substring(g.length-S);g=g.substring(0,g.length-S),T=T.substring(0,T.length-S);var R=l(g,T);return A&&R.unshift([o,A]),C&&R.push([o,C]),w(R),x!=null&&(R=_(R,x)),R=v(R),R}function l(g,T){var x;if(!g)return[[s,T]];if(!T)return[[i,g]];var S=g.length>T.length?g:T,A=g.length>T.length?T:g,C=S.indexOf(A);if(C!=-1)return x=[[s,S.substring(0,C)],[o,A],[s,S.substring(C+A.length)]],g.length>T.length&&(x[0][0]=x[2][0]=i),x;if(A.length==1)return[[i,g],[s,T]];var R=p(g,T);if(R){var m=R[0],I=R[1],O=R[2],L=R[3],H=R[4],X=a(m,O),Y=a(I,L);return X.concat([[o,H]],Y)}return c(g,T)}function c(g,T){for(var x=g.length,S=T.length,A=Math.ceil((x+S)/2),C=A,R=2*A,m=new Array(R),I=new Array(R),O=0;O<R;O++)m[O]=-1,I[O]=-1;m[C+1]=0,I[C+1]=0;for(var L=x-S,H=L%2!=0,X=0,Y=0,le=0,Z=0,q=0;q<A;q++){for(var D=-q+X;D<=q-Y;D+=2){var j=C+D,z;D==-q||D!=q&&m[j-1]<m[j+1]?z=m[j+1]:z=m[j-1]+1;for(var ne=z-D;z<x&&ne<S&&g.charAt(z)==T.charAt(ne);)z++,ne++;if(m[j]=z,z>x)Y+=2;else if(ne>S)X+=2;else if(H){var G=C+L-D;if(G>=0&&G<R&&I[G]!=-1){var F=x-I[G];if(z>=F)return f(g,T,z,ne)}}}for(var V=-q+le;V<=q-Z;V+=2){var G=C+V,F;V==-q||V!=q&&I[G-1]<I[G+1]?F=I[G+1]:F=I[G-1]+1;for(var $=F-V;F<x&&$<S&&g.charAt(x-F-1)==T.charAt(S-$-1);)F++,$++;if(I[G]=F,F>x)Z+=2;else if($>S)le+=2;else if(!H){var j=C+L-V;if(j>=0&&j<R&&m[j]!=-1){var z=m[j],ne=C+z-j;if(F=x-F,z>=F)return f(g,T,z,ne)}}}}return[[i,g],[s,T]]}function f(g,T,x,S){var A=g.substring(0,x),C=T.substring(0,S),R=g.substring(x),m=T.substring(S),I=a(A,C),O=a(R,m);return I.concat(O)}function h(g,T){if(!g||!T||g.charAt(0)!=T.charAt(0))return 0;for(var x=0,S=Math.min(g.length,T.length),A=S,C=0;x<A;)g.substring(C,A)==T.substring(C,A)?(x=A,C=x):S=A,A=Math.floor((S-x)/2+x);return A}function d(g,T){if(!g||!T||g.charAt(g.length-1)!=T.charAt(T.length-1))return 0;for(var x=0,S=Math.min(g.length,T.length),A=S,C=0;x<A;)g.substring(g.length-A,g.length-C)==T.substring(T.length-A,T.length-C)?(x=A,C=x):S=A,A=Math.floor((S-x)/2+x);return A}function p(g,T){var x=g.length>T.length?g:T,S=g.length>T.length?T:g;if(x.length<4||S.length*2<x.length)return null;function A(Y,le,Z){for(var q=Y.substring(Z,Z+Math.floor(Y.length/4)),D=-1,j="",z,ne,G,F;(D=le.indexOf(q,D+1))!=-1;){var V=h(Y.substring(Z),le.substring(D)),$=d(Y.substring(0,Z),le.substring(0,D));j.length<$+V&&(j=le.substring(D-$,D)+le.substring(D,D+V),z=Y.substring(0,Z-$),ne=Y.substring(Z+V),G=le.substring(0,D-$),F=le.substring(D+V))}return j.length*2>=Y.length?[z,ne,G,F,j]:null}var C=A(x,S,Math.ceil(x.length/4)),R=A(x,S,Math.ceil(x.length/2)),m;if(!C&&!R)return null;R?C?m=C[4].length>R[4].length?C:R:m=R:m=C;var I,O,L,H;g.length>T.length?(I=m[0],O=m[1],L=m[2],H=m[3]):(L=m[0],H=m[1],I=m[2],O=m[3]);var X=m[4];return[I,O,L,H,X]}function w(g){g.push([o,""]);for(var T=0,x=0,S=0,A="",C="",R;T<g.length;)switch(g[T][0]){case s:S++,C+=g[T][1],T++;break;case i:x++,A+=g[T][1],T++;break;case o:x+S>1?(x!==0&&S!==0&&(R=h(C,A),R!==0&&(T-x-S>0&&g[T-x-S-1][0]==o?g[T-x-S-1][1]+=C.substring(0,R):(g.splice(0,0,[o,C.substring(0,R)]),T++),C=C.substring(R),A=A.substring(R)),R=d(C,A),R!==0&&(g[T][1]=C.substring(C.length-R)+g[T][1],C=C.substring(0,C.length-R),A=A.substring(0,A.length-R))),x===0?g.splice(T-S,x+S,[s,C]):S===0?g.splice(T-x,x+S,[i,A]):g.splice(T-x-S,x+S,[i,A],[s,C]),T=T-x-S+(x?1:0)+(S?1:0)+1):T!==0&&g[T-1][0]==o?(g[T-1][1]+=g[T][1],g.splice(T,1)):T++,S=0,x=0,A="",C="";break}g[g.length-1][1]===""&&g.pop();var m=!1;for(T=1;T<g.length-1;)g[T-1][0]==o&&g[T+1][0]==o&&(g[T][1].substring(g[T][1].length-g[T-1][1].length)==g[T-1][1]?(g[T][1]=g[T-1][1]+g[T][1].substring(0,g[T][1].length-g[T-1][1].length),g[T+1][1]=g[T-1][1]+g[T+1][1],g.splice(T-1,1),m=!0):g[T][1].substring(0,g[T+1][1].length)==g[T+1][1]&&(g[T-1][1]+=g[T+1][1],g[T][1]=g[T][1].substring(g[T+1][1].length)+g[T+1][1],g.splice(T+1,1),m=!0)),T++;m&&w(g)}var b=a;b.INSERT=s,b.DELETE=i,b.EQUAL=o,n.exports=b;function E(g,T){if(T===0)return[o,g];for(var x=0,S=0;S<g.length;S++){var A=g[S];if(A[0]===i||A[0]===o){var C=x+A[1].length;if(T===C)return[S+1,g];if(T<C){g=g.slice();var R=T-x,m=[A[0],A[1].slice(0,R)],I=[A[0],A[1].slice(R)];return g.splice(S,1,m,I),[S+1,g]}else x=C}}throw new Error("cursor_pos is out of bounds!")}function _(g,T){var x=E(g,T),S=x[1],A=x[0],C=S[A],R=S[A+1];if(C==null)return g;if(C[0]!==o)return g;if(R!=null&&C[1]+R[1]===R[1]+C[1])return S.splice(A,2,R,C),y(S,A,2);if(R!=null&&R[1].indexOf(C[1])===0){S.splice(A,2,[R[0],C[1]],[0,C[1]]);var m=R[1].slice(C[1].length);return m.length>0&&S.splice(A+2,0,[R[0],m]),y(S,A,3)}else return g}function v(g){for(var T=!1,x=function(R){return R.charCodeAt(0)>=56320&&R.charCodeAt(0)<=57343},S=function(R){return R.charCodeAt(R.length-1)>=55296&&R.charCodeAt(R.length-1)<=56319},A=2;A<g.length;A+=1)g[A-2][0]===o&&S(g[A-2][1])&&g[A-1][0]===i&&x(g[A-1][1])&&g[A][0]===s&&x(g[A][1])&&(T=!0,g[A-1][1]=g[A-2][1].slice(-1)+g[A-1][1],g[A][1]=g[A-2][1].slice(-1)+g[A][1],g[A-2][1]=g[A-2][1].slice(0,-1));if(!T)return g;for(var C=[],A=0;A<g.length;A+=1)g[A][1].length>0&&C.push(g[A]);return C}function y(g,T,x){for(var S=T+x-1;S>=0&&S>=T-1;S--)if(S+1<g.length){var A=g[S],C=g[S+1];A[0]===C[1]&&g.splice(S,2,[A[0],A[1]+C[1]])}return g}}),(function(n,r){r=n.exports=typeof Object.keys=="function"?Object.keys:i,r.shim=i;function i(s){var o=[];for(var a in s)o.push(a);return o}}),(function(n,r){var i=(function(){return Object.prototype.toString.call(arguments)})()=="[object Arguments]";r=n.exports=i?s:o,r.supported=s;function s(a){return Object.prototype.toString.call(a)=="[object Arguments]"}r.unsupported=o;function o(a){return a&&typeof a=="object"&&typeof a.length=="number"&&Object.prototype.hasOwnProperty.call(a,"callee")&&!Object.prototype.propertyIsEnumerable.call(a,"callee")||!1}}),(function(n,r){var i=Object.prototype.hasOwnProperty,s="~";function o(){}Object.create&&(o.prototype=Object.create(null),new o().__proto__||(s=!1));function a(c,f,h){this.fn=c,this.context=f,this.once=h||!1}function l(){this._events=new o,this._eventsCount=0}l.prototype.eventNames=function(){var f=[],h,d;if(this._eventsCount===0)return f;for(d in h=this._events)i.call(h,d)&&f.push(s?d.slice(1):d);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(h)):f},l.prototype.listeners=function(f,h){var d=s?s+f:f,p=this._events[d];if(h)return!!p;if(!p)return[];if(p.fn)return[p.fn];for(var w=0,b=p.length,E=new Array(b);w<b;w++)E[w]=p[w].fn;return E},l.prototype.emit=function(f,h,d,p,w,b){var E=s?s+f:f;if(!this._events[E])return!1;var _=this._events[E],v=arguments.length,y,g;if(_.fn){switch(_.once&&this.removeListener(f,_.fn,void 0,!0),v){case 1:return _.fn.call(_.context),!0;case 2:return _.fn.call(_.context,h),!0;case 3:return _.fn.call(_.context,h,d),!0;case 4:return _.fn.call(_.context,h,d,p),!0;case 5:return _.fn.call(_.context,h,d,p,w),!0;case 6:return _.fn.call(_.context,h,d,p,w,b),!0}for(g=1,y=new Array(v-1);g<v;g++)y[g-1]=arguments[g];_.fn.apply(_.context,y)}else{var T=_.length,x;for(g=0;g<T;g++)switch(_[g].once&&this.removeListener(f,_[g].fn,void 0,!0),v){case 1:_[g].fn.call(_[g].context);break;case 2:_[g].fn.call(_[g].context,h);break;case 3:_[g].fn.call(_[g].context,h,d);break;case 4:_[g].fn.call(_[g].context,h,d,p);break;default:if(!y)for(x=1,y=new Array(v-1);x<v;x++)y[x-1]=arguments[x];_[g].fn.apply(_[g].context,y)}}return!0},l.prototype.on=function(f,h,d){var p=new a(h,d||this),w=s?s+f:f;return this._events[w]?this._events[w].fn?this._events[w]=[this._events[w],p]:this._events[w].push(p):(this._events[w]=p,this._eventsCount++),this},l.prototype.once=function(f,h,d){var p=new a(h,d||this,!0),w=s?s+f:f;return this._events[w]?this._events[w].fn?this._events[w]=[this._events[w],p]:this._events[w].push(p):(this._events[w]=p,this._eventsCount++),this},l.prototype.removeListener=function(f,h,d,p){var w=s?s+f:f;if(!this._events[w])return this;if(!h)return--this._eventsCount===0?this._events=new o:delete this._events[w],this;var b=this._events[w];if(b.fn)b.fn===h&&(!p||b.once)&&(!d||b.context===d)&&(--this._eventsCount===0?this._events=new o:delete this._events[w]);else{for(var E=0,_=[],v=b.length;E<v;E++)(b[E].fn!==h||p&&!b[E].once||d&&b[E].context!==d)&&_.push(b[E]);_.length?this._events[w]=_.length===1?_[0]:_:--this._eventsCount===0?this._events=new o:delete this._events[w]}return this},l.prototype.removeAllListeners=function(f){var h;return f?(h=s?s+f:f,this._events[h]&&(--this._eventsCount===0?this._events=new o:delete this._events[h])):(this._events=new o,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prototype.setMaxListeners=function(){return this},l.prefixed=s,l.EventEmitter=l,typeof n<"u"&&(n.exports=l)}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.matchText=r.matchSpacing=r.matchNewline=r.matchBlot=r.matchAttributor=r.default=void 0;var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(te){return typeof te}:function(te){return te&&typeof Symbol=="function"&&te.constructor===Symbol&&te!==Symbol.prototype?"symbol":typeof te},o=(function(){function te(J,re){var ie=[],ae=!0,pe=!1,ve=void 0;try{for(var _e=J[Symbol.iterator](),Se;!(ae=(Se=_e.next()).done)&&(ie.push(Se.value),!(re&&ie.length===re));ae=!0);}catch(Ne){pe=!0,ve=Ne}finally{try{!ae&&_e.return&&_e.return()}finally{if(pe)throw ve}}return ie}return function(J,re){if(Array.isArray(J))return J;if(Symbol.iterator in Object(J))return te(J,re);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),a=(function(){function te(J,re){for(var ie=0;ie<re.length;ie++){var ae=re[ie];ae.enumerable=ae.enumerable||!1,ae.configurable=!0,"value"in ae&&(ae.writable=!0),Object.defineProperty(J,ae.key,ae)}}return function(J,re,ie){return re&&te(J.prototype,re),ie&&te(J,ie),J}})(),l=i(3),c=I(l),f=i(2),h=I(f),d=i(0),p=I(d),w=i(5),b=I(w),E=i(10),_=I(E),v=i(9),y=I(v),g=i(36),T=i(37),x=i(13),S=I(x),A=i(26),C=i(38),R=i(39),m=i(40);function I(te){return te&&te.__esModule?te:{default:te}}function O(te,J,re){return J in te?Object.defineProperty(te,J,{value:re,enumerable:!0,configurable:!0,writable:!0}):te[J]=re,te}function L(te,J){if(!(te instanceof J))throw new TypeError("Cannot call a class as a function")}function H(te,J){if(!te)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return J&&(typeof J=="object"||typeof J=="function")?J:te}function X(te,J){if(typeof J!="function"&&J!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof J);te.prototype=Object.create(J&&J.prototype,{constructor:{value:te,enumerable:!1,writable:!0,configurable:!0}}),J&&(Object.setPrototypeOf?Object.setPrototypeOf(te,J):te.__proto__=J)}var Y=(0,_.default)("quill:clipboard"),le="__ql-matcher",Z=[[Node.TEXT_NODE,ce],[Node.TEXT_NODE,ee],["br",me],[Node.ELEMENT_NODE,ee],[Node.ELEMENT_NODE,se],[Node.ELEMENT_NODE,ue],[Node.ELEMENT_NODE,Q],[Node.ELEMENT_NODE,he],["li",K],["b",$.bind($,"bold")],["i",$.bind($,"italic")],["style",B]],q=[g.AlignAttribute,C.DirectionAttribute].reduce(function(te,J){return te[J.keyName]=J,te},{}),D=[g.AlignStyle,T.BackgroundStyle,A.ColorStyle,C.DirectionStyle,R.FontStyle,m.SizeStyle].reduce(function(te,J){return te[J.keyName]=J,te},{}),j=(function(te){X(J,te);function J(re,ie){L(this,J);var ae=H(this,(J.__proto__||Object.getPrototypeOf(J)).call(this,re,ie));return ae.quill.root.addEventListener("paste",ae.onPaste.bind(ae)),ae.container=ae.quill.addContainer("ql-clipboard"),ae.container.setAttribute("contenteditable",!0),ae.container.setAttribute("tabindex",-1),ae.matchers=[],Z.concat(ae.options.matchers).forEach(function(pe){var ve=o(pe,2),_e=ve[0],Se=ve[1];!ie.matchVisual&&Se===ue||ae.addMatcher(_e,Se)}),ae}return a(J,[{key:"addMatcher",value:function(ie,ae){this.matchers.push([ie,ae])}},{key:"convert",value:function(ie){if(typeof ie=="string")return this.container.innerHTML=ie.replace(/\>\r?\n +\</g,"><"),this.convert();var ae=this.quill.getFormat(this.quill.selection.savedRange.index);if(ae[S.default.blotName]){var pe=this.container.innerText;return this.container.innerHTML="",new h.default().insert(pe,O({},S.default.blotName,ae[S.default.blotName]))}var ve=this.prepareMatching(),_e=o(ve,2),Se=_e[0],Ne=_e[1],we=V(this.container,Se,Ne);return G(we,`
`)&&we.ops[we.ops.length-1].attributes==null&&(we=we.compose(new h.default().retain(we.length()-1).delete(1))),Y.log("convert",this.container.innerHTML,we),this.container.innerHTML="",we}},{key:"dangerouslyPasteHTML",value:function(ie,ae){var pe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:b.default.sources.API;if(typeof ie=="string")this.quill.setContents(this.convert(ie),ae),this.quill.setSelection(0,b.default.sources.SILENT);else{var ve=this.convert(ae);this.quill.updateContents(new h.default().retain(ie).concat(ve),pe),this.quill.setSelection(ie+ve.length(),b.default.sources.SILENT)}}},{key:"onPaste",value:function(ie){var ae=this;if(!(ie.defaultPrevented||!this.quill.isEnabled())){var pe=this.quill.getSelection(),ve=new h.default().retain(pe.index),_e=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(b.default.sources.SILENT),setTimeout(function(){ve=ve.concat(ae.convert()).delete(pe.length),ae.quill.updateContents(ve,b.default.sources.USER),ae.quill.setSelection(ve.length()-pe.length,b.default.sources.SILENT),ae.quill.scrollingContainer.scrollTop=_e,ae.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var ie=this,ae=[],pe=[];return this.matchers.forEach(function(ve){var _e=o(ve,2),Se=_e[0],Ne=_e[1];switch(Se){case Node.TEXT_NODE:pe.push(Ne);break;case Node.ELEMENT_NODE:ae.push(Ne);break;default:[].forEach.call(ie.container.querySelectorAll(Se),function(we){we[le]=we[le]||[],we[le].push(Ne)});break}}),[ae,pe]}}]),J})(y.default);j.DEFAULTS={matchers:[],matchVisual:!0};function z(te,J,re){return(typeof J>"u"?"undefined":s(J))==="object"?Object.keys(J).reduce(function(ie,ae){return z(ie,ae,J[ae])},te):te.reduce(function(ie,ae){return ae.attributes&&ae.attributes[J]?ie.push(ae):ie.insert(ae.insert,(0,c.default)({},O({},J,re),ae.attributes))},new h.default)}function ne(te){if(te.nodeType!==Node.ELEMENT_NODE)return{};var J="__ql-computed-style";return te[J]||(te[J]=window.getComputedStyle(te))}function G(te,J){for(var re="",ie=te.ops.length-1;ie>=0&&re.length<J.length;--ie){var ae=te.ops[ie];if(typeof ae.insert!="string")break;re=ae.insert+re}return re.slice(-1*J.length)===J}function F(te){if(te.childNodes.length===0)return!1;var J=ne(te);return["block","list-item"].indexOf(J.display)>-1}function V(te,J,re){return te.nodeType===te.TEXT_NODE?re.reduce(function(ie,ae){return ae(te,ie)},new h.default):te.nodeType===te.ELEMENT_NODE?[].reduce.call(te.childNodes||[],function(ie,ae){var pe=V(ae,J,re);return ae.nodeType===te.ELEMENT_NODE&&(pe=J.reduce(function(ve,_e){return _e(ae,ve)},pe),pe=(ae[le]||[]).reduce(function(ve,_e){return _e(ae,ve)},pe)),ie.concat(pe)},new h.default):new h.default}function $(te,J,re){return z(re,te,!0)}function Q(te,J){var re=p.default.Attributor.Attribute.keys(te),ie=p.default.Attributor.Class.keys(te),ae=p.default.Attributor.Style.keys(te),pe={};return re.concat(ie).concat(ae).forEach(function(ve){var _e=p.default.query(ve,p.default.Scope.ATTRIBUTE);_e!=null&&(pe[_e.attrName]=_e.value(te),pe[_e.attrName])||(_e=q[ve],_e!=null&&(_e.attrName===ve||_e.keyName===ve)&&(pe[_e.attrName]=_e.value(te)||void 0),_e=D[ve],_e!=null&&(_e.attrName===ve||_e.keyName===ve)&&(_e=D[ve],pe[_e.attrName]=_e.value(te)||void 0))}),Object.keys(pe).length>0&&(J=z(J,pe)),J}function se(te,J){var re=p.default.query(te);if(re==null)return J;if(re.prototype instanceof p.default.Embed){var ie={},ae=re.value(te);ae!=null&&(ie[re.blotName]=ae,J=new h.default().insert(ie,re.formats(te)))}else typeof re.formats=="function"&&(J=z(J,re.blotName,re.formats(te)));return J}function me(te,J){return G(J,`
`)||J.insert(`
`),J}function B(){return new h.default}function K(te,J){var re=p.default.query(te);if(re==null||re.blotName!=="list-item"||!G(J,`
`))return J;for(var ie=-1,ae=te.parentNode;!ae.classList.contains("ql-clipboard");)(p.default.query(ae)||{}).blotName==="list"&&(ie+=1),ae=ae.parentNode;return ie<=0?J:J.compose(new h.default().retain(J.length()-1).retain(1,{indent:ie}))}function ee(te,J){return G(J,`
`)||(F(te)||J.length()>0&&te.nextSibling&&F(te.nextSibling))&&J.insert(`
`),J}function ue(te,J){if(F(te)&&te.nextElementSibling!=null&&!G(J,`

`)){var re=te.offsetHeight+parseFloat(ne(te).marginTop)+parseFloat(ne(te).marginBottom);te.nextElementSibling.offsetTop>te.offsetTop+re*1.5&&J.insert(`
`)}return J}function he(te,J){var re={},ie=te.style||{};return ie.fontStyle&&ne(te).fontStyle==="italic"&&(re.italic=!0),ie.fontWeight&&(ne(te).fontWeight.startsWith("bold")||parseInt(ne(te).fontWeight)>=700)&&(re.bold=!0),Object.keys(re).length>0&&(J=z(J,re)),parseFloat(ie.textIndent||0)>0&&(J=new h.default().insert("	").concat(J)),J}function ce(te,J){var re=te.data;if(te.parentNode.tagName==="O:P")return J.insert(re.trim());if(re.trim().length===0&&te.parentNode.classList.contains("ql-clipboard"))return J;if(!ne(te.parentNode).whiteSpace.startsWith("pre")){var ie=function(pe,ve){return ve=ve.replace(/[^\u00a0]/g,""),ve.length<1&&pe?" ":ve};re=re.replace(/\r\n/g," ").replace(/\n/g," "),re=re.replace(/\s\s+/g,ie.bind(ie,!0)),(te.previousSibling==null&&F(te.parentNode)||te.previousSibling!=null&&F(te.previousSibling))&&(re=re.replace(/^\s+/,ie.bind(ie,!1))),(te.nextSibling==null&&F(te.parentNode)||te.nextSibling!=null&&F(te.nextSibling))&&(re=re.replace(/\s+$/,ie.bind(ie,!1)))}return J.insert(re)}r.default=j,r.matchAttributor=Q,r.matchBlot=se,r.matchNewline=ee,r.matchSpacing=ue,r.matchText=ce}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=(function(){function w(b,E){for(var _=0;_<E.length;_++){var v=E[_];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(b,v.key,v)}}return function(b,E,_){return E&&w(b.prototype,E),_&&w(b,_),b}})(),o=function w(b,E,_){b===null&&(b=Function.prototype);var v=Object.getOwnPropertyDescriptor(b,E);if(v===void 0){var y=Object.getPrototypeOf(b);return y===null?void 0:w(y,E,_)}else{if("value"in v)return v.value;var g=v.get;return g===void 0?void 0:g.call(_)}},a=i(6),l=c(a);function c(w){return w&&w.__esModule?w:{default:w}}function f(w,b){if(!(w instanceof b))throw new TypeError("Cannot call a class as a function")}function h(w,b){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:w}function d(w,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);w.prototype=Object.create(b&&b.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(w,b):w.__proto__=b)}var p=(function(w){d(b,w);function b(){return f(this,b),h(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return s(b,[{key:"optimize",value:function(_){o(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"optimize",this).call(this,_),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return o(b.__proto__||Object.getPrototypeOf(b),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),b})(l.default);p.blotName="bold",p.tagName=["STRONG","B"],r.default=p}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.addControls=r.default=void 0;var s=(function(){function m(I,O){var L=[],H=!0,X=!1,Y=void 0;try{for(var le=I[Symbol.iterator](),Z;!(H=(Z=le.next()).done)&&(L.push(Z.value),!(O&&L.length===O));H=!0);}catch(q){X=!0,Y=q}finally{try{!H&&le.return&&le.return()}finally{if(X)throw Y}}return L}return function(I,O){if(Array.isArray(I))return I;if(Symbol.iterator in Object(I))return m(I,O);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),o=(function(){function m(I,O){for(var L=0;L<O.length;L++){var H=O[L];H.enumerable=H.enumerable||!1,H.configurable=!0,"value"in H&&(H.writable=!0),Object.defineProperty(I,H.key,H)}}return function(I,O,L){return O&&m(I.prototype,O),L&&m(I,L),I}})(),a=i(2),l=_(a),c=i(0),f=_(c),h=i(5),d=_(h),p=i(10),w=_(p),b=i(9),E=_(b);function _(m){return m&&m.__esModule?m:{default:m}}function v(m,I,O){return I in m?Object.defineProperty(m,I,{value:O,enumerable:!0,configurable:!0,writable:!0}):m[I]=O,m}function y(m,I){if(!(m instanceof I))throw new TypeError("Cannot call a class as a function")}function g(m,I){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I&&(typeof I=="object"||typeof I=="function")?I:m}function T(m,I){if(typeof I!="function"&&I!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof I);m.prototype=Object.create(I&&I.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),I&&(Object.setPrototypeOf?Object.setPrototypeOf(m,I):m.__proto__=I)}var x=(0,w.default)("quill:toolbar"),S=(function(m){T(I,m);function I(O,L){y(this,I);var H=g(this,(I.__proto__||Object.getPrototypeOf(I)).call(this,O,L));if(Array.isArray(H.options.container)){var X=document.createElement("div");C(X,H.options.container),O.container.parentNode.insertBefore(X,O.container),H.container=X}else typeof H.options.container=="string"?H.container=document.querySelector(H.options.container):H.container=H.options.container;if(!(H.container instanceof HTMLElement)){var Y;return Y=x.error("Container required for toolbar",H.options),g(H,Y)}return H.container.classList.add("ql-toolbar"),H.controls=[],H.handlers={},Object.keys(H.options.handlers).forEach(function(le){H.addHandler(le,H.options.handlers[le])}),[].forEach.call(H.container.querySelectorAll("button, select"),function(le){H.attach(le)}),H.quill.on(d.default.events.EDITOR_CHANGE,function(le,Z){le===d.default.events.SELECTION_CHANGE&&H.update(Z)}),H.quill.on(d.default.events.SCROLL_OPTIMIZE,function(){var le=H.quill.selection.getRange(),Z=s(le,1),q=Z[0];H.update(q)}),H}return o(I,[{key:"addHandler",value:function(L,H){this.handlers[L]=H}},{key:"attach",value:function(L){var H=this,X=[].find.call(L.classList,function(le){return le.indexOf("ql-")===0});if(X){if(X=X.slice(3),L.tagName==="BUTTON"&&L.setAttribute("type","button"),this.handlers[X]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[X]==null){x.warn("ignoring attaching to disabled format",X,L);return}if(f.default.query(X)==null){x.warn("ignoring attaching to nonexistent format",X,L);return}}var Y=L.tagName==="SELECT"?"change":"click";L.addEventListener(Y,function(le){var Z=void 0;if(L.tagName==="SELECT"){if(L.selectedIndex<0)return;var q=L.options[L.selectedIndex];q.hasAttribute("selected")?Z=!1:Z=q.value||!1}else L.classList.contains("ql-active")?Z=!1:Z=L.value||!L.hasAttribute("value"),le.preventDefault();H.quill.focus();var D=H.quill.selection.getRange(),j=s(D,1),z=j[0];if(H.handlers[X]!=null)H.handlers[X].call(H,Z);else if(f.default.query(X).prototype instanceof f.default.Embed){if(Z=prompt("Enter "+X),!Z)return;H.quill.updateContents(new l.default().retain(z.index).delete(z.length).insert(v({},X,Z)),d.default.sources.USER)}else H.quill.format(X,Z,d.default.sources.USER);H.update(z)}),this.controls.push([X,L])}}},{key:"update",value:function(L){var H=L==null?{}:this.quill.getFormat(L);this.controls.forEach(function(X){var Y=s(X,2),le=Y[0],Z=Y[1];if(Z.tagName==="SELECT"){var q=void 0;if(L==null)q=null;else if(H[le]==null)q=Z.querySelector("option[selected]");else if(!Array.isArray(H[le])){var D=H[le];typeof D=="string"&&(D=D.replace(/\"/g,'\\"')),q=Z.querySelector('option[value="'+D+'"]')}q==null?(Z.value="",Z.selectedIndex=-1):q.selected=!0}else if(L==null)Z.classList.remove("ql-active");else if(Z.hasAttribute("value")){var j=H[le]===Z.getAttribute("value")||H[le]!=null&&H[le].toString()===Z.getAttribute("value")||H[le]==null&&!Z.getAttribute("value");Z.classList.toggle("ql-active",j)}else Z.classList.toggle("ql-active",H[le]!=null)})}}]),I})(E.default);S.DEFAULTS={};function A(m,I,O){var L=document.createElement("button");L.setAttribute("type","button"),L.classList.add("ql-"+I),O!=null&&(L.value=O),m.appendChild(L)}function C(m,I){Array.isArray(I[0])||(I=[I]),I.forEach(function(O){var L=document.createElement("span");L.classList.add("ql-formats"),O.forEach(function(H){if(typeof H=="string")A(L,H);else{var X=Object.keys(H)[0],Y=H[X];Array.isArray(Y)?R(L,X,Y):A(L,X,Y)}}),m.appendChild(L)})}function R(m,I,O){var L=document.createElement("select");L.classList.add("ql-"+I),O.forEach(function(H){var X=document.createElement("option");H!==!1?X.setAttribute("value",H):X.setAttribute("selected","selected"),L.appendChild(X)}),m.appendChild(L)}S.DEFAULTS={container:null,handlers:{clean:function(){var I=this,O=this.quill.getSelection();if(O!=null)if(O.length==0){var L=this.quill.getFormat();Object.keys(L).forEach(function(H){f.default.query(H,f.default.Scope.INLINE)!=null&&I.quill.format(H,!1)})}else this.quill.removeFormat(O,d.default.sources.USER)},direction:function(I){var O=this.quill.getFormat().align;I==="rtl"&&O==null?this.quill.format("align","right",d.default.sources.USER):!I&&O==="right"&&this.quill.format("align",!1,d.default.sources.USER),this.quill.format("direction",I,d.default.sources.USER)},indent:function(I){var O=this.quill.getSelection(),L=this.quill.getFormat(O),H=parseInt(L.indent||0);if(I==="+1"||I==="-1"){var X=I==="+1"?1:-1;L.direction==="rtl"&&(X*=-1),this.quill.format("indent",H+X,d.default.sources.USER)}},link:function(I){I===!0&&(I=prompt("Enter link URL:")),this.quill.format("link",I,d.default.sources.USER)},list:function(I){var O=this.quill.getSelection(),L=this.quill.getFormat(O);I==="check"?L.list==="checked"||L.list==="unchecked"?this.quill.format("list",!1,d.default.sources.USER):this.quill.format("list","unchecked",d.default.sources.USER):this.quill.format("list",I,d.default.sources.USER)}}},r.default=S,r.addControls=C}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=(function(){function w(b,E){for(var _=0;_<E.length;_++){var v=E[_];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(b,v.key,v)}}return function(b,E,_){return E&&w(b.prototype,E),_&&w(b,_),b}})(),o=function w(b,E,_){b===null&&(b=Function.prototype);var v=Object.getOwnPropertyDescriptor(b,E);if(v===void 0){var y=Object.getPrototypeOf(b);return y===null?void 0:w(y,E,_)}else{if("value"in v)return v.value;var g=v.get;return g===void 0?void 0:g.call(_)}},a=i(28),l=c(a);function c(w){return w&&w.__esModule?w:{default:w}}function f(w,b){if(!(w instanceof b))throw new TypeError("Cannot call a class as a function")}function h(w,b){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:w}function d(w,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);w.prototype=Object.create(b&&b.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(w,b):w.__proto__=b)}var p=(function(w){d(b,w);function b(E,_){f(this,b);var v=h(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,E));return v.label.innerHTML=_,v.container.classList.add("ql-color-picker"),[].slice.call(v.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(y){y.classList.add("ql-primary")}),v}return s(b,[{key:"buildItem",value:function(_){var v=o(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"buildItem",this).call(this,_);return v.style.backgroundColor=_.getAttribute("value")||"",v}},{key:"selectItem",value:function(_,v){o(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"selectItem",this).call(this,_,v);var y=this.label.querySelector(".ql-color-label"),g=_&&_.getAttribute("data-value")||"";y&&(y.tagName==="line"?y.style.stroke=g:y.style.fill=g)}}]),b})(l.default);r.default=p}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=(function(){function w(b,E){for(var _=0;_<E.length;_++){var v=E[_];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(b,v.key,v)}}return function(b,E,_){return E&&w(b.prototype,E),_&&w(b,_),b}})(),o=function w(b,E,_){b===null&&(b=Function.prototype);var v=Object.getOwnPropertyDescriptor(b,E);if(v===void 0){var y=Object.getPrototypeOf(b);return y===null?void 0:w(y,E,_)}else{if("value"in v)return v.value;var g=v.get;return g===void 0?void 0:g.call(_)}},a=i(28),l=c(a);function c(w){return w&&w.__esModule?w:{default:w}}function f(w,b){if(!(w instanceof b))throw new TypeError("Cannot call a class as a function")}function h(w,b){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:w}function d(w,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);w.prototype=Object.create(b&&b.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(w,b):w.__proto__=b)}var p=(function(w){d(b,w);function b(E,_){f(this,b);var v=h(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,E));return v.container.classList.add("ql-icon-picker"),[].forEach.call(v.container.querySelectorAll(".ql-picker-item"),function(y){y.innerHTML=_[y.getAttribute("data-value")||""]}),v.defaultItem=v.container.querySelector(".ql-selected"),v.selectItem(v.defaultItem),v}return s(b,[{key:"selectItem",value:function(_,v){o(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"selectItem",this).call(this,_,v),_=_||this.defaultItem,this.label.innerHTML=_.innerHTML}}]),b})(l.default);r.default=p}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=(function(){function l(c,f){for(var h=0;h<f.length;h++){var d=f[h];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(c,d.key,d)}}return function(c,f,h){return f&&l(c.prototype,f),h&&l(c,h),c}})();function o(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}var a=(function(){function l(c,f){var h=this;o(this,l),this.quill=c,this.boundsContainer=f||document.body,this.root=c.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){h.root.style.marginTop=-1*h.quill.root.scrollTop+"px"}),this.hide()}return s(l,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(f){var h=f.left+f.width/2-this.root.offsetWidth/2,d=f.bottom+this.quill.root.scrollTop;this.root.style.left=h+"px",this.root.style.top=d+"px",this.root.classList.remove("ql-flip");var p=this.boundsContainer.getBoundingClientRect(),w=this.root.getBoundingClientRect(),b=0;if(w.right>p.right&&(b=p.right-w.right,this.root.style.left=h+b+"px"),w.left<p.left&&(b=p.left-w.left,this.root.style.left=h+b+"px"),w.bottom>p.bottom){var E=w.bottom-w.top,_=f.bottom-f.top+E;this.root.style.top=d-_+"px",this.root.classList.add("ql-flip")}return b}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),l})();r.default=a}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=(function(){function R(m,I){var O=[],L=!0,H=!1,X=void 0;try{for(var Y=m[Symbol.iterator](),le;!(L=(le=Y.next()).done)&&(O.push(le.value),!(I&&O.length===I));L=!0);}catch(Z){H=!0,X=Z}finally{try{!L&&Y.return&&Y.return()}finally{if(H)throw X}}return O}return function(m,I){if(Array.isArray(m))return m;if(Symbol.iterator in Object(m))return R(m,I);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),o=function R(m,I,O){m===null&&(m=Function.prototype);var L=Object.getOwnPropertyDescriptor(m,I);if(L===void 0){var H=Object.getPrototypeOf(m);return H===null?void 0:R(H,I,O)}else{if("value"in L)return L.value;var X=L.get;return X===void 0?void 0:X.call(O)}},a=(function(){function R(m,I){for(var O=0;O<I.length;O++){var L=I[O];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(m,L.key,L)}}return function(m,I,O){return I&&R(m.prototype,I),O&&R(m,O),m}})(),l=i(3),c=y(l),f=i(8),h=y(f),d=i(43),p=y(d),w=i(27),b=y(w),E=i(15),_=i(41),v=y(_);function y(R){return R&&R.__esModule?R:{default:R}}function g(R,m){if(!(R instanceof m))throw new TypeError("Cannot call a class as a function")}function T(R,m){if(!R)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:R}function x(R,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);R.prototype=Object.create(m&&m.prototype,{constructor:{value:R,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(R,m):R.__proto__=m)}var S=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],A=(function(R){x(m,R);function m(I,O){g(this,m),O.modules.toolbar!=null&&O.modules.toolbar.container==null&&(O.modules.toolbar.container=S);var L=T(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,I,O));return L.quill.container.classList.add("ql-snow"),L}return a(m,[{key:"extendToolbar",value:function(O){O.container.classList.add("ql-snow"),this.buildButtons([].slice.call(O.container.querySelectorAll("button")),v.default),this.buildPickers([].slice.call(O.container.querySelectorAll("select")),v.default),this.tooltip=new C(this.quill,this.options.bounds),O.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(L,H){O.handlers.link.call(O,!H.format.link)})}}]),m})(p.default);A.DEFAULTS=(0,c.default)(!0,{},p.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(m){if(m){var I=this.quill.getSelection();if(I==null||I.length==0)return;var O=this.quill.getText(I);/^\S+@\S+\.\S+$/.test(O)&&O.indexOf("mailto:")!==0&&(O="mailto:"+O);var L=this.quill.theme.tooltip;L.edit("link",O)}else this.quill.format("link",!1)}}}}});var C=(function(R){x(m,R);function m(I,O){g(this,m);var L=T(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,I,O));return L.preview=L.root.querySelector("a.ql-preview"),L}return a(m,[{key:"listen",value:function(){var O=this;o(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(L){O.root.classList.contains("ql-editing")?O.save():O.edit("link",O.preview.textContent),L.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(L){if(O.linkRange!=null){var H=O.linkRange;O.restoreFocus(),O.quill.formatText(H,"link",!1,h.default.sources.USER),delete O.linkRange}L.preventDefault(),O.hide()}),this.quill.on(h.default.events.SELECTION_CHANGE,function(L,H,X){if(L!=null){if(L.length===0&&X===h.default.sources.USER){var Y=O.quill.scroll.descendant(b.default,L.index),le=s(Y,2),Z=le[0],q=le[1];if(Z!=null){O.linkRange=new E.Range(L.index-q,Z.length());var D=b.default.formats(Z.domNode);O.preview.textContent=D,O.preview.setAttribute("href",D),O.show(),O.position(O.quill.getBounds(O.linkRange));return}}else delete O.linkRange;O.hide()}})}},{key:"show",value:function(){o(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),m})(d.BaseTooltip);C.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),r.default=A}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(29),o=ae(s),a=i(36),l=i(38),c=i(64),f=i(65),h=ae(f),d=i(66),p=ae(d),w=i(67),b=ae(w),E=i(37),_=i(26),v=i(39),y=i(40),g=i(56),T=ae(g),x=i(68),S=ae(x),A=i(27),C=ae(A),R=i(69),m=ae(R),I=i(70),O=ae(I),L=i(71),H=ae(L),X=i(72),Y=ae(X),le=i(73),Z=ae(le),q=i(13),D=ae(q),j=i(74),z=ae(j),ne=i(75),G=ae(ne),F=i(57),V=ae(F),$=i(41),Q=ae($),se=i(28),me=ae(se),B=i(59),K=ae(B),ee=i(60),ue=ae(ee),he=i(61),ce=ae(he),te=i(108),J=ae(te),re=i(62),ie=ae(re);function ae(pe){return pe&&pe.__esModule?pe:{default:pe}}o.default.register({"attributors/attribute/direction":l.DirectionAttribute,"attributors/class/align":a.AlignClass,"attributors/class/background":E.BackgroundClass,"attributors/class/color":_.ColorClass,"attributors/class/direction":l.DirectionClass,"attributors/class/font":v.FontClass,"attributors/class/size":y.SizeClass,"attributors/style/align":a.AlignStyle,"attributors/style/background":E.BackgroundStyle,"attributors/style/color":_.ColorStyle,"attributors/style/direction":l.DirectionStyle,"attributors/style/font":v.FontStyle,"attributors/style/size":y.SizeStyle},!0),o.default.register({"formats/align":a.AlignClass,"formats/direction":l.DirectionClass,"formats/indent":c.IndentClass,"formats/background":E.BackgroundStyle,"formats/color":_.ColorStyle,"formats/font":v.FontClass,"formats/size":y.SizeClass,"formats/blockquote":h.default,"formats/code-block":D.default,"formats/header":p.default,"formats/list":b.default,"formats/bold":T.default,"formats/code":q.Code,"formats/italic":S.default,"formats/link":C.default,"formats/script":m.default,"formats/strike":O.default,"formats/underline":H.default,"formats/image":Y.default,"formats/video":Z.default,"formats/list/item":w.ListItem,"modules/formula":z.default,"modules/syntax":G.default,"modules/toolbar":V.default,"themes/bubble":J.default,"themes/snow":ie.default,"ui/icons":Q.default,"ui/picker":me.default,"ui/icon-picker":ue.default,"ui/color-picker":K.default,"ui/tooltip":ce.default},!0),r.default=o.default}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.IndentClass=void 0;var s=(function(){function b(E,_){for(var v=0;v<_.length;v++){var y=_[v];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(E,y.key,y)}}return function(E,_,v){return _&&b(E.prototype,_),v&&b(E,v),E}})(),o=function b(E,_,v){E===null&&(E=Function.prototype);var y=Object.getOwnPropertyDescriptor(E,_);if(y===void 0){var g=Object.getPrototypeOf(E);return g===null?void 0:b(g,_,v)}else{if("value"in y)return y.value;var T=y.get;return T===void 0?void 0:T.call(v)}},a=i(0),l=c(a);function c(b){return b&&b.__esModule?b:{default:b}}function f(b,E){if(!(b instanceof E))throw new TypeError("Cannot call a class as a function")}function h(b,E){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:b}function d(b,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);b.prototype=Object.create(E&&E.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(b,E):b.__proto__=E)}var p=(function(b){d(E,b);function E(){return f(this,E),h(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments))}return s(E,[{key:"add",value:function(v,y){if(y==="+1"||y==="-1"){var g=this.value(v)||0;y=y==="+1"?g+1:g-1}return y===0?(this.remove(v),!0):o(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"add",this).call(this,v,y)}},{key:"canAdd",value:function(v,y){return o(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"canAdd",this).call(this,v,y)||o(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"canAdd",this).call(this,v,parseInt(y))}},{key:"value",value:function(v){return parseInt(o(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"value",this).call(this,v))||void 0}}]),E})(l.default.Attributor.Class),w=new p("indent","ql-indent",{scope:l.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});r.IndentClass=w}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(4),o=a(s);function a(d){return d&&d.__esModule?d:{default:d}}function l(d,p){if(!(d instanceof p))throw new TypeError("Cannot call a class as a function")}function c(d,p){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:d}function f(d,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);d.prototype=Object.create(p&&p.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(d,p):d.__proto__=p)}var h=(function(d){f(p,d);function p(){return l(this,p),c(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p})(o.default);h.blotName="blockquote",h.tagName="blockquote",r.default=h}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=(function(){function p(w,b){for(var E=0;E<b.length;E++){var _=b[E];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(w,_.key,_)}}return function(w,b,E){return b&&p(w.prototype,b),E&&p(w,E),w}})(),o=i(4),a=l(o);function l(p){return p&&p.__esModule?p:{default:p}}function c(p,w){if(!(p instanceof w))throw new TypeError("Cannot call a class as a function")}function f(p,w){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:p}function h(p,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);p.prototype=Object.create(w&&w.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(p,w):p.__proto__=w)}var d=(function(p){h(w,p);function w(){return c(this,w),f(this,(w.__proto__||Object.getPrototypeOf(w)).apply(this,arguments))}return s(w,null,[{key:"formats",value:function(E){return this.tagName.indexOf(E.tagName)+1}}]),w})(a.default);d.blotName="header",d.tagName=["H1","H2","H3","H4","H5","H6"],r.default=d}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.ListItem=void 0;var s=(function(){function g(T,x){for(var S=0;S<x.length;S++){var A=x[S];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(T,A.key,A)}}return function(T,x,S){return x&&g(T.prototype,x),S&&g(T,S),T}})(),o=function g(T,x,S){T===null&&(T=Function.prototype);var A=Object.getOwnPropertyDescriptor(T,x);if(A===void 0){var C=Object.getPrototypeOf(T);return C===null?void 0:g(C,x,S)}else{if("value"in A)return A.value;var R=A.get;return R===void 0?void 0:R.call(S)}},a=i(0),l=p(a),c=i(4),f=p(c),h=i(25),d=p(h);function p(g){return g&&g.__esModule?g:{default:g}}function w(g,T,x){return T in g?Object.defineProperty(g,T,{value:x,enumerable:!0,configurable:!0,writable:!0}):g[T]=x,g}function b(g,T){if(!(g instanceof T))throw new TypeError("Cannot call a class as a function")}function E(g,T){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T&&(typeof T=="object"||typeof T=="function")?T:g}function _(g,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);g.prototype=Object.create(T&&T.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(g,T):g.__proto__=T)}var v=(function(g){_(T,g);function T(){return b(this,T),E(this,(T.__proto__||Object.getPrototypeOf(T)).apply(this,arguments))}return s(T,[{key:"format",value:function(S,A){S===y.blotName&&!A?this.replaceWith(l.default.create(this.statics.scope)):o(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"format",this).call(this,S,A)}},{key:"remove",value:function(){this.prev==null&&this.next==null?this.parent.remove():o(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(S,A){return this.parent.isolate(this.offset(this.parent),this.length()),S===this.parent.statics.blotName?(this.parent.replaceWith(S,A),this):(this.parent.unwrap(),o(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"replaceWith",this).call(this,S,A))}}],[{key:"formats",value:function(S){return S.tagName===this.tagName?void 0:o(T.__proto__||Object.getPrototypeOf(T),"formats",this).call(this,S)}}]),T})(f.default);v.blotName="list-item",v.tagName="LI";var y=(function(g){_(T,g),s(T,null,[{key:"create",value:function(S){var A=S==="ordered"?"OL":"UL",C=o(T.__proto__||Object.getPrototypeOf(T),"create",this).call(this,A);return(S==="checked"||S==="unchecked")&&C.setAttribute("data-checked",S==="checked"),C}},{key:"formats",value:function(S){if(S.tagName==="OL")return"ordered";if(S.tagName==="UL")return S.hasAttribute("data-checked")?S.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet"}}]);function T(x){b(this,T);var S=E(this,(T.__proto__||Object.getPrototypeOf(T)).call(this,x)),A=function(R){if(R.target.parentNode===x){var m=S.statics.formats(x),I=l.default.find(R.target);m==="checked"?I.format("list","unchecked"):m==="unchecked"&&I.format("list","checked")}};return x.addEventListener("touchstart",A),x.addEventListener("mousedown",A),S}return s(T,[{key:"format",value:function(S,A){this.children.length>0&&this.children.tail.format(S,A)}},{key:"formats",value:function(){return w({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(S,A){if(S instanceof v)o(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"insertBefore",this).call(this,S,A);else{var C=A==null?this.length():A.offset(this),R=this.split(C);R.parent.insertBefore(S,R)}}},{key:"optimize",value:function(S){o(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"optimize",this).call(this,S);var A=this.next;A!=null&&A.prev===this&&A.statics.blotName===this.statics.blotName&&A.domNode.tagName===this.domNode.tagName&&A.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(A.moveChildren(this),A.remove())}},{key:"replace",value:function(S){if(S.statics.blotName!==this.statics.blotName){var A=l.default.create(this.statics.defaultChild);S.moveChildren(A),this.appendChild(A)}o(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"replace",this).call(this,S)}}]),T})(d.default);y.blotName="list",y.scope=l.default.Scope.BLOCK_BLOT,y.tagName=["OL","UL"],y.defaultChild="list-item",y.allowedChildren=[v],r.ListItem=v,r.default=y}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(56),o=a(s);function a(d){return d&&d.__esModule?d:{default:d}}function l(d,p){if(!(d instanceof p))throw new TypeError("Cannot call a class as a function")}function c(d,p){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:d}function f(d,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);d.prototype=Object.create(p&&p.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(d,p):d.__proto__=p)}var h=(function(d){f(p,d);function p(){return l(this,p),c(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p})(o.default);h.blotName="italic",h.tagName=["EM","I"],r.default=h}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=(function(){function w(b,E){for(var _=0;_<E.length;_++){var v=E[_];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(b,v.key,v)}}return function(b,E,_){return E&&w(b.prototype,E),_&&w(b,_),b}})(),o=function w(b,E,_){b===null&&(b=Function.prototype);var v=Object.getOwnPropertyDescriptor(b,E);if(v===void 0){var y=Object.getPrototypeOf(b);return y===null?void 0:w(y,E,_)}else{if("value"in v)return v.value;var g=v.get;return g===void 0?void 0:g.call(_)}},a=i(6),l=c(a);function c(w){return w&&w.__esModule?w:{default:w}}function f(w,b){if(!(w instanceof b))throw new TypeError("Cannot call a class as a function")}function h(w,b){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:w}function d(w,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);w.prototype=Object.create(b&&b.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(w,b):w.__proto__=b)}var p=(function(w){d(b,w);function b(){return f(this,b),h(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return s(b,null,[{key:"create",value:function(_){return _==="super"?document.createElement("sup"):_==="sub"?document.createElement("sub"):o(b.__proto__||Object.getPrototypeOf(b),"create",this).call(this,_)}},{key:"formats",value:function(_){if(_.tagName==="SUB")return"sub";if(_.tagName==="SUP")return"super"}}]),b})(l.default);p.blotName="script",p.tagName=["SUB","SUP"],r.default=p}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(6),o=a(s);function a(d){return d&&d.__esModule?d:{default:d}}function l(d,p){if(!(d instanceof p))throw new TypeError("Cannot call a class as a function")}function c(d,p){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:d}function f(d,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);d.prototype=Object.create(p&&p.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(d,p):d.__proto__=p)}var h=(function(d){f(p,d);function p(){return l(this,p),c(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p})(o.default);h.blotName="strike",h.tagName="S",r.default=h}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(6),o=a(s);function a(d){return d&&d.__esModule?d:{default:d}}function l(d,p){if(!(d instanceof p))throw new TypeError("Cannot call a class as a function")}function c(d,p){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:d}function f(d,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);d.prototype=Object.create(p&&p.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(d,p):d.__proto__=p)}var h=(function(d){f(p,d);function p(){return l(this,p),c(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p})(o.default);h.blotName="underline",h.tagName="U",r.default=h}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=(function(){function E(_,v){for(var y=0;y<v.length;y++){var g=v[y];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(_,g.key,g)}}return function(_,v,y){return v&&E(_.prototype,v),y&&E(_,y),_}})(),o=function E(_,v,y){_===null&&(_=Function.prototype);var g=Object.getOwnPropertyDescriptor(_,v);if(g===void 0){var T=Object.getPrototypeOf(_);return T===null?void 0:E(T,v,y)}else{if("value"in g)return g.value;var x=g.get;return x===void 0?void 0:x.call(y)}},a=i(0),l=f(a),c=i(27);function f(E){return E&&E.__esModule?E:{default:E}}function h(E,_){if(!(E instanceof _))throw new TypeError("Cannot call a class as a function")}function d(E,_){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:E}function p(E,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);E.prototype=Object.create(_&&_.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(E,_):E.__proto__=_)}var w=["alt","height","width"],b=(function(E){p(_,E);function _(){return h(this,_),d(this,(_.__proto__||Object.getPrototypeOf(_)).apply(this,arguments))}return s(_,[{key:"format",value:function(y,g){w.indexOf(y)>-1?g?this.domNode.setAttribute(y,g):this.domNode.removeAttribute(y):o(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"format",this).call(this,y,g)}}],[{key:"create",value:function(y){var g=o(_.__proto__||Object.getPrototypeOf(_),"create",this).call(this,y);return typeof y=="string"&&g.setAttribute("src",this.sanitize(y)),g}},{key:"formats",value:function(y){return w.reduce(function(g,T){return y.hasAttribute(T)&&(g[T]=y.getAttribute(T)),g},{})}},{key:"match",value:function(y){return/\.(jpe?g|gif|png)$/.test(y)||/^data:image\/.+;base64/.test(y)}},{key:"sanitize",value:function(y){return(0,c.sanitize)(y,["http","https","data"])?y:"//:0"}},{key:"value",value:function(y){return y.getAttribute("src")}}]),_})(l.default.Embed);b.blotName="image",b.tagName="IMG",r.default=b}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=(function(){function E(_,v){for(var y=0;y<v.length;y++){var g=v[y];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(_,g.key,g)}}return function(_,v,y){return v&&E(_.prototype,v),y&&E(_,y),_}})(),o=function E(_,v,y){_===null&&(_=Function.prototype);var g=Object.getOwnPropertyDescriptor(_,v);if(g===void 0){var T=Object.getPrototypeOf(_);return T===null?void 0:E(T,v,y)}else{if("value"in g)return g.value;var x=g.get;return x===void 0?void 0:x.call(y)}},a=i(4),l=i(27),c=f(l);function f(E){return E&&E.__esModule?E:{default:E}}function h(E,_){if(!(E instanceof _))throw new TypeError("Cannot call a class as a function")}function d(E,_){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:E}function p(E,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);E.prototype=Object.create(_&&_.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(E,_):E.__proto__=_)}var w=["height","width"],b=(function(E){p(_,E);function _(){return h(this,_),d(this,(_.__proto__||Object.getPrototypeOf(_)).apply(this,arguments))}return s(_,[{key:"format",value:function(y,g){w.indexOf(y)>-1?g?this.domNode.setAttribute(y,g):this.domNode.removeAttribute(y):o(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"format",this).call(this,y,g)}}],[{key:"create",value:function(y){var g=o(_.__proto__||Object.getPrototypeOf(_),"create",this).call(this,y);return g.setAttribute("frameborder","0"),g.setAttribute("allowfullscreen",!0),g.setAttribute("src",this.sanitize(y)),g}},{key:"formats",value:function(y){return w.reduce(function(g,T){return y.hasAttribute(T)&&(g[T]=y.getAttribute(T)),g},{})}},{key:"sanitize",value:function(y){return c.default.sanitize(y)}},{key:"value",value:function(y){return y.getAttribute("src")}}]),_})(a.BlockEmbed);b.blotName="video",b.className="ql-video",b.tagName="IFRAME",r.default=b}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.FormulaBlot=void 0;var s=(function(){function y(g,T){for(var x=0;x<T.length;x++){var S=T[x];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(g,S.key,S)}}return function(g,T,x){return T&&y(g.prototype,T),x&&y(g,x),g}})(),o=function y(g,T,x){g===null&&(g=Function.prototype);var S=Object.getOwnPropertyDescriptor(g,T);if(S===void 0){var A=Object.getPrototypeOf(g);return A===null?void 0:y(A,T,x)}else{if("value"in S)return S.value;var C=S.get;return C===void 0?void 0:C.call(x)}},a=i(35),l=p(a),c=i(5),f=p(c),h=i(9),d=p(h);function p(y){return y&&y.__esModule?y:{default:y}}function w(y,g){if(!(y instanceof g))throw new TypeError("Cannot call a class as a function")}function b(y,g){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:y}function E(y,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);y.prototype=Object.create(g&&g.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(y,g):y.__proto__=g)}var _=(function(y){E(g,y);function g(){return w(this,g),b(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return s(g,null,[{key:"create",value:function(x){var S=o(g.__proto__||Object.getPrototypeOf(g),"create",this).call(this,x);return typeof x=="string"&&(window.katex.render(x,S,{throwOnError:!1,errorColor:"#f00"}),S.setAttribute("data-value",x)),S}},{key:"value",value:function(x){return x.getAttribute("data-value")}}]),g})(l.default);_.blotName="formula",_.className="ql-formula",_.tagName="SPAN";var v=(function(y){E(g,y),s(g,null,[{key:"register",value:function(){f.default.register(_,!0)}}]);function g(){w(this,g);var T=b(this,(g.__proto__||Object.getPrototypeOf(g)).call(this));if(window.katex==null)throw new Error("Formula module requires KaTeX.");return T}return g})(d.default);r.FormulaBlot=_,r.default=v}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.CodeToken=r.CodeBlock=void 0;var s=(function(){function x(S,A){for(var C=0;C<A.length;C++){var R=A[C];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(S,R.key,R)}}return function(S,A,C){return A&&x(S.prototype,A),C&&x(S,C),S}})(),o=function x(S,A,C){S===null&&(S=Function.prototype);var R=Object.getOwnPropertyDescriptor(S,A);if(R===void 0){var m=Object.getPrototypeOf(S);return m===null?void 0:x(m,A,C)}else{if("value"in R)return R.value;var I=R.get;return I===void 0?void 0:I.call(C)}},a=i(0),l=b(a),c=i(5),f=b(c),h=i(9),d=b(h),p=i(13),w=b(p);function b(x){return x&&x.__esModule?x:{default:x}}function E(x,S){if(!(x instanceof S))throw new TypeError("Cannot call a class as a function")}function _(x,S){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S&&(typeof S=="object"||typeof S=="function")?S:x}function v(x,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);x.prototype=Object.create(S&&S.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(x,S):x.__proto__=S)}var y=(function(x){v(S,x);function S(){return E(this,S),_(this,(S.__proto__||Object.getPrototypeOf(S)).apply(this,arguments))}return s(S,[{key:"replaceWith",value:function(C){this.domNode.textContent=this.domNode.textContent,this.attach(),o(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"replaceWith",this).call(this,C)}},{key:"highlight",value:function(C){var R=this.domNode.textContent;this.cachedText!==R&&((R.trim().length>0||this.cachedText==null)&&(this.domNode.innerHTML=C(R),this.domNode.normalize(),this.attach()),this.cachedText=R)}}]),S})(w.default);y.className="ql-syntax";var g=new l.default.Attributor.Class("token","hljs",{scope:l.default.Scope.INLINE}),T=(function(x){v(S,x),s(S,null,[{key:"register",value:function(){f.default.register(g,!0),f.default.register(y,!0)}}]);function S(A,C){E(this,S);var R=_(this,(S.__proto__||Object.getPrototypeOf(S)).call(this,A,C));if(typeof R.options.highlight!="function")throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var m=null;return R.quill.on(f.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(m),m=setTimeout(function(){R.highlight(),m=null},R.options.interval)}),R.highlight(),R}return s(S,[{key:"highlight",value:function(){var C=this;if(!this.quill.selection.composing){this.quill.update(f.default.sources.USER);var R=this.quill.getSelection();this.quill.scroll.descendants(y).forEach(function(m){m.highlight(C.options.highlight)}),this.quill.update(f.default.sources.SILENT),R!=null&&this.quill.setSelection(R,f.default.sources.SILENT)}}}]),S})(d.default);T.DEFAULTS={highlight:(function(){return window.hljs==null?null:function(x){var S=window.hljs.highlightAuto(x);return S.value}})(),interval:1e3},r.CodeBlock=y,r.CodeToken=g,r.default=T}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'}),(function(n,r){n.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'}),(function(n,r){n.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'}),(function(n,r){n.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'}),(function(n,r){n.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'}),(function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BubbleTooltip=void 0;var s=function S(A,C,R){A===null&&(A=Function.prototype);var m=Object.getOwnPropertyDescriptor(A,C);if(m===void 0){var I=Object.getPrototypeOf(A);return I===null?void 0:S(I,C,R)}else{if("value"in m)return m.value;var O=m.get;return O===void 0?void 0:O.call(R)}},o=(function(){function S(A,C){for(var R=0;R<C.length;R++){var m=C[R];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(A,m.key,m)}}return function(A,C,R){return C&&S(A.prototype,C),R&&S(A,R),A}})(),a=i(3),l=E(a),c=i(8),f=E(c),h=i(43),d=E(h),p=i(15),w=i(41),b=E(w);function E(S){return S&&S.__esModule?S:{default:S}}function _(S,A){if(!(S instanceof A))throw new TypeError("Cannot call a class as a function")}function v(S,A){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A&&(typeof A=="object"||typeof A=="function")?A:S}function y(S,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);S.prototype=Object.create(A&&A.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(S,A):S.__proto__=A)}var g=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],T=(function(S){y(A,S);function A(C,R){_(this,A),R.modules.toolbar!=null&&R.modules.toolbar.container==null&&(R.modules.toolbar.container=g);var m=v(this,(A.__proto__||Object.getPrototypeOf(A)).call(this,C,R));return m.quill.container.classList.add("ql-bubble"),m}return o(A,[{key:"extendToolbar",value:function(R){this.tooltip=new x(this.quill,this.options.bounds),this.tooltip.root.appendChild(R.container),this.buildButtons([].slice.call(R.container.querySelectorAll("button")),b.default),this.buildPickers([].slice.call(R.container.querySelectorAll("select")),b.default)}}]),A})(d.default);T.DEFAULTS=(0,l.default)(!0,{},d.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(A){A?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var x=(function(S){y(A,S);function A(C,R){_(this,A);var m=v(this,(A.__proto__||Object.getPrototypeOf(A)).call(this,C,R));return m.quill.on(f.default.events.EDITOR_CHANGE,function(I,O,L,H){if(I===f.default.events.SELECTION_CHANGE)if(O!=null&&O.length>0&&H===f.default.sources.USER){m.show(),m.root.style.left="0px",m.root.style.width="",m.root.style.width=m.root.offsetWidth+"px";var X=m.quill.getLines(O.index,O.length);if(X.length===1)m.position(m.quill.getBounds(O));else{var Y=X[X.length-1],le=m.quill.getIndex(Y),Z=Math.min(Y.length()-1,O.index+O.length-le),q=m.quill.getBounds(new p.Range(le,Z));m.position(q)}}else document.activeElement!==m.textbox&&m.quill.hasFocus()&&m.hide()}),m}return o(A,[{key:"listen",value:function(){var R=this;s(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){R.root.classList.remove("ql-editing")}),this.quill.on(f.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!R.root.classList.contains("ql-hidden")){var m=R.quill.getSelection();m!=null&&R.position(R.quill.getBounds(m))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(R){var m=s(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"position",this).call(this,R),I=this.root.querySelector(".ql-tooltip-arrow");if(I.style.marginLeft="",m===0)return m;I.style.marginLeft=-1*m-I.offsetWidth/2+"px"}}]),A})(h.BaseTooltip);x.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),r.BubbleTooltip=x,r.default=T}),(function(n,r,i){n.exports=i(63)})]).default})})(gl)),gl.exports}var qO=BO();const ua=Yv(qO);var ic,Xp;function HO(){if(Xp)return ic;Xp=1;var t=-1,e=1,n=0;function r(y,g,T,x){if(y===g)return y?[[n,y]]:[];if(T!=null){var S=_(y,g,T);if(S)return S}var A=a(y,g),C=y.substring(0,A);y=y.substring(A),g=g.substring(A),A=l(y,g);var R=y.substring(y.length-A);y=y.substring(0,y.length-A),g=g.substring(0,g.length-A);var m=i(y,g);return C&&m.unshift([n,C]),R&&m.push([n,R]),f(m,x),m}function i(y,g){var T;if(!y)return[[e,g]];if(!g)return[[t,y]];var x=y.length>g.length?y:g,S=y.length>g.length?g:y,A=x.indexOf(S);if(A!==-1)return T=[[e,x.substring(0,A)],[n,S],[e,x.substring(A+S.length)]],y.length>g.length&&(T[0][0]=T[2][0]=t),T;if(S.length===1)return[[t,y],[e,g]];var C=c(y,g);if(C){var R=C[0],m=C[1],I=C[2],O=C[3],L=C[4],H=r(R,I),X=r(m,O);return H.concat([[n,L]],X)}return s(y,g)}function s(y,g){for(var T=y.length,x=g.length,S=Math.ceil((T+x)/2),A=S,C=2*S,R=new Array(C),m=new Array(C),I=0;I<C;I++)R[I]=-1,m[I]=-1;R[A+1]=0,m[A+1]=0;for(var O=T-x,L=O%2!==0,H=0,X=0,Y=0,le=0,Z=0;Z<S;Z++){for(var q=-Z+H;q<=Z-X;q+=2){var D=A+q,j;q===-Z||q!==Z&&R[D-1]<R[D+1]?j=R[D+1]:j=R[D-1]+1;for(var z=j-q;j<T&&z<x&&y.charAt(j)===g.charAt(z);)j++,z++;if(R[D]=j,j>T)X+=2;else if(z>x)H+=2;else if(L){var ne=A+O-q;if(ne>=0&&ne<C&&m[ne]!==-1){var G=T-m[ne];if(j>=G)return o(y,g,j,z)}}}for(var F=-Z+Y;F<=Z-le;F+=2){var ne=A+F,G;F===-Z||F!==Z&&m[ne-1]<m[ne+1]?G=m[ne+1]:G=m[ne-1]+1;for(var V=G-F;G<T&&V<x&&y.charAt(T-G-1)===g.charAt(x-V-1);)G++,V++;if(m[ne]=G,G>T)le+=2;else if(V>x)Y+=2;else if(!L){var D=A+O-F;if(D>=0&&D<C&&R[D]!==-1){var j=R[D],z=A+j-D;if(G=T-G,j>=G)return o(y,g,j,z)}}}}return[[t,y],[e,g]]}function o(y,g,T,x){var S=y.substring(0,T),A=g.substring(0,x),C=y.substring(T),R=g.substring(x),m=r(S,A),I=r(C,R);return m.concat(I)}function a(y,g){if(!y||!g||y.charAt(0)!==g.charAt(0))return 0;for(var T=0,x=Math.min(y.length,g.length),S=x,A=0;T<S;)y.substring(A,S)==g.substring(A,S)?(T=S,A=T):x=S,S=Math.floor((x-T)/2+T);return h(y.charCodeAt(S-1))&&S--,S}function l(y,g){if(!y||!g||y.slice(-1)!==g.slice(-1))return 0;for(var T=0,x=Math.min(y.length,g.length),S=x,A=0;T<S;)y.substring(y.length-S,y.length-A)==g.substring(g.length-S,g.length-A)?(T=S,A=T):x=S,S=Math.floor((x-T)/2+T);return d(y.charCodeAt(y.length-S))&&S--,S}function c(y,g){var T=y.length>g.length?y:g,x=y.length>g.length?g:y;if(T.length<4||x.length*2<T.length)return null;function S(X,Y,le){for(var Z=X.substring(le,le+Math.floor(X.length/4)),q=-1,D="",j,z,ne,G;(q=Y.indexOf(Z,q+1))!==-1;){var F=a(X.substring(le),Y.substring(q)),V=l(X.substring(0,le),Y.substring(0,q));D.length<V+F&&(D=Y.substring(q-V,q)+Y.substring(q,q+F),j=X.substring(0,le-V),z=X.substring(le+F),ne=Y.substring(0,q-V),G=Y.substring(q+F))}return D.length*2>=X.length?[j,z,ne,G,D]:null}var A=S(T,x,Math.ceil(T.length/4)),C=S(T,x,Math.ceil(T.length/2)),R;if(!A&&!C)return null;C?A?R=A[4].length>C[4].length?A:C:R=C:R=A;var m,I,O,L;y.length>g.length?(m=R[0],I=R[1],O=R[2],L=R[3]):(O=R[0],L=R[1],m=R[2],I=R[3]);var H=R[4];return[m,I,O,L,H]}function f(y,g){y.push([n,""]);for(var T=0,x=0,S=0,A="",C="",R;T<y.length;){if(T<y.length-1&&!y[T][1]){y.splice(T,1);continue}switch(y[T][0]){case e:S++,C+=y[T][1],T++;break;case t:x++,A+=y[T][1],T++;break;case n:var m=T-S-x-1;if(g){if(m>=0&&w(y[m][1])){var I=y[m][1].slice(-1);if(y[m][1]=y[m][1].slice(0,-1),A=I+A,C=I+C,!y[m][1]){y.splice(m,1),T--;var O=m-1;y[O]&&y[O][0]===e&&(S++,C=y[O][1]+C,O--),y[O]&&y[O][0]===t&&(x++,A=y[O][1]+A,O--),m=O}}if(p(y[T][1])){var I=y[T][1].charAt(0);y[T][1]=y[T][1].slice(1),A+=I,C+=I}}if(T<y.length-1&&!y[T][1]){y.splice(T,1);break}if(A.length>0||C.length>0){A.length>0&&C.length>0&&(R=a(C,A),R!==0&&(m>=0?y[m][1]+=C.substring(0,R):(y.splice(0,0,[n,C.substring(0,R)]),T++),C=C.substring(R),A=A.substring(R)),R=l(C,A),R!==0&&(y[T][1]=C.substring(C.length-R)+y[T][1],C=C.substring(0,C.length-R),A=A.substring(0,A.length-R)));var L=S+x;A.length===0&&C.length===0?(y.splice(T-L,L),T=T-L):A.length===0?(y.splice(T-L,L,[e,C]),T=T-L+1):C.length===0?(y.splice(T-L,L,[t,A]),T=T-L+1):(y.splice(T-L,L,[t,A],[e,C]),T=T-L+2)}T!==0&&y[T-1][0]===n?(y[T-1][1]+=y[T][1],y.splice(T,1)):T++,S=0,x=0,A="",C="";break}}y[y.length-1][1]===""&&y.pop();var H=!1;for(T=1;T<y.length-1;)y[T-1][0]===n&&y[T+1][0]===n&&(y[T][1].substring(y[T][1].length-y[T-1][1].length)===y[T-1][1]?(y[T][1]=y[T-1][1]+y[T][1].substring(0,y[T][1].length-y[T-1][1].length),y[T+1][1]=y[T-1][1]+y[T+1][1],y.splice(T-1,1),H=!0):y[T][1].substring(0,y[T+1][1].length)==y[T+1][1]&&(y[T-1][1]+=y[T+1][1],y[T][1]=y[T][1].substring(y[T+1][1].length)+y[T+1][1],y.splice(T+1,1),H=!0)),T++;H&&f(y,g)}function h(y){return y>=55296&&y<=56319}function d(y){return y>=56320&&y<=57343}function p(y){return d(y.charCodeAt(0))}function w(y){return h(y.charCodeAt(y.length-1))}function b(y){for(var g=[],T=0;T<y.length;T++)y[T][1].length>0&&g.push(y[T]);return g}function E(y,g,T,x){return w(y)||p(x)?null:b([[n,y],[t,g],[e,T],[n,x]])}function _(y,g,T){var x=typeof T=="number"?{index:T,length:0}:T.oldRange,S=typeof T=="number"?null:T.newRange,A=y.length,C=g.length;if(x.length===0&&(S===null||S.length===0)){var R=x.index,m=y.slice(0,R),I=y.slice(R),O=S?S.index:null;e:{var L=R+C-A;if(O!==null&&O!==L||L<0||L>C)break e;var H=g.slice(0,L),X=g.slice(L);if(X!==I)break e;var Y=Math.min(R,L),le=m.slice(0,Y),Z=H.slice(0,Y);if(le!==Z)break e;var q=m.slice(Y),D=H.slice(Y);return E(le,q,D,I)}e:{if(O!==null&&O!==R)break e;var j=R,H=g.slice(0,j),X=g.slice(j);if(H!==m)break e;var z=Math.min(A-j,C-j),ne=I.slice(I.length-z),G=X.slice(X.length-z);if(ne!==G)break e;var q=I.slice(0,I.length-z),D=X.slice(0,X.length-z);return E(m,q,D,ne)}}if(x.length>0&&S&&S.length===0)e:{var le=y.slice(0,x.index),ne=y.slice(x.index+x.length),Y=le.length,z=ne.length;if(C<Y+z)break e;var Z=g.slice(0,Y),G=g.slice(C-z);if(le!==Z||ne!==G)break e;var q=y.slice(Y,A-z),D=g.slice(Y,C-z);return E(le,q,D,ne)}return null}function v(y,g,T){return r(y,g,T,!0)}return v.INSERT=e,v.DELETE=t,v.EQUAL=n,ic=v,ic}var Go={exports:{}};Go.exports;var Jp;function Xv(){return Jp||(Jp=1,(function(t,e){var n=200,r="__lodash_hash_undefined__",i=9007199254740991,s="[object Arguments]",o="[object Array]",a="[object Boolean]",l="[object Date]",c="[object Error]",f="[object Function]",h="[object GeneratorFunction]",d="[object Map]",p="[object Number]",w="[object Object]",b="[object Promise]",E="[object RegExp]",_="[object Set]",v="[object String]",y="[object Symbol]",g="[object WeakMap]",T="[object ArrayBuffer]",x="[object DataView]",S="[object Float32Array]",A="[object Float64Array]",C="[object Int8Array]",R="[object Int16Array]",m="[object Int32Array]",I="[object Uint8Array]",O="[object Uint8ClampedArray]",L="[object Uint16Array]",H="[object Uint32Array]",X=/[\\^$.*+?()[\]{}|]/g,Y=/\w*$/,le=/^\[object .+?Constructor\]$/,Z=/^(?:0|[1-9]\d*)$/,q={};q[s]=q[o]=q[T]=q[x]=q[a]=q[l]=q[S]=q[A]=q[C]=q[R]=q[m]=q[d]=q[p]=q[w]=q[E]=q[_]=q[v]=q[y]=q[I]=q[O]=q[L]=q[H]=!0,q[c]=q[f]=q[g]=!1;var D=typeof pi=="object"&&pi&&pi.Object===Object&&pi,j=typeof self=="object"&&self&&self.Object===Object&&self,z=D||j||Function("return this")(),ne=e&&!e.nodeType&&e,G=ne&&!0&&t&&!t.nodeType&&t,F=G&&G.exports===ne;function V(N,M){return N.set(M[0],M[1]),N}function $(N,M){return N.add(M),N}function Q(N,M){for(var W=-1,de=N?N.length:0;++W<de&&M(N[W],W,N)!==!1;);return N}function se(N,M){for(var W=-1,de=M.length,xe=N.length;++W<de;)N[xe+W]=M[W];return N}function me(N,M,W,de){for(var xe=-1,Ae=N?N.length:0;++xe<Ae;)W=M(W,N[xe],xe,N);return W}function B(N,M){for(var W=-1,de=Array(N);++W<N;)de[W]=M(W);return de}function K(N,M){return N?.[M]}function ee(N){var M=!1;if(N!=null&&typeof N.toString!="function")try{M=!!(N+"")}catch{}return M}function ue(N){var M=-1,W=Array(N.size);return N.forEach(function(de,xe){W[++M]=[xe,de]}),W}function he(N,M){return function(W){return N(M(W))}}function ce(N){var M=-1,W=Array(N.size);return N.forEach(function(de){W[++M]=de}),W}var te=Array.prototype,J=Function.prototype,re=Object.prototype,ie=z["__core-js_shared__"],ae=(function(){var N=/[^.]+$/.exec(ie&&ie.keys&&ie.keys.IE_PROTO||"");return N?"Symbol(src)_1."+N:""})(),pe=J.toString,ve=re.hasOwnProperty,_e=re.toString,Se=RegExp("^"+pe.call(ve).replace(X,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ne=F?z.Buffer:void 0,we=z.Symbol,lt=z.Uint8Array,Oe=he(Object.getPrototypeOf,Object),et=Object.create,Ct=re.propertyIsEnumerable,Xt=te.splice,Tn=Object.getOwnPropertySymbols,ut=Ne?Ne.isBuffer:void 0,ct=he(Object.keys,Object),wn=Lt(z,"DataView"),Jt=Lt(z,"Map"),sn=Lt(z,"Promise"),An=Lt(z,"Set"),Wr=Lt(z,"WeakMap"),ft=Lt(Object,"create"),$r=Vt(wn),hn=Vt(Jt),xn=Vt(sn),xi=Vt(An),Di=Vt(Wr),Zt=we?we.prototype:void 0,gs=Zt?Zt.valueOf:void 0;function Dn(N){var M=-1,W=N?N.length:0;for(this.clear();++M<W;){var de=N[M];this.set(de[0],de[1])}}function Qr(){this.__data__=ft?ft(null):{}}function ms(N){return this.has(N)&&delete this.__data__[N]}function ys(N){var M=this.__data__;if(ft){var W=M[N];return W===r?void 0:W}return ve.call(M,N)?M[N]:void 0}function Yr(N){var M=this.__data__;return ft?M[N]!==void 0:ve.call(M,N)}function Ln(N,M){var W=this.__data__;return W[N]=ft&&M===void 0?r:M,this}Dn.prototype.clear=Qr,Dn.prototype.delete=ms,Dn.prototype.get=ys,Dn.prototype.has=Yr,Dn.prototype.set=Ln;function wt(N){var M=-1,W=N?N.length:0;for(this.clear();++M<W;){var de=N[M];this.set(de[0],de[1])}}function In(){this.__data__=[]}function vs(N){var M=this.__data__,W=Qn(M,N);if(W<0)return!1;var de=M.length-1;return W==de?M.pop():Xt.call(M,W,1),!0}function _s(N){var M=this.__data__,W=Qn(M,N);return W<0?void 0:M[W][1]}function Li(N){return Qn(this.__data__,N)>-1}function Mi(N,M){var W=this.__data__,de=Qn(W,N);return de<0?W.push([N,M]):W[de][1]=M,this}wt.prototype.clear=In,wt.prototype.delete=vs,wt.prototype.get=_s,wt.prototype.has=Li,wt.prototype.set=Mi;function At(N){var M=-1,W=N?N.length:0;for(this.clear();++M<W;){var de=N[M];this.set(de[0],de[1])}}function So(){this.__data__={hash:new Dn,map:new(Jt||wt),string:new Dn}}function bs(N){return Ir(this,N).delete(N)}function Ro(N){return Ir(this,N).get(N)}function Xr(N){return Ir(this,N).has(N)}function Es(N,M){return Ir(this,N).set(N,M),this}At.prototype.clear=So,At.prototype.delete=bs,At.prototype.get=Ro,At.prototype.has=Xr,At.prototype.set=Es;function Nt(N){this.__data__=new wt(N)}function br(){this.__data__=new wt}function Mn(N){return this.__data__.delete(N)}function Vi(N){return this.__data__.get(N)}function Oo(N){return this.__data__.has(N)}function Ts(N,M){var W=this.__data__;if(W instanceof wt){var de=W.__data__;if(!Jt||de.length<n-1)return de.push([N,M]),this;W=this.__data__=new At(de)}return W.set(N,M),this}Nt.prototype.clear=br,Nt.prototype.delete=Mn,Nt.prototype.get=Vi,Nt.prototype.has=Oo,Nt.prototype.set=Ts;function Er(N,M){var W=Jn(N)||Xn(N)?B(N.length,String):[],de=W.length,xe=!!de;for(var Ae in N)ve.call(N,Ae)&&!(xe&&(Ae=="length"||Os(Ae,de)))&&W.push(Ae);return W}function Ui(N,M,W){var de=N[M];(!(ve.call(N,M)&&Cs(de,W))||W===void 0&&!(M in N))&&(N[M]=W)}function Qn(N,M){for(var W=N.length;W--;)if(Cs(N[W][0],M))return W;return-1}function on(N,M){return N&&Fi(M,ji(M),N)}function Jr(N,M,W,de,xe,Ae,qe){var Ue;if(de&&(Ue=Ae?de(N,xe,Ae,qe):de(N)),Ue!==void 0)return Ue;if(!ze(N))return N;var st=Jn(N);if(st){if(Ue=Ss(N),!M)return Is(N,Ue)}else{var Ke=On(N),yt=Ke==f||Ke==h;if(Zn(N))return Rn(N,M);if(Ke==w||Ke==s||yt&&!Ae){if(ee(N))return Ae?N:{};if(Ue=dn(yt?{}:N),!M)return No(N,on(Ue,N))}else{if(!q[Ke])return Ae?N:{};Ue=Rs(N,Ke,Jr,M)}}qe||(qe=new Nt);var Bt=qe.get(N);if(Bt)return Bt;if(qe.set(N,Ue),!st)var dt=W?ko(N):ji(N);return Q(dt||N,function(pt,_t){dt&&(_t=pt,pt=N[_t]),Ui(Ue,_t,Jr(pt,M,W,de,_t,N,qe))}),Ue}function ws(N){return ze(N)?et(N):{}}function As(N,M,W){var de=M(N);return Jn(N)?de:se(de,W(N))}function Po(N){return _e.call(N)}function Sn(N){if(!ze(N)||xo(N))return!1;var M=Zr(N)||ee(N)?Se:le;return M.test(Vt(N))}function an(N){if(!Ps(N))return ct(N);var M=[];for(var W in Object(N))ve.call(N,W)&&W!="constructor"&&M.push(W);return M}function Rn(N,M){if(M)return N.slice();var W=new N.constructor(N.length);return N.copy(W),W}function Vn(N){var M=new N.constructor(N.byteLength);return new lt(M).set(new lt(N)),M}function Un(N,M){var W=M?Vn(N.buffer):N.buffer;return new N.constructor(W,N.byteOffset,N.byteLength)}function We(N,M,W){var de=M?W(ue(N),!0):ue(N);return me(de,V,new N.constructor)}function Tr(N){var M=new N.constructor(N.source,Y.exec(N));return M.lastIndex=N.lastIndex,M}function wr(N,M,W){var de=M?W(ce(N),!0):ce(N);return me(de,$,new N.constructor)}function Ar(N){return gs?Object(gs.call(N)):{}}function Co(N,M){var W=M?Vn(N.buffer):N.buffer;return new N.constructor(W,N.byteOffset,N.length)}function Is(N,M){var W=-1,de=N.length;for(M||(M=Array(de));++W<de;)M[W]=N[W];return M}function Fi(N,M,W,de){W||(W={});for(var xe=-1,Ae=M.length;++xe<Ae;){var qe=M[xe],Ue=void 0;Ui(W,qe,Ue===void 0?N[qe]:Ue)}return W}function No(N,M){return Fi(N,Mt(N),M)}function ko(N){return As(N,ji,Mt)}function Ir(N,M){var W=N.__data__;return Yn(M)?W[typeof M=="string"?"string":"hash"]:W.map}function Lt(N,M){var W=K(N,M);return Sn(W)?W:void 0}var Mt=Tn?he(Tn,Object):ks,On=Po;(wn&&On(new wn(new ArrayBuffer(1)))!=x||Jt&&On(new Jt)!=d||sn&&On(sn.resolve())!=b||An&&On(new An)!=_||Wr&&On(new Wr)!=g)&&(On=function(N){var M=_e.call(N),W=M==w?N.constructor:void 0,de=W?Vt(W):void 0;if(de)switch(de){case $r:return x;case hn:return d;case xn:return b;case xi:return _;case Di:return g}return M});function Ss(N){var M=N.length,W=N.constructor(M);return M&&typeof N[0]=="string"&&ve.call(N,"index")&&(W.index=N.index,W.input=N.input),W}function dn(N){return typeof N.constructor=="function"&&!Ps(N)?ws(Oe(N)):{}}function Rs(N,M,W,de){var xe=N.constructor;switch(M){case T:return Vn(N);case a:case l:return new xe(+N);case x:return Un(N,de);case S:case A:case C:case R:case m:case I:case O:case L:case H:return Co(N,de);case d:return We(N,de,W);case p:case v:return new xe(N);case E:return Tr(N);case _:return wr(N,de,W);case y:return Ar(N)}}function Os(N,M){return M=M??i,!!M&&(typeof N=="number"||Z.test(N))&&N>-1&&N%1==0&&N<M}function Yn(N){var M=typeof N;return M=="string"||M=="number"||M=="symbol"||M=="boolean"?N!=="__proto__":N===null}function xo(N){return!!ae&&ae in N}function Ps(N){var M=N&&N.constructor,W=typeof M=="function"&&M.prototype||re;return N===W}function Vt(N){if(N!=null){try{return pe.call(N)}catch{}try{return N+""}catch{}}return""}function pn(N){return Jr(N,!0,!0)}function Cs(N,M){return N===M||N!==N&&M!==M}function Xn(N){return Rr(N)&&ve.call(N,"callee")&&(!Ct.call(N,"callee")||_e.call(N)==s)}var Jn=Array.isArray;function Sr(N){return N!=null&&ei(N.length)&&!Zr(N)}function Rr(N){return Ns(N)&&Sr(N)}var Zn=ut||xs;function Zr(N){var M=ze(N)?_e.call(N):"";return M==f||M==h}function ei(N){return typeof N=="number"&&N>-1&&N%1==0&&N<=i}function ze(N){var M=typeof N;return!!N&&(M=="object"||M=="function")}function Ns(N){return!!N&&typeof N=="object"}function ji(N){return Sr(N)?Er(N):an(N)}function ks(){return[]}function xs(){return!1}t.exports=pn})(Go,Go.exports)),Go.exports}var Wo={exports:{}};Wo.exports;var Zp;function Jv(){return Zp||(Zp=1,(function(t,e){var n=200,r="__lodash_hash_undefined__",i=1,s=2,o=9007199254740991,a="[object Arguments]",l="[object Array]",c="[object AsyncFunction]",f="[object Boolean]",h="[object Date]",d="[object Error]",p="[object Function]",w="[object GeneratorFunction]",b="[object Map]",E="[object Number]",_="[object Null]",v="[object Object]",y="[object Promise]",g="[object Proxy]",T="[object RegExp]",x="[object Set]",S="[object String]",A="[object Symbol]",C="[object Undefined]",R="[object WeakMap]",m="[object ArrayBuffer]",I="[object DataView]",O="[object Float32Array]",L="[object Float64Array]",H="[object Int8Array]",X="[object Int16Array]",Y="[object Int32Array]",le="[object Uint8Array]",Z="[object Uint8ClampedArray]",q="[object Uint16Array]",D="[object Uint32Array]",j=/[\\^$.*+?()[\]{}|]/g,z=/^\[object .+?Constructor\]$/,ne=/^(?:0|[1-9]\d*)$/,G={};G[O]=G[L]=G[H]=G[X]=G[Y]=G[le]=G[Z]=G[q]=G[D]=!0,G[a]=G[l]=G[m]=G[f]=G[I]=G[h]=G[d]=G[p]=G[b]=G[E]=G[v]=G[T]=G[x]=G[S]=G[R]=!1;var F=typeof pi=="object"&&pi&&pi.Object===Object&&pi,V=typeof self=="object"&&self&&self.Object===Object&&self,$=F||V||Function("return this")(),Q=e&&!e.nodeType&&e,se=Q&&!0&&t&&!t.nodeType&&t,me=se&&se.exports===Q,B=me&&F.process,K=(function(){try{return B&&B.binding&&B.binding("util")}catch{}})(),ee=K&&K.isTypedArray;function ue(N,M){for(var W=-1,de=N==null?0:N.length,xe=0,Ae=[];++W<de;){var qe=N[W];M(qe,W,N)&&(Ae[xe++]=qe)}return Ae}function he(N,M){for(var W=-1,de=M.length,xe=N.length;++W<de;)N[xe+W]=M[W];return N}function ce(N,M){for(var W=-1,de=N==null?0:N.length;++W<de;)if(M(N[W],W,N))return!0;return!1}function te(N,M){for(var W=-1,de=Array(N);++W<N;)de[W]=M(W);return de}function J(N){return function(M){return N(M)}}function re(N,M){return N.has(M)}function ie(N,M){return N?.[M]}function ae(N){var M=-1,W=Array(N.size);return N.forEach(function(de,xe){W[++M]=[xe,de]}),W}function pe(N,M){return function(W){return N(M(W))}}function ve(N){var M=-1,W=Array(N.size);return N.forEach(function(de){W[++M]=de}),W}var _e=Array.prototype,Se=Function.prototype,Ne=Object.prototype,we=$["__core-js_shared__"],lt=Se.toString,Oe=Ne.hasOwnProperty,et=(function(){var N=/[^.]+$/.exec(we&&we.keys&&we.keys.IE_PROTO||"");return N?"Symbol(src)_1."+N:""})(),Ct=Ne.toString,Xt=RegExp("^"+lt.call(Oe).replace(j,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Tn=me?$.Buffer:void 0,ut=$.Symbol,ct=$.Uint8Array,wn=Ne.propertyIsEnumerable,Jt=_e.splice,sn=ut?ut.toStringTag:void 0,An=Object.getOwnPropertySymbols,Wr=Tn?Tn.isBuffer:void 0,ft=pe(Object.keys,Object),$r=Mt($,"DataView"),hn=Mt($,"Map"),xn=Mt($,"Promise"),xi=Mt($,"Set"),Di=Mt($,"WeakMap"),Zt=Mt(Object,"create"),gs=Vt($r),Dn=Vt(hn),Qr=Vt(xn),ms=Vt(xi),ys=Vt(Di),Yr=ut?ut.prototype:void 0,Ln=Yr?Yr.valueOf:void 0;function wt(N){var M=-1,W=N==null?0:N.length;for(this.clear();++M<W;){var de=N[M];this.set(de[0],de[1])}}function In(){this.__data__=Zt?Zt(null):{},this.size=0}function vs(N){var M=this.has(N)&&delete this.__data__[N];return this.size-=M?1:0,M}function _s(N){var M=this.__data__;if(Zt){var W=M[N];return W===r?void 0:W}return Oe.call(M,N)?M[N]:void 0}function Li(N){var M=this.__data__;return Zt?M[N]!==void 0:Oe.call(M,N)}function Mi(N,M){var W=this.__data__;return this.size+=this.has(N)?0:1,W[N]=Zt&&M===void 0?r:M,this}wt.prototype.clear=In,wt.prototype.delete=vs,wt.prototype.get=_s,wt.prototype.has=Li,wt.prototype.set=Mi;function At(N){var M=-1,W=N==null?0:N.length;for(this.clear();++M<W;){var de=N[M];this.set(de[0],de[1])}}function So(){this.__data__=[],this.size=0}function bs(N){var M=this.__data__,W=Rn(M,N);if(W<0)return!1;var de=M.length-1;return W==de?M.pop():Jt.call(M,W,1),--this.size,!0}function Ro(N){var M=this.__data__,W=Rn(M,N);return W<0?void 0:M[W][1]}function Xr(N){return Rn(this.__data__,N)>-1}function Es(N,M){var W=this.__data__,de=Rn(W,N);return de<0?(++this.size,W.push([N,M])):W[de][1]=M,this}At.prototype.clear=So,At.prototype.delete=bs,At.prototype.get=Ro,At.prototype.has=Xr,At.prototype.set=Es;function Nt(N){var M=-1,W=N==null?0:N.length;for(this.clear();++M<W;){var de=N[M];this.set(de[0],de[1])}}function br(){this.size=0,this.__data__={hash:new wt,map:new(hn||At),string:new wt}}function Mn(N){var M=Lt(this,N).delete(N);return this.size-=M?1:0,M}function Vi(N){return Lt(this,N).get(N)}function Oo(N){return Lt(this,N).has(N)}function Ts(N,M){var W=Lt(this,N),de=W.size;return W.set(N,M),this.size+=W.size==de?0:1,this}Nt.prototype.clear=br,Nt.prototype.delete=Mn,Nt.prototype.get=Vi,Nt.prototype.has=Oo,Nt.prototype.set=Ts;function Er(N){var M=-1,W=N==null?0:N.length;for(this.__data__=new Nt;++M<W;)this.add(N[M])}function Ui(N){return this.__data__.set(N,r),this}function Qn(N){return this.__data__.has(N)}Er.prototype.add=Er.prototype.push=Ui,Er.prototype.has=Qn;function on(N){var M=this.__data__=new At(N);this.size=M.size}function Jr(){this.__data__=new At,this.size=0}function ws(N){var M=this.__data__,W=M.delete(N);return this.size=M.size,W}function As(N){return this.__data__.get(N)}function Po(N){return this.__data__.has(N)}function Sn(N,M){var W=this.__data__;if(W instanceof At){var de=W.__data__;if(!hn||de.length<n-1)return de.push([N,M]),this.size=++W.size,this;W=this.__data__=new Nt(de)}return W.set(N,M),this.size=W.size,this}on.prototype.clear=Jr,on.prototype.delete=ws,on.prototype.get=As,on.prototype.has=Po,on.prototype.set=Sn;function an(N,M){var W=Xn(N),de=!W&&Cs(N),xe=!W&&!de&&Sr(N),Ae=!W&&!de&&!xe&&Ns(N),qe=W||de||xe||Ae,Ue=qe?te(N.length,String):[],st=Ue.length;for(var Ke in N)Oe.call(N,Ke)&&!(qe&&(Ke=="length"||xe&&(Ke=="offset"||Ke=="parent")||Ae&&(Ke=="buffer"||Ke=="byteLength"||Ke=="byteOffset")||Rs(Ke,st)))&&Ue.push(Ke);return Ue}function Rn(N,M){for(var W=N.length;W--;)if(pn(N[W][0],M))return W;return-1}function Vn(N,M,W){var de=M(N);return Xn(N)?de:he(de,W(N))}function Un(N){return N==null?N===void 0?C:_:sn&&sn in Object(N)?On(N):Ps(N)}function We(N){return ze(N)&&Un(N)==a}function Tr(N,M,W,de,xe){return N===M?!0:N==null||M==null||!ze(N)&&!ze(M)?N!==N&&M!==M:wr(N,M,W,de,Tr,xe)}function wr(N,M,W,de,xe,Ae){var qe=Xn(N),Ue=Xn(M),st=qe?l:dn(N),Ke=Ue?l:dn(M);st=st==a?v:st,Ke=Ke==a?v:Ke;var yt=st==v,Bt=Ke==v,dt=st==Ke;if(dt&&Sr(N)){if(!Sr(M))return!1;qe=!0,yt=!1}if(dt&&!yt)return Ae||(Ae=new on),qe||Ns(N)?Fi(N,M,W,de,xe,Ae):No(N,M,st,W,de,xe,Ae);if(!(W&i)){var pt=yt&&Oe.call(N,"__wrapped__"),_t=Bt&&Oe.call(M,"__wrapped__");if(pt||_t){var Fn=pt?N.value():N,gn=_t?M.value():M;return Ae||(Ae=new on),xe(Fn,gn,W,de,Ae)}}return dt?(Ae||(Ae=new on),ko(N,M,W,de,xe,Ae)):!1}function Ar(N){if(!ei(N)||Yn(N))return!1;var M=Zn(N)?Xt:z;return M.test(Vt(N))}function Co(N){return ze(N)&&Zr(N.length)&&!!G[Un(N)]}function Is(N){if(!xo(N))return ft(N);var M=[];for(var W in Object(N))Oe.call(N,W)&&W!="constructor"&&M.push(W);return M}function Fi(N,M,W,de,xe,Ae){var qe=W&i,Ue=N.length,st=M.length;if(Ue!=st&&!(qe&&st>Ue))return!1;var Ke=Ae.get(N);if(Ke&&Ae.get(M))return Ke==M;var yt=-1,Bt=!0,dt=W&s?new Er:void 0;for(Ae.set(N,M),Ae.set(M,N);++yt<Ue;){var pt=N[yt],_t=M[yt];if(de)var Fn=qe?de(_t,pt,yt,M,N,Ae):de(pt,_t,yt,N,M,Ae);if(Fn!==void 0){if(Fn)continue;Bt=!1;break}if(dt){if(!ce(M,function(gn,jn){if(!re(dt,jn)&&(pt===gn||xe(pt,gn,W,de,Ae)))return dt.push(jn)})){Bt=!1;break}}else if(!(pt===_t||xe(pt,_t,W,de,Ae))){Bt=!1;break}}return Ae.delete(N),Ae.delete(M),Bt}function No(N,M,W,de,xe,Ae,qe){switch(W){case I:if(N.byteLength!=M.byteLength||N.byteOffset!=M.byteOffset)return!1;N=N.buffer,M=M.buffer;case m:return!(N.byteLength!=M.byteLength||!Ae(new ct(N),new ct(M)));case f:case h:case E:return pn(+N,+M);case d:return N.name==M.name&&N.message==M.message;case T:case S:return N==M+"";case b:var Ue=ae;case x:var st=de&i;if(Ue||(Ue=ve),N.size!=M.size&&!st)return!1;var Ke=qe.get(N);if(Ke)return Ke==M;de|=s,qe.set(N,M);var yt=Fi(Ue(N),Ue(M),de,xe,Ae,qe);return qe.delete(N),yt;case A:if(Ln)return Ln.call(N)==Ln.call(M)}return!1}function ko(N,M,W,de,xe,Ae){var qe=W&i,Ue=Ir(N),st=Ue.length,Ke=Ir(M),yt=Ke.length;if(st!=yt&&!qe)return!1;for(var Bt=st;Bt--;){var dt=Ue[Bt];if(!(qe?dt in M:Oe.call(M,dt)))return!1}var pt=Ae.get(N);if(pt&&Ae.get(M))return pt==M;var _t=!0;Ae.set(N,M),Ae.set(M,N);for(var Fn=qe;++Bt<st;){dt=Ue[Bt];var gn=N[dt],jn=M[dt];if(de)var Do=qe?de(jn,gn,dt,M,N,Ae):de(gn,jn,dt,N,M,Ae);if(!(Do===void 0?gn===jn||xe(gn,jn,W,de,Ae):Do)){_t=!1;break}Fn||(Fn=dt=="constructor")}if(_t&&!Fn){var Or=N.constructor,Bi=M.constructor;Or!=Bi&&"constructor"in N&&"constructor"in M&&!(typeof Or=="function"&&Or instanceof Or&&typeof Bi=="function"&&Bi instanceof Bi)&&(_t=!1)}return Ae.delete(N),Ae.delete(M),_t}function Ir(N){return Vn(N,ji,Ss)}function Lt(N,M){var W=N.__data__;return Os(M)?W[typeof M=="string"?"string":"hash"]:W.map}function Mt(N,M){var W=ie(N,M);return Ar(W)?W:void 0}function On(N){var M=Oe.call(N,sn),W=N[sn];try{N[sn]=void 0;var de=!0}catch{}var xe=Ct.call(N);return de&&(M?N[sn]=W:delete N[sn]),xe}var Ss=An?function(N){return N==null?[]:(N=Object(N),ue(An(N),function(M){return wn.call(N,M)}))}:ks,dn=Un;($r&&dn(new $r(new ArrayBuffer(1)))!=I||hn&&dn(new hn)!=b||xn&&dn(xn.resolve())!=y||xi&&dn(new xi)!=x||Di&&dn(new Di)!=R)&&(dn=function(N){var M=Un(N),W=M==v?N.constructor:void 0,de=W?Vt(W):"";if(de)switch(de){case gs:return I;case Dn:return b;case Qr:return y;case ms:return x;case ys:return R}return M});function Rs(N,M){return M=M??o,!!M&&(typeof N=="number"||ne.test(N))&&N>-1&&N%1==0&&N<M}function Os(N){var M=typeof N;return M=="string"||M=="number"||M=="symbol"||M=="boolean"?N!=="__proto__":N===null}function Yn(N){return!!et&&et in N}function xo(N){var M=N&&N.constructor,W=typeof M=="function"&&M.prototype||Ne;return N===W}function Ps(N){return Ct.call(N)}function Vt(N){if(N!=null){try{return lt.call(N)}catch{}try{return N+""}catch{}}return""}function pn(N,M){return N===M||N!==N&&M!==M}var Cs=We((function(){return arguments})())?We:function(N){return ze(N)&&Oe.call(N,"callee")&&!wn.call(N,"callee")},Xn=Array.isArray;function Jn(N){return N!=null&&Zr(N.length)&&!Zn(N)}var Sr=Wr||xs;function Rr(N,M){return Tr(N,M)}function Zn(N){if(!ei(N))return!1;var M=Un(N);return M==p||M==w||M==c||M==g}function Zr(N){return typeof N=="number"&&N>-1&&N%1==0&&N<=o}function ei(N){var M=typeof N;return N!=null&&(M=="object"||M=="function")}function ze(N){return N!=null&&typeof N=="object"}var Ns=ee?J(ee):Co;function ji(N){return Jn(N)?an(N):Is(N)}function ks(){return[]}function xs(){return!1}t.exports=Rr})(Wo,Wo.exports)),Wo.exports}var Ms={},eg;function zO(){if(eg)return Ms;eg=1;var t=Ms&&Ms.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Ms,"__esModule",{value:!0});var e=t(Xv()),n=t(Jv()),r;return(function(i){function s(c,f,h){c===void 0&&(c={}),f===void 0&&(f={}),typeof c!="object"&&(c={}),typeof f!="object"&&(f={});var d=e.default(f);h||(d=Object.keys(d).reduce(function(w,b){return d[b]!=null&&(w[b]=d[b]),w},{}));for(var p in c)c[p]!==void 0&&f[p]===void 0&&(d[p]=c[p]);return Object.keys(d).length>0?d:void 0}i.compose=s;function o(c,f){c===void 0&&(c={}),f===void 0&&(f={}),typeof c!="object"&&(c={}),typeof f!="object"&&(f={});var h=Object.keys(c).concat(Object.keys(f)).reduce(function(d,p){return n.default(c[p],f[p])||(d[p]=f[p]===void 0?null:f[p]),d},{});return Object.keys(h).length>0?h:void 0}i.diff=o;function a(c,f){c===void 0&&(c={}),f===void 0&&(f={}),c=c||{};var h=Object.keys(f).reduce(function(d,p){return f[p]!==c[p]&&c[p]!==void 0&&(d[p]=f[p]),d},{});return Object.keys(c).reduce(function(d,p){return c[p]!==f[p]&&f[p]===void 0&&(d[p]=null),d},h)}i.invert=a;function l(c,f,h){if(h===void 0&&(h=!1),typeof c!="object")return f;if(typeof f=="object"){if(!h)return f;var d=Object.keys(f).reduce(function(p,w){return c[w]===void 0&&(p[w]=f[w]),p},{});return Object.keys(d).length>0?d:void 0}}i.transform=l})(r||(r={})),Ms.default=r,Ms}var Vs={},Us={},tg;function KO(){if(tg)return Us;tg=1;var t=Us&&Us.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Us,"__esModule",{value:!0});var e=t(Zv()),n=(function(){function r(i){this.ops=i,this.index=0,this.offset=0}return r.prototype.hasNext=function(){return this.peekLength()<1/0},r.prototype.next=function(i){i||(i=1/0);var s=this.ops[this.index];if(s){var o=this.offset,a=e.default.length(s);if(i>=a-o?(i=a-o,this.index+=1,this.offset=0):this.offset+=i,typeof s.delete=="number")return{delete:i};var l={};return s.attributes&&(l.attributes=s.attributes),typeof s.retain=="number"?l.retain=i:typeof s.insert=="string"?l.insert=s.insert.substr(o,i):l.insert=s.insert,l}else return{retain:1/0}},r.prototype.peek=function(){return this.ops[this.index]},r.prototype.peekLength=function(){return this.ops[this.index]?e.default.length(this.ops[this.index])-this.offset:1/0},r.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},r.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var i=this.offset,s=this.index,o=this.next(),a=this.ops.slice(this.index);return this.offset=i,this.index=s,[o].concat(a)}else return[]},r})();return Us.default=n,Us}var ng;function Zv(){if(ng)return Vs;ng=1;var t=Vs&&Vs.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Vs,"__esModule",{value:!0});var e=t(KO()),n;return(function(r){function i(o){return new e.default(o)}r.iterator=i;function s(o){return typeof o.delete=="number"?o.delete:typeof o.retain=="number"?o.retain:typeof o.insert=="string"?o.insert.length:1}r.length=s})(n||(n={})),Vs.default=n,Vs}var Uo,rg;function GO(){if(rg)return Uo;rg=1;var t=Uo&&Uo.__importDefault||function(l){return l&&l.__esModule?l:{default:l}},e=t(HO()),n=t(Xv()),r=t(Jv()),i=t(zO()),s=t(Zv()),o="\0",a=(function(){function l(c){Array.isArray(c)?this.ops=c:c!=null&&Array.isArray(c.ops)?this.ops=c.ops:this.ops=[]}return l.prototype.insert=function(c,f){var h={};return typeof c=="string"&&c.length===0?this:(h.insert=c,f!=null&&typeof f=="object"&&Object.keys(f).length>0&&(h.attributes=f),this.push(h))},l.prototype.delete=function(c){return c<=0?this:this.push({delete:c})},l.prototype.retain=function(c,f){if(c<=0)return this;var h={retain:c};return f!=null&&typeof f=="object"&&Object.keys(f).length>0&&(h.attributes=f),this.push(h)},l.prototype.push=function(c){var f=this.ops.length,h=this.ops[f-1];if(c=n.default(c),typeof h=="object"){if(typeof c.delete=="number"&&typeof h.delete=="number")return this.ops[f-1]={delete:h.delete+c.delete},this;if(typeof h.delete=="number"&&c.insert!=null&&(f-=1,h=this.ops[f-1],typeof h!="object"))return this.ops.unshift(c),this;if(r.default(c.attributes,h.attributes)){if(typeof c.insert=="string"&&typeof h.insert=="string")return this.ops[f-1]={insert:h.insert+c.insert},typeof c.attributes=="object"&&(this.ops[f-1].attributes=c.attributes),this;if(typeof c.retain=="number"&&typeof h.retain=="number")return this.ops[f-1]={retain:h.retain+c.retain},typeof c.attributes=="object"&&(this.ops[f-1].attributes=c.attributes),this}}return f===this.ops.length?this.ops.push(c):this.ops.splice(f,0,c),this},l.prototype.chop=function(){var c=this.ops[this.ops.length-1];return c&&c.retain&&!c.attributes&&this.ops.pop(),this},l.prototype.filter=function(c){return this.ops.filter(c)},l.prototype.forEach=function(c){this.ops.forEach(c)},l.prototype.map=function(c){return this.ops.map(c)},l.prototype.partition=function(c){var f=[],h=[];return this.forEach(function(d){var p=c(d)?f:h;p.push(d)}),[f,h]},l.prototype.reduce=function(c,f){return this.ops.reduce(c,f)},l.prototype.changeLength=function(){return this.reduce(function(c,f){return f.insert?c+s.default.length(f):f.delete?c-f.delete:c},0)},l.prototype.length=function(){return this.reduce(function(c,f){return c+s.default.length(f)},0)},l.prototype.slice=function(c,f){c===void 0&&(c=0),f===void 0&&(f=1/0);for(var h=[],d=s.default.iterator(this.ops),p=0;p<f&&d.hasNext();){var w=void 0;p<c?w=d.next(c-p):(w=d.next(f-p),h.push(w)),p+=s.default.length(w)}return new l(h)},l.prototype.compose=function(c){var f=s.default.iterator(this.ops),h=s.default.iterator(c.ops),d=[],p=h.peek();if(p!=null&&typeof p.retain=="number"&&p.attributes==null){for(var w=p.retain;f.peekType()==="insert"&&f.peekLength()<=w;)w-=f.peekLength(),d.push(f.next());p.retain-w>0&&h.next(p.retain-w)}for(var b=new l(d);f.hasNext()||h.hasNext();)if(h.peekType()==="insert")b.push(h.next());else if(f.peekType()==="delete")b.push(f.next());else{var E=Math.min(f.peekLength(),h.peekLength()),_=f.next(E),v=h.next(E);if(typeof v.retain=="number"){var y={};typeof _.retain=="number"?y.retain=E:y.insert=_.insert;var g=i.default.compose(_.attributes,v.attributes,typeof _.retain=="number");if(g&&(y.attributes=g),b.push(y),!h.hasNext()&&r.default(b.ops[b.ops.length-1],y)){var T=new l(f.rest());return b.concat(T).chop()}}else typeof v.delete=="number"&&typeof _.retain=="number"&&b.push(v)}return b.chop()},l.prototype.concat=function(c){var f=new l(this.ops.slice());return c.ops.length>0&&(f.push(c.ops[0]),f.ops=f.ops.concat(c.ops.slice(1))),f},l.prototype.diff=function(c,f){if(this.ops===c.ops)return new l;var h=[this,c].map(function(E){return E.map(function(_){if(_.insert!=null)return typeof _.insert=="string"?_.insert:o;var v=E===c?"on":"with";throw new Error("diff() called "+v+" non-document")}).join("")}),d=new l,p=e.default(h[0],h[1],f),w=s.default.iterator(this.ops),b=s.default.iterator(c.ops);return p.forEach(function(E){for(var _=E[1].length;_>0;){var v=0;switch(E[0]){case e.default.INSERT:v=Math.min(b.peekLength(),_),d.push(b.next(v));break;case e.default.DELETE:v=Math.min(_,w.peekLength()),w.next(v),d.delete(v);break;case e.default.EQUAL:v=Math.min(w.peekLength(),b.peekLength(),_);var y=w.next(v),g=b.next(v);r.default(y.insert,g.insert)?d.retain(v,i.default.diff(y.attributes,g.attributes)):d.push(g).delete(v);break}_-=v}}),d.chop()},l.prototype.eachLine=function(c,f){f===void 0&&(f=`
`);for(var h=s.default.iterator(this.ops),d=new l,p=0;h.hasNext();){if(h.peekType()!=="insert")return;var w=h.peek(),b=s.default.length(w)-h.peekLength(),E=typeof w.insert=="string"?w.insert.indexOf(f,b)-b:-1;if(E<0)d.push(h.next());else if(E>0)d.push(h.next(E));else{if(c(d,h.next(1).attributes||{},p)===!1)return;p+=1,d=new l}}d.length()>0&&c(d,{},p)},l.prototype.invert=function(c){var f=new l;return this.reduce(function(h,d){if(d.insert)f.delete(s.default.length(d));else{if(d.retain&&d.attributes==null)return f.retain(d.retain),h+d.retain;if(d.delete||d.retain&&d.attributes){var p=d.delete||d.retain,w=c.slice(h,h+p);return w.forEach(function(b){d.delete?f.push(b):d.retain&&d.attributes&&f.retain(s.default.length(b),i.default.invert(d.attributes,b.attributes))}),h+p}}return h},0),f.chop()},l.prototype.transform=function(c,f){if(f===void 0&&(f=!1),f=!!f,typeof c=="number")return this.transformPosition(c,f);for(var h=c,d=s.default.iterator(this.ops),p=s.default.iterator(h.ops),w=new l;d.hasNext()||p.hasNext();)if(d.peekType()==="insert"&&(f||p.peekType()!=="insert"))w.retain(s.default.length(d.next()));else if(p.peekType()==="insert")w.push(p.next());else{var b=Math.min(d.peekLength(),p.peekLength()),E=d.next(b),_=p.next(b);if(E.delete)continue;_.delete?w.push(_):w.retain(b,i.default.transform(E.attributes,_.attributes,f))}return w.chop()},l.prototype.transformPosition=function(c,f){f===void 0&&(f=!1),f=!!f;for(var h=s.default.iterator(this.ops),d=0;h.hasNext()&&d<=c;){var p=h.peekLength(),w=h.peekType();if(h.next(),w==="delete"){c-=Math.min(p,c-d);continue}else w==="insert"&&(d<c||!f)&&(c+=p);d+=p}return c},l.Op=s.default,l.AttributeMap=i.default,l})();return Uo=a,Uo}var WO=GO();const dh=Yv(WO);const ig={essential:[[{header:[1,2,3,4,5,6,!1]}],["bold","italic","underline"],[{list:"ordered"},{list:"bullet"},{align:[]}],["blockquote","code-block","link"],[{color:[]},"clean"]],minimal:[[{header:1},{header:2}],["bold","italic","underline"],[{list:"ordered"},{list:"bullet"},{align:[]}]],full:[["bold","italic","underline","strike"],["blockquote","code-block"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]}],["link","video","image"],["clean"]]},$O=cf({name:"QuillEditor",inheritAttrs:!1,props:{content:{type:[String,Object]},contentType:{type:String,default:"delta",validator:t=>["delta","html","text"].includes(t)},enable:{type:Boolean,default:!0},readOnly:{type:Boolean,default:!1},placeholder:{type:String,required:!1},theme:{type:String,default:"snow",validator:t=>["snow","bubble",""].includes(t)},toolbar:{type:[String,Array,Object],required:!1,validator:t=>typeof t=="string"&&t!==""?t.charAt(0)==="#"?!0:Object.keys(ig).indexOf(t)!==-1:!0},modules:{type:Object,required:!1},options:{type:Object,required:!1},globalOptions:{type:Object,required:!1}},emits:["textChange","selectionChange","editorChange","update:content","focus","blur","ready"],setup:(t,e)=>{_o(()=>{s()}),Ug(()=>{n=null});let n,r;const i=Ze(),s=()=>{var m;if(i.value){if(r=o(),t.modules)if(Array.isArray(t.modules))for(const I of t.modules)ua.register(`modules/${I.name}`,I.module);else ua.register(`modules/${t.modules.name}`,t.modules.module);n=new ua(i.value,r),y(t.content),n.on("text-change",h),n.on("selection-change",p),n.on("editor-change",w),t.theme!=="bubble"&&i.value.classList.remove("ql-bubble"),t.theme!=="snow"&&i.value.classList.remove("ql-snow"),(m=n.getModule("toolbar"))===null||m===void 0||m.container.addEventListener("mousedown",I=>{I.preventDefault()}),e.emit("ready",n)}},o=()=>{const m={};if(t.theme!==""&&(m.theme=t.theme),t.readOnly&&(m.readOnly=t.readOnly),t.placeholder&&(m.placeholder=t.placeholder),t.toolbar&&t.toolbar!==""&&(m.modules={toolbar:(()=>{if(typeof t.toolbar=="object")return t.toolbar;if(typeof t.toolbar=="string")return t.toolbar.charAt(0)==="#"?t.toolbar:ig[t.toolbar]})()}),t.modules){const I=(()=>{var O,L;const H={};if(Array.isArray(t.modules))for(const X of t.modules)H[X.name]=(O=X.options)!==null&&O!==void 0?O:{};else H[t.modules.name]=(L=t.modules.options)!==null&&L!==void 0?L:{};return H})();m.modules=Object.assign({},m.modules,I)}return Object.assign({},t.globalOptions,t.options,m)},a=m=>typeof m=="object"&&m?m.slice():m,l=m=>Object.values(m.ops).some(I=>!I.retain||Object.keys(I).length!==1);let c;const f=m=>{if(typeof c==typeof m){if(m===c)return!0;if(typeof m=="object"&&m&&typeof c=="object"&&c)return!l(c.diff(m))}return!1},h=(m,I,O)=>{c=a(v()),f(t.content)||e.emit("update:content",c),e.emit("textChange",{delta:m,oldContents:I,source:O})},d=Ze(),p=(m,I,O)=>{d.value=!!n?.hasFocus(),e.emit("selectionChange",{range:m,oldRange:I,source:O})};es(d,m=>{m?e.emit("focus",i):e.emit("blur",i)});const w=(...m)=>{m[0]==="text-change"&&e.emit("editorChange",{name:m[0],delta:m[1],oldContents:m[2],source:m[3]}),m[0]==="selection-change"&&e.emit("editorChange",{name:m[0],range:m[1],oldRange:m[2],source:m[3]})},b=()=>i.value,E=()=>{var m;return(m=n?.getModule("toolbar"))===null||m===void 0?void 0:m.container},_=()=>{if(n)return n;throw`The quill editor hasn't been instantiated yet,
                  make sure to call this method when the editor ready
                  or use v-on:ready="onReady(quill)" event instead.`},v=(m,I)=>t.contentType==="html"?x():t.contentType==="text"?g(m,I):n?.getContents(m,I),y=(m,I="api")=>{const O=m||(t.contentType==="delta"?new dh:"");t.contentType==="html"?S(O):t.contentType==="text"?T(O,I):n?.setContents(O,I),c=a(O)},g=(m,I)=>{var O;return(O=n?.getText(m,I))!==null&&O!==void 0?O:""},T=(m,I="api")=>{n?.setText(m,I)},x=()=>{var m;return(m=n?.root.innerHTML)!==null&&m!==void 0?m:""},S=m=>{n&&(n.root.innerHTML=m)},A=(m,I="api")=>{const O=n?.clipboard.convert(m);O&&n?.setContents(O,I)},C=()=>{n?.focus()},R=()=>{ha(()=>{var m;!e.slots.toolbar&&n&&((m=n.getModule("toolbar"))===null||m===void 0||m.container.remove()),s()})};return es(()=>t.content,m=>{if(!n||!m||f(m))return;const I=n.getSelection();I&&ha(()=>n?.setSelection(I)),y(m)},{deep:!0}),es(()=>t.enable,m=>{n&&n.enable(m)}),{editor:i,getEditor:b,getToolbar:E,getQuill:_,getContents:v,setContents:y,getHTML:x,setHTML:S,pasteHTML:A,focus:C,getText:g,setText:T,reinit:R}},render(){var t,e;return[(e=(t=this.$slots).toolbar)===null||e===void 0?void 0:e.call(t),gf("div",{ref:"editor",...this.$attrs})]}}),QO={class:"container"},YO={class:"headerRow"},XO={class:"titleSection"},JO={key:0,class:"addForm"},ZO={class:"fileInputWrapper"},eP={class:"editorWrapper"},tP={class:"fileInputWrapper"},nP=["disabled"],rP={key:0,class:"statusText"},iP={class:"gridContainer"},sP="dzj4k39q5",oP="unique_preset",aP={__name:"ListView",setup(t){const e=[[{header:[1,2,3,!1]}],["bold","underline","strike"],[{color:[]},{background:[]}],[{list:"ordered"},{list:"bullet"}],["divider"],["clean"]],n=Ze([]),r=Ze(null),i=Ze(!1),s=Ze(!1),o=Ze(""),a=Ze("newest"),l=Ze(null),c=Ze(null),f=Ze([]),h=vo({name:"",description:"",image:""}),d=Wt(()=>[...n.value].sort((g,T)=>{if(a.value==="newest")return(T.createdAt||0)-(g.createdAt||0);if(a.value==="oldest")return(g.createdAt||0)-(T.createdAt||0);if(a.value==="az")return g.name.localeCompare(T.name);if(a.value==="za")return T.name.localeCompare(g.name)})),p=()=>{confirm("Are you sure? This will clear all text.")&&(h.description="",l.value&&l.value.setHTML(""))},w=g=>{c.value=g.target.files[0]},b=g=>{f.value=Array.from(g.target.files)},E=async g=>{const T=new FormData;T.append("file",g),T.append("upload_preset",oP);const x=await fetch(`https://api.cloudinary.com/v1_1/${sP}/image/upload`,{method:"POST",body:T});if(!x.ok)throw new Error("Upload failed");return(await x.json()).secure_url},_=async()=>{if(!h.name)return alert("Name is required");s.value=!0,o.value="Starting upload...";try{let g="https://via.placeholder.com/400";c.value&&(o.value="Uploading Cover Image...",g=await E(c.value));let T=[];f.value.length>0&&(o.value=`Uploading ${f.value.length} gallery images...`,T=await Promise.all(f.value.map(x=>E(x)))),o.value="Saving to Database...",await EA(sp(aa,"creatures"),{name:h.name,description:h.description,image:g,gallery:T,createdBy:r.value.uid,authorEmail:r.value.email,createdAt:Date.now()}),h.name="",h.description="",l.value&&l.value.setHTML(""),c.value=null,f.value=[],i.value=!1,o.value="",v()}catch(g){console.error(g),o.value="Error: "+g.message}finally{s.value=!1}},v=async()=>{const g=await vA(sp(aa,"creatures"));n.value=g.docs.map(T=>({id:T.id,...T.data()}))};_o(()=>{v(),ah(go,g=>r.value=g)});const y=g=>{g.getModule("toolbar").addHandler("divider",()=>{const x=g.getSelection(!0);g.insertEmbed(x.index,"divider",!0),g.setSelection(x.index+1)}),g.clipboard.addMatcher("IMG",(x,S)=>new dh),g.root.addEventListener("drop",x=>{x.dataTransfer?.files?.length>0&&(x.preventDefault(),alert(` Dragging images is disabled to protect the database.

Please use the Gallery upload below!`))})};return(g,T)=>{const x=Oa("QuillEditor");return Ge(),Xe("div",QO,[be("div",YO,[be("div",XO,[T[5]||(T[5]=be("h2",null,"Creature Catalog",-1)),ns(be("select",{"onUpdate:modelValue":T[0]||(T[0]=S=>a.value=S),class:"sortSelect"},[...T[4]||(T[4]=[be("option",{value:"newest"},"Newest to Oldest",-1),be("option",{value:"oldest"},"Oldest to Newest",-1),be("option",{value:"az"},"Name (A-Z)",-1),be("option",{value:"za"},"Name (Z-A)",-1)])],512),[[gE,a.value]])]),r.value?(Ge(),Xe("button",{key:0,onClick:T[1]||(T[1]=S=>i.value=!i.value),class:"btn btnPrimary"},cn(i.value?"Cancel":"+ Add New"),1)):nn("",!0)]),i.value&&r.value?(Ge(),Xe("div",JO,[T[7]||(T[7]=be("label",{class:"label"},"Name",-1)),ns(be("input",{"onUpdate:modelValue":T[2]||(T[2]=S=>h.name=S),placeholder:"Creature Name",class:"formInput"},null,512),[[oo,h.name]]),T[8]||(T[8]=be("label",{class:"label"},"Main Cover Image",-1)),be("div",ZO,[be("input",{type:"file",onChange:w,accept:"image/*",class:"formInput"},null,32)]),T[9]||(T[9]=be("label",{class:"label"},"Description & Details",-1)),be("div",eP,[mt(x,{ref_key:"myQuillEditor",ref:l,theme:"snow",content:h.description,"onUpdate:content":T[3]||(T[3]=S=>h.description=S),contentType:"html",toolbar:e,onReady:y},null,8,["content"]),be("div",{class:"editorFooter"},[be("button",{type:"button",onClick:p,class:"clearBtn"}," Clear all text ")])]),T[10]||(T[10]=be("label",{class:"label"},"Gallery (Extra Images)",-1)),be("div",tP,[be("input",{type:"file",onChange:b,multiple:"",accept:"image/*",class:"formInput"},null,32),T[6]||(T[6]=be("small",{style:{color:"#aaa"}},"Hold Ctrl/Cmd to select multiple files",-1))]),be("button",{onClick:_,class:"btn btnPrimary blockBtn",disabled:s.value},cn(s.value?"Uploading & Saving...":"Save Creature"),9,nP),o.value?(Ge(),Xe("p",rP,cn(o.value),1)):nn("",!0)])):nn("",!0),be("div",iP,[(Ge(!0),Xe(Pn,null,cc(d.value,S=>(Ge(),df(FO,{key:S.id,creature:S},null,8,["creature"]))),128))])])}}},lP=ki(aP,[["__scopeId","data-v-6428beaf"]]),uP={key:0,class:"container"},cP={key:0},fP={class:"detailLayout"},hP={class:"imageCol"},dP=["src"],pP={class:"infoCol"},gP={class:"creatureTitle"},mP={key:0,class:"authorText"},yP=["innerHTML"],vP={key:1,class:"adminActions"},_P={class:"permissionText"},bP={key:0,class:"gallerySection"},EP={class:"galleryGrid"},TP=["src","onClick"],wP={key:1,class:"editOverlay"},AP={class:"editContainer"},IP={key:0,class:"currentImagePreview"},SP=["src"],RP={class:"fileInputWrapper"},OP={class:"editorWrapper"},PP={key:1,class:"galleryManager"},CP=["src"],NP=["onClick"],kP={class:"fileInputWrapper"},xP={class:"btnRow",style:{"margin-top":"20px"}},DP=["disabled"],LP={key:2,class:"statusText"},MP="uniquecreadm1225@gmail.com",VP="dzj4k39q5",UP="unique_preset",FP={__name:"DetailView",setup(t){const e=[[{header:[1,2,3,!1]}],["bold","underline","strike"],[{color:[]},{background:[]}],[{list:"ordered"},{list:"bullet"}],["divider"],["clean"]],n=yO(),r=Ba(),i=Ze(null),s=Ze(null),o=Ze(!1),a=Ze(!1),l=Ze(""),c=Ze(null),f=vo({name:"",description:"",image:"",gallery:[]}),h=Ze(null),d=Ze([]),p=Wt(()=>s.value&&s.value.email===MP),w=Wt(()=>!s.value||!i.value?!1:!!(p.value||i.value.createdBy===s.value.uid));_o(async()=>{await b(),ah(go,m=>s.value=m)});const b=async()=>{const m=ul(aa,"creatures",n.params.id),I=await yA(m);I.exists()&&(i.value={id:I.id,...I.data()})},E=()=>{f.name=i.value.name,f.description=i.value.description,f.image=i.value.image,f.gallery=[...i.value.gallery||[]],o.value=!0},_=m=>{f.gallery.splice(m,1)},v=m=>h.value=m.target.files[0],y=m=>d.value=Array.from(m.target.files),g=async m=>{const I=new FormData;I.append("file",m),I.append("upload_preset",UP);const O=await fetch(`https://api.cloudinary.com/v1_1/${VP}/image/upload`,{method:"POST",body:I});if(!O.ok)throw new Error("Upload failed");return(await O.json()).secure_url},T=async()=>{a.value=!0,l.value="Processing...";try{if(h.value&&(l.value="Uploading new cover...",f.image=await g(h.value)),d.value.length>0){l.value="Uploading new gallery images...";const I=await Promise.all(d.value.map(O=>g(O)));f.gallery=[...f.gallery,...I]}l.value="Updating database...";const m=ul(aa,"creatures",n.params.id);await _A(m,{name:f.name,description:f.description,image:f.image,gallery:f.gallery}),await b(),o.value=!1,h.value=null,d.value=[],l.value=""}catch(m){console.error(m),l.value="Error: "+m.message}finally{a.value=!1}},x=async()=>{confirm("Are you sure? This cannot be undone.")&&(await bA(ul(aa,"creatures",n.params.id)),r.push("/list"))},S=m=>!m||!m.includes("cloudinary")?m||"https://via.placeholder.com/400":m.replace("/upload/","/upload/c_limit,w_1000/"),A=m=>!m||!m.includes("cloudinary")?m:m.replace("/upload/","/upload/c_fill,w_300,h_300/"),C=m=>window.open(m,"_blank"),R=m=>{m.getModule("toolbar").addHandler("divider",()=>{const O=m.getSelection(!0);m.insertEmbed(O.index,"divider",!0),m.setSelection(O.index+1)}),m.clipboard.addMatcher("IMG",(O,L)=>new dh),m.root.addEventListener("drop",O=>{O.dataTransfer?.files?.length>0&&(O.preventDefault(),alert("Please use the image uploader below."))})};return(m,I)=>{const O=Oa("QuillEditor");return i.value?(Ge(),Xe("div",uP,[o.value?(Ge(),Xe("div",wP,[be("div",AP,[I[5]||(I[5]=be("h2",null,"Edit Creature",-1)),I[6]||(I[6]=be("label",{class:"label"},"Name",-1)),ns(be("input",{"onUpdate:modelValue":I[0]||(I[0]=L=>f.name=L),class:"formInput"},null,512),[[oo,f.name]]),I[7]||(I[7]=be("label",{class:"label"},"Change Cover Image (Optional)",-1)),f.image?(Ge(),Xe("div",IP,[be("img",{src:f.image,style:{height:"50px","border-radius":"4px"}},null,8,SP),I[4]||(I[4]=be("small",null,"Current Cover",-1))])):nn("",!0),be("div",RP,[be("input",{type:"file",onChange:v,accept:"image/*",class:"formInput"},null,32)]),I[8]||(I[8]=be("label",{class:"label"},"Description",-1)),be("div",OP,[mt(O,{ref_key:"editQuillEditor",ref:c,theme:"snow",content:f.description,"onUpdate:content":I[1]||(I[1]=L=>f.description=L),contentType:"html",toolbar:e,onReady:R},null,8,["content"])]),I[9]||(I[9]=be("label",{class:"label"},"Manage Gallery",-1)),f.gallery.length>0?(Ge(),Xe("div",PP,[(Ge(!0),Xe(Pn,null,cc(f.gallery,(L,H)=>(Ge(),Xe("div",{key:H,class:"galleryThumb"},[be("img",{src:A(L)},null,8,CP),be("button",{onClick:X=>_(H),class:"removeImgBtn"},"X",8,NP)]))),128))])):nn("",!0),I[10]||(I[10]=be("label",{class:"label",style:{"margin-top":"15px"}},"Add More Images",-1)),be("div",kP,[be("input",{type:"file",onChange:y,multiple:"",accept:"image/*",class:"formInput"},null,32)]),be("div",xP,[be("button",{onClick:T,class:"btn btnSuccess",disabled:a.value},cn(a.value?"Saving...":"Save Changes"),9,DP),be("button",{onClick:I[2]||(I[2]=L=>o.value=!1),class:"btn",style:{background:"#444",color:"white"}},"Cancel")]),l.value?(Ge(),Xe("p",LP,cn(l.value),1)):nn("",!0)])])):(Ge(),Xe("div",cP,[be("div",fP,[be("div",hP,[be("img",{src:S(i.value.image),class:"detailImage"},null,8,dP)]),be("div",pP,[be("h1",gP,cn(i.value.name),1),i.value.authorEmail?(Ge(),Xe("p",mP,"Added by: "+cn(i.value.authorEmail),1)):nn("",!0),be("div",{class:"ql-editor descriptionContent",innerHTML:i.value.description},null,8,yP),w.value?(Ge(),Xe("div",vP,[be("p",_P," Actions available because you are "+cn(p.value?"an Admin":"the Creator")+". ",1),be("div",{class:"btnRow"},[be("button",{onClick:E,class:"btn btnEdit"},"Edit Creature"),be("button",{onClick:x,class:"btn btnDelete"},"Delete")])])):nn("",!0)])]),i.value.gallery&&i.value.gallery.length>0?(Ge(),Xe("div",bP,[I[3]||(I[3]=be("h3",{class:"galleryTitle"},"Gallery",-1)),be("div",EP,[(Ge(!0),Xe(Pn,null,cc(i.value.gallery,(L,H)=>(Ge(),Xe("div",{key:H,class:"galleryItem"},[be("img",{src:A(L),onClick:X=>C(L)},null,8,TP)]))),128))])])):nn("",!0)]))])):nn("",!0)}}},jP=ki(FP,[["__scopeId","data-v-4789c665"]]),BP={class:"container loginContainer"},qP={key:0,class:"errorText"},HP={__name:"LoginView",setup(t){const e=Ze(""),n=Ze(""),r=Ze(""),i=Ba(),s=async()=>{r.value="";try{await EI(go,e.value,n.value),i.push("/list")}catch{r.value="Invalid email or password."}};return(o,a)=>(Ge(),Xe("div",BP,[a[3]||(a[3]=be("h2",null,"Login",-1)),be("form",{onSubmit:lm(s,["prevent"])},[ns(be("input",{"onUpdate:modelValue":a[0]||(a[0]=l=>e.value=l),type:"email",placeholder:"Email",class:"formInput",required:""},null,512),[[oo,e.value]]),ns(be("input",{"onUpdate:modelValue":a[1]||(a[1]=l=>n.value=l),type:"password",placeholder:"Password",class:"formInput",required:""},null,512),[[oo,n.value]]),a[2]||(a[2]=be("button",{type:"submit",class:"btn btnPrimary blockBtn"},"Login",-1)),r.value?(Ge(),Xe("p",qP,cn(r.value),1)):nn("",!0)],32)]))}},zP=ki(HP,[["__scopeId","data-v-28a25a4d"]]),KP={class:"container createContainer"},GP=["disabled"],WP={key:0,class:"successText"},$P={key:1,class:"errorText"},QP="uniquecreadm1225@gmail.com",YP={__name:"CreateUserView",setup(t){const e=Ze(""),n=Ze(""),r=Ze(""),i=Ze(""),s=Ze(!1),o=Ba();_o(()=>{const l=go.currentUser;(!l||l.email!==QP)&&(alert("Access Denied: Admins Only"),o.push("/"))});const a=async()=>{r.value="",i.value="",s.value=!0;const c=bf(Vv,"secondaryApp"),f=xv(c);try{await bI(f,e.value,n.value),await Tv(f),i.value=`Success! Account created for ${e.value}`,e.value="",n.value=""}catch(h){h.code==="auth/email-already-in-use"?r.value="That email is already registered.":h.code==="auth/weak-password"?r.value="Password must be at least 6 chars.":r.value=h.message}finally{W0(c),s.value=!1}};return(l,c)=>(Ge(),Xe("div",KP,[c[4]||(c[4]=be("h2",null,"Create New Creator",-1)),c[5]||(c[5]=be("p",{class:"subtitle"},"Only you (Admin) can see this.",-1)),be("form",{onSubmit:lm(a,["prevent"])},[c[2]||(c[2]=be("label",{class:"label"},"New Creator Email",-1)),ns(be("input",{"onUpdate:modelValue":c[0]||(c[0]=f=>e.value=f),type:"email",placeholder:"friend@example.com",class:"formInput",required:""},null,512),[[oo,e.value]]),c[3]||(c[3]=be("label",{class:"label"},"Assign Password",-1)),ns(be("input",{"onUpdate:modelValue":c[1]||(c[1]=f=>n.value=f),type:"password",placeholder:"Min 6 characters",class:"formInput",required:""},null,512),[[oo,n.value]]),be("button",{type:"submit",class:"btn btnPrimary blockBtn",disabled:s.value},cn(s.value?"Creating...":"Create Account"),9,GP),i.value?(Ge(),Xe("p",WP,cn(i.value),1)):nn("",!0),r.value?(Ge(),Xe("p",$P,cn(r.value),1)):nn("",!0)],32)]))}},XP=ki(YP,[["__scopeId","data-v-83e63cc3"]]),JP=mO({history:$R(),routes:[{path:"/",name:"home",component:xO},{path:"/list",name:"list",component:lP},{path:"/creature/:id",name:"detail",component:jP},{path:"/login",name:"login",component:zP},{path:"/create-user",name:"create-user",component:XP}]}),ZP=ua.import("blots/block/embed");class ph extends ZP{static create(){let e=super.create();return e.setAttribute("contenteditable","false"),e}}ph.blotName="divider";ph.tagName="hr";ua.register(ph);const gh=bE(PO);gh.component("QuillEditor",$O);gh.use(JP);gh.mount("#app");
